var Fr=Object.defineProperty;var qr=(s,t,r)=>t in s?Fr(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r;var bs=(s,t,r)=>qr(s,typeof t!="symbol"?t+"":t,r);import{r as m,a as Ut,R as Vr,b as Fe}from"./vendor-C1JoJ-56.js";import{c as Ft,_ as Br}from"./supabase-B7vP6efo.js";import{C as at,X as ue,M as Bs,D as De,A as Wr,a as cs,b as qe,U as ie,B as lt,c as Ue,L as Ws,E as Gs,d as Ke,S as Me,e as Gr,H as Ie,P as ds,f as je,g as ke,h as ns,i as Hs,j as nt,T as Je,k as be,l as qt,m as ms,n as Ye,o as pt,p as Ys,q as is,r as ws,F as Es,s as os,G as Cs,t as Vt,u as Hr,v as Yr,w as Kr,x as Jr,y as it,z as Bt,I as _s,J as Wt,K as Xr,N as Qr,O as bt,Q as Ps,R as Ss,V as Zr,W as Ge,Y as js,Z as As}from"./ui-DRkL5ZQc.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(l){if(l.ep)return;l.ep=!0;const n=r(l);fetch(l.href,n)}})();var Gt={exports:{}},Ts={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ea=m,sa=Symbol.for("react.element"),ta=Symbol.for("react.fragment"),ra=Object.prototype.hasOwnProperty,aa=ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,la={key:!0,ref:!0,__self:!0,__source:!0};function Ht(s,t,r){var a,l={},n=null,i=null;r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),t.ref!==void 0&&(i=t.ref);for(a in t)ra.call(t,a)&&!la.hasOwnProperty(a)&&(l[a]=t[a]);if(s&&s.defaultProps)for(a in t=s.defaultProps,t)l[a]===void 0&&(l[a]=t[a]);return{$$typeof:sa,type:s,key:n,ref:i,props:l,_owner:aa.current}}Ts.Fragment=ta;Ts.jsx=Ht;Ts.jsxs=Ht;Gt.exports=Ts;var e=Gt.exports,Ks={},jt=Ut;Ks.createRoot=jt.createRoot,Ks.hydrateRoot=jt.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xs(){return xs=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=r[a])}return s},xs.apply(this,arguments)}var Te;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Te||(Te={}));const yt="popstate";function na(s){s===void 0&&(s={});function t(a,l){let{pathname:n,search:i,hash:o}=a.location;return Js("",{pathname:n,search:i,hash:o},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(a,l){return typeof l=="string"?l:Rs(l)}return oa(t,r,null,s)}function re(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Yt(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ia(){return Math.random().toString(36).substr(2,8)}function vt(s,t){return{usr:s.state,key:s.key,idx:t}}function Js(s,t,r,a){return r===void 0&&(r=null),xs({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof t=="string"?Qe(t):t,{state:r,key:t&&t.key||a||ia()})}function Rs(s){let{pathname:t="/",search:r="",hash:a=""}=s;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Qe(s){let t={};if(s){let r=s.indexOf("#");r>=0&&(t.hash=s.substr(r),s=s.substr(0,r));let a=s.indexOf("?");a>=0&&(t.search=s.substr(a),s=s.substr(0,a)),s&&(t.pathname=s)}return t}function oa(s,t,r,a){a===void 0&&(a={});let{window:l=document.defaultView,v5Compat:n=!1}=a,i=l.history,o=Te.Pop,c=null,d=h();d==null&&(d=0,i.replaceState(xs({},i.state,{idx:d}),""));function h(){return(i.state||{idx:null}).idx}function u(){o=Te.Pop;let b=h(),x=b==null?null:b-d;d=b,c&&c({action:o,location:N.location,delta:x})}function f(b,x){o=Te.Push;let p=Js(N.location,b,x);d=h()+1;let v=vt(p,d),y=N.createHref(p);try{i.pushState(v,"",y)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;l.location.assign(y)}n&&c&&c({action:o,location:N.location,delta:1})}function j(b,x){o=Te.Replace;let p=Js(N.location,b,x);d=h();let v=vt(p,d),y=N.createHref(p);i.replaceState(v,"",y),n&&c&&c({action:o,location:N.location,delta:0})}function g(b){let x=l.location.origin!=="null"?l.location.origin:l.location.href,p=typeof b=="string"?b:Rs(b);return p=p.replace(/ $/,"%20"),re(x,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,x)}let N={get action(){return o},get location(){return s(l,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(yt,u),c=b,()=>{l.removeEventListener(yt,u),c=null}},createHref(b){return t(l,b)},createURL:g,encodeLocation(b){let x=g(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:j,go(b){return i.go(b)}};return N}var Nt;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(Nt||(Nt={}));function ca(s,t,r){return r===void 0&&(r="/"),da(s,t,r)}function da(s,t,r,a){let l=typeof t=="string"?Qe(t):t,n=ot(l.pathname||"/",r);if(n==null)return null;let i=Kt(s);ma(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=wa(n);o=ya(i[c],d)}return o}function Kt(s,t,r,a){t===void 0&&(t=[]),r===void 0&&(r=[]),a===void 0&&(a="");let l=(n,i,o)=>{let c={relativePath:o===void 0?n.path||"":o,caseSensitive:n.caseSensitive===!0,childrenIndex:i,route:n};c.relativePath.startsWith("/")&&(re(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=Oe([a,c.relativePath]),h=r.concat(c);n.children&&n.children.length>0&&(re(n.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Kt(n.children,t,h,d)),!(n.path==null&&!n.index)&&t.push({path:d,score:ba(d,n.index),routesMeta:h})};return s.forEach((n,i)=>{var o;if(n.path===""||!((o=n.path)!=null&&o.includes("?")))l(n,i);else for(let c of Jt(n.path))l(n,i,c)}),t}function Jt(s){let t=s.split("/");if(t.length===0)return[];let[r,...a]=t,l=r.endsWith("?"),n=r.replace(/\?$/,"");if(a.length===0)return l?[n,""]:[n];let i=Jt(a.join("/")),o=[];return o.push(...i.map(c=>c===""?n:[n,c].join("/"))),l&&o.push(...i),o.map(c=>s.startsWith("/")&&c===""?"/":c)}function ma(s){s.sort((t,r)=>t.score!==r.score?r.score-t.score:ja(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const xa=/^:[\w-]+$/,ha=3,ua=2,ga=1,fa=10,pa=-2,wt=s=>s==="*";function ba(s,t){let r=s.split("/"),a=r.length;return r.some(wt)&&(a+=pa),t&&(a+=ua),r.filter(l=>!wt(l)).reduce((l,n)=>l+(xa.test(n)?ha:n===""?ga:fa),a)}function ja(s,t){return s.length===t.length&&s.slice(0,-1).every((a,l)=>a===t[l])?s[s.length-1]-t[t.length-1]:0}function ya(s,t,r){let{routesMeta:a}=s,l={},n="/",i=[];for(let o=0;o<a.length;++o){let c=a[o],d=o===a.length-1,h=n==="/"?t:t.slice(n.length)||"/",u=va({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),f=c.route;if(!u)return null;Object.assign(l,u.params),i.push({params:l,pathname:Oe([n,u.pathname]),pathnameBase:Ea(Oe([n,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(n=Oe([n,u.pathnameBase]))}return i}function va(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,a]=Na(s.path,s.caseSensitive,s.end),l=t.match(r);if(!l)return null;let n=l[0],i=n.replace(/(.)\/+$/,"$1"),o=l.slice(1);return{params:a.reduce((d,h,u)=>{let{paramName:f,isOptional:j}=h;if(f==="*"){let N=o[u]||"";i=n.slice(0,n.length-N.length).replace(/(.)\/+$/,"$1")}const g=o[u];return j&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:n,pathnameBase:i,pattern:s}}function Na(s,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Yt(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function wa(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yt(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),s}}function ot(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=s.charAt(r);return a&&a!=="/"?null:s.slice(r)||"/"}function _a(s,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:l=""}=typeof s=="string"?Qe(s):s;return{pathname:r?r.startsWith("/")?r:Sa(r,t):t,search:Ca(a),hash:Pa(l)}}function Sa(s,t){let r=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Us(s,t,r,a){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ka(s){return s.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ct(s,t){let r=ka(s);return t?r.map((a,l)=>l===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function dt(s,t,r,a){a===void 0&&(a=!1);let l;typeof s=="string"?l=Qe(s):(l=xs({},s),re(!l.pathname||!l.pathname.includes("?"),Us("?","pathname","search",l)),re(!l.pathname||!l.pathname.includes("#"),Us("#","pathname","hash",l)),re(!l.search||!l.search.includes("#"),Us("#","search","hash",l)));let n=s===""||l.pathname==="",i=n?"/":l.pathname,o;if(i==null)o=r;else{let u=t.length-1;if(!a&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),u-=1;l.pathname=f.join("/")}o=u>=0?t[u]:"/"}let c=_a(l,o),d=i&&i!=="/"&&i.endsWith("/"),h=(n||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const Oe=s=>s.join("/").replace(/\/\/+/g,"/"),Ea=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Ca=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Pa=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Ra(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Xt=["post","put","patch","delete"];new Set(Xt);const Ia=["get",...Xt];new Set(Ia);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hs(){return hs=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=r[a])}return s},hs.apply(this,arguments)}const mt=m.createContext(null),Ta=m.createContext(null),Le=m.createContext(null),Ms=m.createContext(null),ze=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Qt=m.createContext(null);function Ma(s,t){let{relative:r}=t===void 0?{}:t;Ze()||re(!1);let{basename:a,navigator:l}=m.useContext(Le),{hash:n,pathname:i,search:o}=er(s,{relative:r}),c=i;return a!=="/"&&(c=i==="/"?a:Oe([a,i])),l.createHref({pathname:c,search:o,hash:n})}function Ze(){return m.useContext(Ms)!=null}function Ve(){return Ze()||re(!1),m.useContext(Ms).location}function Zt(s){m.useContext(Le).static||m.useLayoutEffect(s)}function gs(){let{isDataRoute:s}=m.useContext(ze);return s?Ga():Oa()}function Oa(){Ze()||re(!1);let s=m.useContext(mt),{basename:t,future:r,navigator:a}=m.useContext(Le),{matches:l}=m.useContext(ze),{pathname:n}=Ve(),i=JSON.stringify(ct(l,r.v7_relativeSplatPath)),o=m.useRef(!1);return Zt(()=>{o.current=!0}),m.useCallback(function(d,h){if(h===void 0&&(h={}),!o.current)return;if(typeof d=="number"){a.go(d);return}let u=dt(d,JSON.parse(i),n,h.relative==="path");s==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Oe([t,u.pathname])),(h.replace?a.replace:a.push)(u,h.state,h)},[t,a,i,n,s])}function er(s,t){let{relative:r}=t===void 0?{}:t,{future:a}=m.useContext(Le),{matches:l}=m.useContext(ze),{pathname:n}=Ve(),i=JSON.stringify(ct(l,a.v7_relativeSplatPath));return m.useMemo(()=>dt(s,JSON.parse(i),n,r==="path"),[s,i,n,r])}function Da(s,t){return La(s,t)}function La(s,t,r,a){Ze()||re(!1);let{navigator:l}=m.useContext(Le),{matches:n}=m.useContext(ze),i=n[n.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Ve(),h;if(t){var u;let b=typeof t=="string"?Qe(t):t;c==="/"||(u=b.pathname)!=null&&u.startsWith(c)||re(!1),h=b}else h=d;let f=h.pathname||"/",j=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");j="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=ca(s,{pathname:j}),N=Fa(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Oe([c,l.encodeLocation?l.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Oe([c,l.encodeLocation?l.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),n,r,a);return t&&N?m.createElement(Ms.Provider,{value:{location:hs({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Te.Pop}},N):N}function za(){let s=Wa(),t=Ra(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:l},r):null,null)}const $a=m.createElement(za,null);class Aa extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(ze.Provider,{value:this.props.routeContext},m.createElement(Qt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ua(s){let{routeContext:t,match:r,children:a}=s,l=m.useContext(mt);return l&&l.static&&l.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(ze.Provider,{value:t},a)}function Fa(s,t,r,a){var l;if(t===void 0&&(t=[]),r===void 0&&(r=null),a===void 0&&(a=null),s==null){var n;if(!r)return null;if(r.errors)s=r.matches;else if((n=a)!=null&&n.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let i=s,o=(l=r)==null?void 0:l.errors;if(o!=null){let h=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);h>=0||re(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let h=0;h<i.length;h++){let u=i[h];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(d=h),u.route.id){let{loaderData:f,errors:j}=r,g=u.route.loader&&f[u.route.id]===void 0&&(!j||j[u.route.id]===void 0);if(u.route.lazy||g){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((h,u,f)=>{let j,g=!1,N=null,b=null;r&&(j=o&&u.route.id?o[u.route.id]:void 0,N=u.route.errorElement||$a,c&&(d<0&&f===0?(Ha("route-fallback"),g=!0,b=null):d===f&&(g=!0,b=u.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,f+1)),p=()=>{let v;return j?v=N:g?v=b:u.route.Component?v=m.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=h,m.createElement(Ua,{match:u,routeContext:{outlet:h,matches:x,isDataRoute:r!=null},children:v})};return r&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?m.createElement(Aa,{location:r.location,revalidation:r.revalidation,component:N,error:j,children:p(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):p()},null)}var sr=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(sr||{}),tr=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(tr||{});function qa(s){let t=m.useContext(mt);return t||re(!1),t}function Va(s){let t=m.useContext(Ta);return t||re(!1),t}function Ba(s){let t=m.useContext(ze);return t||re(!1),t}function rr(s){let t=Ba(),r=t.matches[t.matches.length-1];return r.route.id||re(!1),r.route.id}function Wa(){var s;let t=m.useContext(Qt),r=Va(),a=rr();return t!==void 0?t:(s=r.errors)==null?void 0:s[a]}function Ga(){let{router:s}=qa(sr.UseNavigateStable),t=rr(tr.UseNavigateStable),r=m.useRef(!1);return Zt(()=>{r.current=!0}),m.useCallback(function(l,n){n===void 0&&(n={}),r.current&&(typeof l=="number"?s.navigate(l):s.navigate(l,hs({fromRouteId:t},n)))},[s,t])}const _t={};function Ha(s,t,r){_t[s]||(_t[s]=!0)}function Ya(s,t){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function Ka(s){let{to:t,replace:r,state:a,relative:l}=s;Ze()||re(!1);let{future:n,static:i}=m.useContext(Le),{matches:o}=m.useContext(ze),{pathname:c}=Ve(),d=gs(),h=dt(t,ct(o,n.v7_relativeSplatPath),c,l==="path"),u=JSON.stringify(h);return m.useEffect(()=>d(JSON.parse(u),{replace:r,state:a,relative:l}),[d,u,l,r,a]),null}function ne(s){re(!1)}function Ja(s){let{basename:t="/",children:r=null,location:a,navigationType:l=Te.Pop,navigator:n,static:i=!1,future:o}=s;Ze()&&re(!1);let c=t.replace(/^\/*/,"/"),d=m.useMemo(()=>({basename:c,navigator:n,static:i,future:hs({v7_relativeSplatPath:!1},o)}),[c,o,n,i]);typeof a=="string"&&(a=Qe(a));let{pathname:h="/",search:u="",hash:f="",state:j=null,key:g="default"}=a,N=m.useMemo(()=>{let b=ot(h,c);return b==null?null:{location:{pathname:b,search:u,hash:f,state:j,key:g},navigationType:l}},[c,h,u,f,j,g,l]);return N==null?null:m.createElement(Le.Provider,{value:d},m.createElement(Ms.Provider,{children:r,value:N}))}function Xs(s){let{children:t,location:r}=s;return Da(Qs(t),r)}new Promise(()=>{});function Qs(s,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(s,(a,l)=>{if(!m.isValidElement(a))return;let n=[...t,l];if(a.type===m.Fragment){r.push.apply(r,Qs(a.props.children,n));return}a.type!==ne&&re(!1),!a.props.index||!a.props.children||re(!1);let i={id:a.props.id||n.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=Qs(a.props.children,n)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zs(){return Zs=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=r[a])}return s},Zs.apply(this,arguments)}function Xa(s,t){if(s==null)return{};var r={},a=Object.keys(s),l,n;for(n=0;n<a.length;n++)l=a[n],!(t.indexOf(l)>=0)&&(r[l]=s[l]);return r}function Qa(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Za(s,t){return s.button===0&&(!t||t==="_self")&&!Qa(s)}function et(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((t,r)=>{let a=s[r];return t.concat(Array.isArray(a)?a.map(l=>[r,l]):[[r,a]])},[]))}function el(s,t){let r=et(s);return t&&t.forEach((a,l)=>{r.has(l)||t.getAll(l).forEach(n=>{r.append(l,n)})}),r}const sl=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tl="6";try{window.__reactRouterVersion=tl}catch{}const rl="startTransition",St=Vr[rl];function al(s){let{basename:t,children:r,future:a,window:l}=s,n=m.useRef();n.current==null&&(n.current=na({window:l,v5Compat:!0}));let i=n.current,[o,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:d}=a||{},h=m.useCallback(u=>{d&&St?St(()=>c(u)):c(u)},[c,d]);return m.useLayoutEffect(()=>i.listen(h),[i,h]),m.useEffect(()=>Ya(a),[a]),m.createElement(Ja,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:a})}const ll=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nl=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ys=m.forwardRef(function(t,r){let{onClick:a,relative:l,reloadDocument:n,replace:i,state:o,target:c,to:d,preventScrollReset:h,viewTransition:u}=t,f=Xa(t,sl),{basename:j}=m.useContext(Le),g,N=!1;if(typeof d=="string"&&nl.test(d)&&(g=d,ll))try{let v=new URL(window.location.href),y=d.startsWith("//")?new URL(v.protocol+d):new URL(d),k=ot(y.pathname,j);y.origin===v.origin&&k!=null?d=k+y.search+y.hash:N=!0}catch{}let b=Ma(d,{relative:l}),x=il(d,{replace:i,state:o,target:c,preventScrollReset:h,relative:l,viewTransition:u});function p(v){a&&a(v),v.defaultPrevented||x(v)}return m.createElement("a",Zs({},f,{href:g||b,onClick:N||n?a:p,ref:r,target:c}))});var kt;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(kt||(kt={}));var Et;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(Et||(Et={}));function il(s,t){let{target:r,replace:a,state:l,preventScrollReset:n,relative:i,viewTransition:o}=t===void 0?{}:t,c=gs(),d=Ve(),h=er(s,{relative:i});return m.useCallback(u=>{if(Za(u,r)){u.preventDefault();let f=a!==void 0?a:Rs(d)===Rs(h);c(s,{replace:f,state:l,preventScrollReset:n,relative:i,viewTransition:o})}},[d,c,h,a,l,r,s,n,i,o])}function ar(s){let t=m.useRef(et(s)),r=m.useRef(!1),a=Ve(),l=m.useMemo(()=>el(a.search,r.current?null:t.current),[a.search]),n=gs(),i=m.useCallback((o,c)=>{const d=et(typeof o=="function"?o(l):o);r.current=!0,n("?"+d,c)},[n,l]);return[l,i]}const lr="https://wlrsoyujrmeviczczfsh.supabase.co",nr="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndscnNveXVqcm1ldmljemN6ZnNoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxNDM5NjUsImV4cCI6MjA2OTcxOTk2NX0.ZHepp6oDnIfG73nSERBGcgBis-iuumOvVlijUP4fu1Y";if(lr.includes("your-project")||nr.includes("your-anon-key"))throw new Error("ÌîÑÎ°úÎçïÏÖò ÌôòÍ≤ΩÏóêÏÑúÎäî Ïò¨Î∞îÎ•∏ Supabase ÌôòÍ≤Ω Î≥ÄÏàòÍ∞Ä ÌïÑÏöîÌï©ÎãàÎã§.");let Fs=null;const E=(Fs||(Fs=Ft(lr,nr,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"sb-auth-token"}})),Fs);class ol{formatMessage(t,r,a){const n={timestamp:new Date().toISOString(),level:t.toLowerCase(),message:r,...a};return JSON.stringify(n)}shouldLog(t){return t==="WARN"||t==="ERROR"}debug(t,r){this.shouldLog("DEBUG")&&console.debug(this.formatMessage("DEBUG",t,r))}info(t,r){this.shouldLog("INFO")&&console.info(this.formatMessage("INFO",t,r))}warn(t,r){this.shouldLog("WARN")&&console.warn(this.formatMessage("WARN",t,r))}error(t,r){this.shouldLog("ERROR")&&console.error(this.formatMessage("ERROR",t,r))}devLog(t,...r){}}const F=new ol,ir=m.createContext(void 0),oe=()=>{const s=m.useContext(ir);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},cl=({children:s})=>{const[t,r]=m.useState(null),[a,l]=m.useState(null),[n,i]=m.useState(!0);m.useEffect(()=>{F.info("üîç Ïù∏Ï¶ù Ï¥àÍ∏∞Ìôî ÏãúÏûë"),(async()=>{var N,b;try{const x=new Promise((k,L)=>setTimeout(()=>L(new Error("Session check timeout")),5e3)),p=E.auth.getSession(),{data:{session:v},error:y}=await Promise.race([p,x]);if(y){F.error("Error getting session:",y),i(!1);return}if(l(v),v!=null&&v.user)try{const k=E.from("user_profiles").select("*").eq("id",v.user.id).single(),L=new Promise((R,q)=>setTimeout(()=>q(new Error("Profile fetch timeout")),3e3)),{data:z}=await Promise.race([k,L]);r({id:v.user.id,email:v.user.email,name:(z==null?void 0:z.name)||((N=v.user.user_metadata)==null?void 0:N.name)||"",role:(z==null?void 0:z.role)||"owner",tenant_id:v.user.id,avatar_url:(z==null?void 0:z.avatar_url)||null,created_at:v.user.created_at,last_sign_in_at:v.user.last_sign_in_at||null})}catch(k){F.error("Error fetching profile:",{error:k}),r({id:v.user.id,email:v.user.email,name:((b=v.user.user_metadata)==null?void 0:b.name)||v.user.email,role:"owner",tenant_id:v.user.id,avatar_url:null,created_at:v.user.created_at,last_sign_in_at:v.user.last_sign_in_at||null})}}catch(x){F.error("Error in getSession:",{error:x})}finally{i(!1)}})();const{data:{subscription:g}}=E.auth.onAuthStateChange(async(N,b)=>{var x,p,v,y;if(F.info("üîê Auth state changed:",{event:N,userId:(x=b==null?void 0:b.user)==null?void 0:x.id,userEmail:(p=b==null?void 0:b.user)==null?void 0:p.email}),l(b),b!=null&&b.user)try{const k=E.from("user_profiles").select("*").eq("id",b.user.id).single(),L=new Promise((R,q)=>setTimeout(()=>q(new Error("Profile fetch timeout")),3e3)),{data:z}=await Promise.race([k,L]);r({id:b.user.id,email:b.user.email,name:(z==null?void 0:z.name)||((v=b.user.user_metadata)==null?void 0:v.name)||"",role:(z==null?void 0:z.role)||"owner",tenant_id:b.user.id,avatar_url:(z==null?void 0:z.avatar_url)||null,created_at:b.user.created_at,last_sign_in_at:b.user.last_sign_in_at||null})}catch(k){F.error("Error fetching profile in auth state change:",{error:k}),r({id:b.user.id,email:b.user.email,name:((y=b.user.user_metadata)==null?void 0:y.name)||b.user.email,role:"owner",tenant_id:b.user.id,avatar_url:null,created_at:b.user.created_at,last_sign_in_at:b.user.last_sign_in_at||null})}else r(null);i(!1)});return()=>g.unsubscribe()},[]);const o=async j=>{try{const g=await E.auth.signUp({email:j.email,password:j.password,options:{data:{name:j.name,company:j.company}}});if(g.data.user&&!g.error)try{F.info("üë§ ÏÇ¨Ïö©ÏûêÎ≥Ñ ÎèÖÎ¶Ω ÌîÑÎ°úÌïÑ ÏÉùÏÑ±:",{userId:g.data.user.id});const{error:N}=await E.from("user_profiles").insert({id:g.data.user.id,email:j.email,name:j.name,role:"owner",tenant_id:g.data.user.id});N?F.error("Error creating user profile:",{error:N}):F.info("‚úÖ ÏÇ¨Ïö©ÏûêÎ≥Ñ ÎèÖÎ¶Ω ÌîÑÎ°úÌïÑ ÏÉùÏÑ± ÏôÑÎ£å")}catch(N){F.error("Error in profile creation process:",{error:N})}return g}catch(g){return F.error("Sign up error:",{error:g}),{user:null,error:g}}},c=async j=>{try{return await E.auth.signInWithPassword({email:j.email,password:j.password})}catch(g){return F.error("Sign in error:",{error:g}),{user:null,error:g}}},d=async()=>{try{const j=await E.auth.signOut();return r(null),l(null),j}catch(j){return F.error("Sign out error:",{error:j}),{error:j}}},h=async j=>{try{return await E.auth.resetPasswordForEmail(j,{redirectTo:`${window.location.origin}/reset-password`})}catch(g){return F.error("Reset password error:",{error:g}),{error:g}}},u=async()=>{var j,g;try{if(F.info("üîç getCurrentUser Ìò∏Ï∂úÎê®"),t&&!n)return F.info("‚úÖ Ïª®ÌÖçÏä§Ìä∏ÏóêÏÑú ÏÇ¨Ïö©Ïûê Î∞òÌôò",{userId:t.id}),t;F.info("üîÑ Supabase ÏÑ∏ÏÖò ÏÉàÎ°úÍ≥†Ïπ® ÏãúÎèÑ...");const{data:N,error:b}=await E.auth.refreshSession();b?F.warn("‚ö†Ô∏è ÏÑ∏ÏÖò ÏÉàÎ°úÍ≥†Ïπ® Ïã§Ìå®, ÏßÅÏ†ë ÏÇ¨Ïö©Ïûê ÌôïÏù∏:",{error:b.message}):N.session&&F.info("‚úÖ ÏÑ∏ÏÖò ÏÉàÎ°úÍ≥†Ïπ® ÏÑ±Í≥µ");const{data:{user:x},error:p}=await E.auth.getUser();if(p||!x)return F.error("‚ùå getCurrentUser Ïã§Ìå®:",{error:p==null?void 0:p.message}),null;try{const{data:v}=await E.from("user_profiles").select("*").eq("id",x.id).single(),y={id:x.id,email:x.email,name:(v==null?void 0:v.name)||((j=x.user_metadata)==null?void 0:j.name)||"",role:(v==null?void 0:v.role)||"owner",tenant_id:x.id,avatar_url:(v==null?void 0:v.avatar_url)||null,created_at:x.created_at,last_sign_in_at:x.last_sign_in_at||null};return F.info("‚úÖ getCurrentUser ÏÑ±Í≥µ:",{userId:y.id}),y}catch(v){return F.error("ÌîÑÎ°úÌïÑ Ï°∞Ìöå Ïã§Ìå®, Í∏∞Î≥∏ ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Î∞òÌôò:",{error:v}),{id:x.id,email:x.email,name:((g=x.user_metadata)==null?void 0:g.name)||x.email,role:"owner",tenant_id:x.id,avatar_url:null,created_at:x.created_at,last_sign_in_at:x.last_sign_in_at||null}}}catch(N){return F.error("getCurrentUser Ï†ÑÏ≤¥ Ïã§Ìå®:",{error:N}),null}},f=m.useMemo(()=>({user:t,session:a,loading:n,signUp:o,signIn:c,signOut:d,resetPassword:h,getCurrentUser:u}),[t,a,n]);return e.jsx(ir.Provider,{value:f,children:s})},or=m.createContext(null),dl=({children:s})=>{const{user:t}=oe(),[r,a]=m.useState(null),[l,n]=m.useState(!1),[i,o]=m.useState(null),c=async b=>{n(!0);try{const{data:x,error:p}=await E.from("tenants").select("*").eq("id",b).single();if(p)throw p;a(x),o(null)}catch(x){console.error("Failed to switch tenant:",x),o("ÌÖåÎÑåÌä∏ Ï†ÑÌôòÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{n(!1)}},d=async b=>{if(r){n(!0);try{const{data:x,error:p}=await E.from("tenants").update(b).eq("id",r.id).select().single();if(p)throw p;a(x),o(null)}catch(x){console.error("Failed to update tenant:",x),o("ÌÖåÎÑåÌä∏ ÏóÖÎç∞Ïù¥Ìä∏Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{n(!1)}}},h=async()=>{if(!r)return{total_properties:0,active_properties:0,total_users:0,active_users:0,storage_used_mb:0,api_calls_this_month:0,created_this_month:0};try{const{data:b,error:x}=await E.from("properties").select("id, status, created_at").eq("tenant_id",r.id);if(x)throw x;return{total_properties:b.length,active_properties:b.length,total_users:1,active_users:1,storage_used_mb:0,api_calls_this_month:0,created_this_month:b.filter(v=>{const y=new Date(v.created_at||Date.now()),k=new Date;return y.getMonth()===k.getMonth()&&y.getFullYear()===k.getFullYear()}).length}}catch(b){return console.error("Failed to get tenant stats:",b),{total_properties:0,active_properties:0,total_users:0,active_users:0,storage_used_mb:0,api_calls_this_month:0,created_this_month:0}}},u=b=>{var x,p;return((p=(x=r==null?void 0:r.limits)==null?void 0:x.features_enabled)==null?void 0:p.includes(b))||!1},f=()=>(r!=null&&r.limits,!0),j=()=>(r!=null&&r.limits,!0),g=b=>(r!=null&&r.limits,!0);m.useEffect(()=>{console.log("üè¢ TenantContext useEffect Ïã§Ìñâ:",{user:t==null?void 0:t.id,tenant:r==null?void 0:r.id}),t&&!r&&(console.log("üè¢ ÏÇ¨Ïö©ÏûêÎ≥Ñ Í∞úÎ≥Ñ ÌÖåÎÑåÌä∏ ÏÑ§Ï†ï ÏãúÏûë:",t.id),(async()=>{n(!0);try{console.log("üîç Í∏∞Ï°¥ ÌÖåÎÑåÌä∏ Ï°∞Ìöå Ï§ë:",t.id);const{data:x,error:p}=await E.from("tenants").select("*").eq("id",t.id).single();if(console.log("üîç Ï°∞Ìöå Í≤∞Í≥º:",{existingTenant:x,queryError:p}),x&&!p){const v={...x,branding:{primary_color:"#3b82f6",secondary_color:"#1d4ed8",accent_color:"#f59e0b"},limits:{max_properties:50,max_users:2,max_storage_gb:1,max_api_calls_per_month:1e3,features_enabled:["basic"]},settings:{timezone:"Asia/Seoul",date_format:"YYYY-MM-DD",currency:"KRW",language:"ko",require_exit_date:!0,require_landlord_info:!0,email_notifications:!0,sms_notifications:!1,browser_notifications:!0,require_2fa:!1,session_timeout_minutes:480}};a(v),o(null),console.log("‚úÖ Í∏∞Ï°¥ ÌÖåÎÑåÌä∏ Ï°∞Ìöå ÏôÑÎ£å:",x.name),n(!1);return}}catch(x){console.log("üîç Í∏∞Ï°¥ ÌÖåÎÑåÌä∏ Ï°∞Ìöå Ï§ë Ïò§Î•ò:",x),console.log("üîß Ïò§Î•òÎ°ú Ïù∏Ìïú Î™®ÏÇ¨ ÌÖåÎÑåÌä∏ Îç∞Ïù¥ÌÑ∞ ÏÇ¨Ïö©");const p={id:t.id,name:`${t.name||"ÏÇ¨Ïö©Ïûê"}Ïùò Î∂ÄÎèôÏÇ∞`,slug:`user-${t.id}`,plan:"starter",status:"active",branding:{primary_color:"#3b82f6",secondary_color:"#1d4ed8",accent_color:"#f59e0b"},limits:{max_properties:50,max_users:2,max_storage_gb:1,max_api_calls_per_month:1e3,features_enabled:["basic"]},settings:{timezone:"Asia/Seoul",date_format:"YYYY-MM-DD",currency:"KRW",language:"ko",require_exit_date:!0,require_landlord_info:!0,email_notifications:!0,sms_notifications:!1,browser_notifications:!0,require_2fa:!1,session_timeout_minutes:480},created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:t.id};a(p),o(null),n(!1);return}console.log("üìù ÏÉà ÌÖåÎÑåÌä∏ ÏÉùÏÑ± ÌïÑÏöî");try{const x={id:t.id,name:"PropertyDesk Î≤†ÌÉÄ"};console.log("üìù ÌÖåÎÑåÌä∏ ÏÉùÏÑ± ÏãúÏûë:",x);const{data:p,error:v}=await E.from("tenants").insert(x).select().single();if(console.log("üìù ÌÖåÎÑåÌä∏ ÏÉùÏÑ± Í≤∞Í≥º:",{newTenant:p,createError:v}),v)throw console.error("‚ùå ÌÖåÎÑåÌä∏ ÏÉùÏÑ± Ïã§Ìå®:",v),v;const y={...p,branding:{primary_color:"#3b82f6",secondary_color:"#1d4ed8",accent_color:"#f59e0b"},limits:{max_properties:1e3,max_users:10,max_storage_gb:10,max_api_calls_per_month:5e4,features_enabled:["advanced_analytics","api_access","custom_fields"]},settings:{timezone:"Asia/Seoul",date_format:"YYYY-MM-DD",currency:"KRW",language:"ko",require_exit_date:!0,require_landlord_info:!0,email_notifications:!0,sms_notifications:!1,browser_notifications:!0,require_2fa:!1,session_timeout_minutes:480}};a(y),o(null),console.log("‚úÖ ÏÉà ÌÖåÎÑåÌä∏ ÏÉùÏÑ± ÏôÑÎ£å:",p.name,"User ID:",t.id)}catch(x){console.error("‚ùå ÌÖåÎÑåÌä∏ Ï¥àÍ∏∞Ìôî Ïã§Ìå®:",x),a(null),o("ÌÖåÎÑåÌä∏ Ï¥àÍ∏∞ÌôîÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{n(!1)}})())},[t,r]),m.useEffect(()=>{if(r!=null&&r.branding){const b=document.documentElement;if(b.style.setProperty("--tenant-primary",r.branding.primary_color),b.style.setProperty("--tenant-secondary",r.branding.secondary_color||"#6b7280"),b.style.setProperty("--tenant-accent",r.branding.accent_color||"#f59e0b"),r.branding.favicon_url){const x=document.querySelector('link[rel="icon"]');x&&(x.href=r.branding.favicon_url)}document.title=`${r.name} - PropertyDesk`}else{const b=document.documentElement;b.style.setProperty("--tenant-primary","#3b82f6"),b.style.setProperty("--tenant-secondary","#6b7280"),b.style.setProperty("--tenant-accent","#f59e0b"),document.title="PropertyDesk - Î∂ÄÎèôÏÇ∞ Í¥ÄÎ¶¨ ÌîåÎû´Ìèº"}},[r]);const N={tenant:r,isLoading:l,error:i,switchTenant:c,updateTenant:d,getTenantStats:h,hasFeature:u,canCreateProperty:f,canInviteUser:j,isWithinLimits:g};return e.jsx(or.Provider,{value:N,children:s})},es=()=>{const s=m.useContext(or);if(!s)throw new Error("useTenantÎäî TenantProvider ÎÇ¥ÏóêÏÑú ÏÇ¨Ïö©ÎêòÏñ¥Ïïº Ìï©ÎãàÎã§.");return s};function cr(s){var t,r,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s)){var l=s.length;for(t=0;t<l;t++)s[t]&&(r=cr(s[t]))&&(a&&(a+=" "),a+=r)}else for(r in s)s[r]&&(a&&(a+=" "),a+=r);return a}function dr(){for(var s,t,r=0,a="",l=arguments.length;r<l;r++)(s=arguments[r])&&(t=cr(s))&&(a&&(a+=" "),a+=t);return a}const Ct=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,Pt=dr,fs=(s,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return Pt(s,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:l,defaultVariants:n}=t,i=Object.keys(l).map(d=>{const h=r==null?void 0:r[d],u=n==null?void 0:n[d];if(h===null)return null;const f=Ct(h)||Ct(u);return l[d][f]}),o=r&&Object.entries(r).reduce((d,h)=>{let[u,f]=h;return f===void 0||(d[u]=f),d},{}),c=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((d,h)=>{let{class:u,className:f,...j}=h;return Object.entries(j).every(g=>{let[N,b]=g;return Array.isArray(b)?b.includes({...n,...o}[N]):{...n,...o}[N]===b})?[...d,u,f]:d},[]);return Pt(s,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},xt="-",ml=s=>{const t=hl(s),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=s;return{getClassGroupId:i=>{const o=i.split(xt);return o[0]===""&&o.length!==1&&o.shift(),mr(o,t)||xl(i)},getConflictingClassGroupIds:(i,o)=>{const c=r[i]||[];return o&&a[i]?[...c,...a[i]]:c}}},mr=(s,t)=>{var i;if(s.length===0)return t.classGroupId;const r=s[0],a=t.nextPart.get(r),l=a?mr(s.slice(1),a):void 0;if(l)return l;if(t.validators.length===0)return;const n=s.join(xt);return(i=t.validators.find(({validator:o})=>o(n)))==null?void 0:i.classGroupId},Rt=/^\[(.+)\]$/,xl=s=>{if(Rt.test(s)){const t=Rt.exec(s)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},hl=s=>{const{theme:t,classGroups:r}=s,a={nextPart:new Map,validators:[]};for(const l in r)st(r[l],a,l,t);return a},st=(s,t,r,a)=>{s.forEach(l=>{if(typeof l=="string"){const n=l===""?t:It(t,l);n.classGroupId=r;return}if(typeof l=="function"){if(ul(l)){st(l(a),t,r,a);return}t.validators.push({validator:l,classGroupId:r});return}Object.entries(l).forEach(([n,i])=>{st(i,It(t,n),r,a)})})},It=(s,t)=>{let r=s;return t.split(xt).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},ul=s=>s.isThemeGetter,gl=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const l=(n,i)=>{r.set(n,i),t++,t>s&&(t=0,a=r,r=new Map)};return{get(n){let i=r.get(n);if(i!==void 0)return i;if((i=a.get(n))!==void 0)return l(n,i),i},set(n,i){r.has(n)?r.set(n,i):l(n,i)}}},tt="!",rt=":",fl=rt.length,pl=s=>{const{prefix:t,experimentalParseClassName:r}=s;let a=l=>{const n=[];let i=0,o=0,c=0,d;for(let g=0;g<l.length;g++){let N=l[g];if(i===0&&o===0){if(N===rt){n.push(l.slice(c,g)),c=g+fl;continue}if(N==="/"){d=g;continue}}N==="["?i++:N==="]"?i--:N==="("?o++:N===")"&&o--}const h=n.length===0?l:l.substring(c),u=bl(h),f=u!==h,j=d&&d>c?d-c:void 0;return{modifiers:n,hasImportantModifier:f,baseClassName:u,maybePostfixModifierPosition:j}};if(t){const l=t+rt,n=a;a=i=>i.startsWith(l)?n(i.substring(l.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(r){const l=a;a=n=>r({className:n,parseClassName:l})}return a},bl=s=>s.endsWith(tt)?s.substring(0,s.length-1):s.startsWith(tt)?s.substring(1):s,jl=s=>{const t=Object.fromEntries(s.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const l=[];let n=[];return a.forEach(i=>{i[0]==="["||t[i]?(l.push(...n.sort(),i),n=[]):n.push(i)}),l.push(...n.sort()),l}},yl=s=>({cache:gl(s.cacheSize),parseClassName:pl(s),sortModifiers:jl(s),...ml(s)}),vl=/\s+/,Nl=(s,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:l,sortModifiers:n}=t,i=[],o=s.trim().split(vl);let c="";for(let d=o.length-1;d>=0;d-=1){const h=o[d],{isExternal:u,modifiers:f,hasImportantModifier:j,baseClassName:g,maybePostfixModifierPosition:N}=r(h);if(u){c=h+(c.length>0?" "+c:c);continue}let b=!!N,x=a(b?g.substring(0,N):g);if(!x){if(!b){c=h+(c.length>0?" "+c:c);continue}if(x=a(g),!x){c=h+(c.length>0?" "+c:c);continue}b=!1}const p=n(f).join(":"),v=j?p+tt:p,y=v+x;if(i.includes(y))continue;i.push(y);const k=l(x,b);for(let L=0;L<k.length;++L){const z=k[L];i.push(v+z)}c=h+(c.length>0?" "+c:c)}return c};function wl(){let s=0,t,r,a="";for(;s<arguments.length;)(t=arguments[s++])&&(r=xr(t))&&(a&&(a+=" "),a+=r);return a}const xr=s=>{if(typeof s=="string")return s;let t,r="";for(let a=0;a<s.length;a++)s[a]&&(t=xr(s[a]))&&(r&&(r+=" "),r+=t);return r};function _l(s,...t){let r,a,l,n=i;function i(c){const d=t.reduce((h,u)=>u(h),s());return r=yl(d),a=r.cache.get,l=r.cache.set,n=o,o(c)}function o(c){const d=a(c);if(d)return d;const h=Nl(c,r);return l(c,h),h}return function(){return n(wl.apply(null,arguments))}}const ae=s=>{const t=r=>r[s]||[];return t.isThemeGetter=!0,t},hr=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ur=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Sl=/^\d+\/\d+$/,kl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,El=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Cl=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Pl=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Rl=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Be=s=>Sl.test(s),V=s=>!!s&&!Number.isNaN(Number(s)),Pe=s=>!!s&&Number.isInteger(Number(s)),qs=s=>s.endsWith("%")&&V(s.slice(0,-1)),Ce=s=>kl.test(s),Il=()=>!0,Tl=s=>El.test(s)&&!Cl.test(s),gr=()=>!1,Ml=s=>Pl.test(s),Ol=s=>Rl.test(s),Dl=s=>!T(s)&&!M(s),Ll=s=>ss(s,br,gr),T=s=>hr.test(s),$e=s=>ss(s,jr,Tl),Vs=s=>ss(s,Fl,V),Tt=s=>ss(s,fr,gr),zl=s=>ss(s,pr,Ol),vs=s=>ss(s,yr,Ml),M=s=>ur.test(s),as=s=>ts(s,jr),$l=s=>ts(s,ql),Mt=s=>ts(s,fr),Al=s=>ts(s,br),Ul=s=>ts(s,pr),Ns=s=>ts(s,yr,!0),ss=(s,t,r)=>{const a=hr.exec(s);return a?a[1]?t(a[1]):r(a[2]):!1},ts=(s,t,r=!1)=>{const a=ur.exec(s);return a?a[1]?t(a[1]):r:!1},fr=s=>s==="position"||s==="percentage",pr=s=>s==="image"||s==="url",br=s=>s==="length"||s==="size"||s==="bg-size",jr=s=>s==="length",Fl=s=>s==="number",ql=s=>s==="family-name",yr=s=>s==="shadow",Vl=()=>{const s=ae("color"),t=ae("font"),r=ae("text"),a=ae("font-weight"),l=ae("tracking"),n=ae("leading"),i=ae("breakpoint"),o=ae("container"),c=ae("spacing"),d=ae("radius"),h=ae("shadow"),u=ae("inset-shadow"),f=ae("text-shadow"),j=ae("drop-shadow"),g=ae("blur"),N=ae("perspective"),b=ae("aspect"),x=ae("ease"),p=ae("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],y=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...y(),M,T],L=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],R=()=>[M,T,c],q=()=>[Be,"full","auto",...R()],$=()=>[Pe,"none","subgrid",M,T],te=()=>["auto",{span:["full",Pe,M,T]},Pe,M,T],ee=()=>[Pe,"auto",M,T],G=()=>["auto","min","max","fr",M,T],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],O=()=>["start","end","center","stretch","center-safe","end-safe"],_=()=>["auto",...R()],P=()=>[Be,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],w=()=>[s,M,T],B=()=>[...y(),Mt,Tt,{position:[M,T]}],H=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",Al,Ll,{size:[M,T]}],se=()=>[qs,as,$e],C=()=>["","none","full",d,M,T],D=()=>["",V,as,$e],Z=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[V,qs,Mt,Tt],ce=()=>["","none",g,M,T],we=()=>["none",V,M,T],fe=()=>["none",V,M,T],de=()=>[V,M,T],ye=()=>[Be,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ce],breakpoint:[Ce],color:[Il],container:[Ce],"drop-shadow":[Ce],ease:["in","out","in-out"],font:[Dl],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ce],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ce],shadow:[Ce],spacing:["px",V],text:[Ce],"text-shadow":[Ce],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Be,T,M,b]}],container:["container"],columns:[{columns:[V,T,M,o]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[Pe,"auto",M,T]}],basis:[{basis:[Be,"full","auto",o,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[V,Be,"auto","initial","none",T]}],grow:[{grow:["",V,M,T]}],shrink:[{shrink:["",V,M,T]}],order:[{order:[Pe,"first","last","none",M,T]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:te()}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:te()}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":G()}],"auto-rows":[{"auto-rows":G()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...O(),"normal"]}],"justify-self":[{"justify-self":["auto",...O()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...O(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...O(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...O(),"baseline"]}],"place-self":[{"place-self":["auto",...O()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:_()}],mx:[{mx:_()}],my:[{my:_()}],ms:[{ms:_()}],me:[{me:_()}],mt:[{mt:_()}],mr:[{mr:_()}],mb:[{mb:_()}],ml:[{ml:_()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[o,"screen",...P()]}],"min-w":[{"min-w":[o,"screen","none",...P()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[i]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",r,as,$e]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,M,Vs]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",qs,T]}],"font-family":[{font:[$l,T,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[l,M,T]}],"line-clamp":[{"line-clamp":[V,"none",M,Vs]}],leading:[{leading:[n,...R()]}],"list-image":[{"list-image":["none",M,T]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",M,T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:w()}],"text-color":[{text:w()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[V,"from-font","auto",M,$e]}],"text-decoration-color":[{decoration:w()}],"underline-offset":[{"underline-offset":[V,"auto",M,T]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",M,T]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",M,T]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:H()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pe,M,T],radial:["",M,T],conic:[Pe,M,T]},Ul,zl]}],"bg-color":[{bg:w()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:w()}],"gradient-via":[{via:w()}],"gradient-to":[{to:w()}],rounded:[{rounded:C()}],"rounded-s":[{"rounded-s":C()}],"rounded-e":[{"rounded-e":C()}],"rounded-t":[{"rounded-t":C()}],"rounded-r":[{"rounded-r":C()}],"rounded-b":[{"rounded-b":C()}],"rounded-l":[{"rounded-l":C()}],"rounded-ss":[{"rounded-ss":C()}],"rounded-se":[{"rounded-se":C()}],"rounded-ee":[{"rounded-ee":C()}],"rounded-es":[{"rounded-es":C()}],"rounded-tl":[{"rounded-tl":C()}],"rounded-tr":[{"rounded-tr":C()}],"rounded-br":[{"rounded-br":C()}],"rounded-bl":[{"rounded-bl":C()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:w()}],"border-color-x":[{"border-x":w()}],"border-color-y":[{"border-y":w()}],"border-color-s":[{"border-s":w()}],"border-color-e":[{"border-e":w()}],"border-color-t":[{"border-t":w()}],"border-color-r":[{"border-r":w()}],"border-color-b":[{"border-b":w()}],"border-color-l":[{"border-l":w()}],"divide-color":[{divide:w()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[V,M,T]}],"outline-w":[{outline:["",V,as,$e]}],"outline-color":[{outline:w()}],shadow:[{shadow:["","none",h,Ns,vs]}],"shadow-color":[{shadow:w()}],"inset-shadow":[{"inset-shadow":["none",u,Ns,vs]}],"inset-shadow-color":[{"inset-shadow":w()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:w()}],"ring-offset-w":[{"ring-offset":[V,$e]}],"ring-offset-color":[{"ring-offset":w()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":w()}],"text-shadow":[{"text-shadow":["none",f,Ns,vs]}],"text-shadow-color":[{"text-shadow":w()}],opacity:[{opacity:[V,M,T]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[V]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":w()}],"mask-image-linear-to-color":[{"mask-linear-to":w()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":w()}],"mask-image-t-to-color":[{"mask-t-to":w()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":w()}],"mask-image-r-to-color":[{"mask-r-to":w()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":w()}],"mask-image-b-to-color":[{"mask-b-to":w()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":w()}],"mask-image-l-to-color":[{"mask-l-to":w()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":w()}],"mask-image-x-to-color":[{"mask-x-to":w()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":w()}],"mask-image-y-to-color":[{"mask-y-to":w()}],"mask-image-radial":[{"mask-radial":[M,T]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":w()}],"mask-image-radial-to-color":[{"mask-radial-to":w()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":y()}],"mask-image-conic-pos":[{"mask-conic":[V]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":w()}],"mask-image-conic-to-color":[{"mask-conic-to":w()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:H()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",M,T]}],filter:[{filter:["","none",M,T]}],blur:[{blur:ce()}],brightness:[{brightness:[V,M,T]}],contrast:[{contrast:[V,M,T]}],"drop-shadow":[{"drop-shadow":["","none",j,Ns,vs]}],"drop-shadow-color":[{"drop-shadow":w()}],grayscale:[{grayscale:["",V,M,T]}],"hue-rotate":[{"hue-rotate":[V,M,T]}],invert:[{invert:["",V,M,T]}],saturate:[{saturate:[V,M,T]}],sepia:[{sepia:["",V,M,T]}],"backdrop-filter":[{"backdrop-filter":["","none",M,T]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[V,M,T]}],"backdrop-contrast":[{"backdrop-contrast":[V,M,T]}],"backdrop-grayscale":[{"backdrop-grayscale":["",V,M,T]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[V,M,T]}],"backdrop-invert":[{"backdrop-invert":["",V,M,T]}],"backdrop-opacity":[{"backdrop-opacity":[V,M,T]}],"backdrop-saturate":[{"backdrop-saturate":[V,M,T]}],"backdrop-sepia":[{"backdrop-sepia":["",V,M,T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",M,T]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[V,"initial",M,T]}],ease:[{ease:["linear","initial",x,M,T]}],delay:[{delay:[V,M,T]}],animate:[{animate:["none",p,M,T]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,M,T]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:we()}],"rotate-x":[{"rotate-x":we()}],"rotate-y":[{"rotate-y":we()}],"rotate-z":[{"rotate-z":we()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:de()}],"skew-x":[{"skew-x":de()}],"skew-y":[{"skew-y":de()}],transform:[{transform:[M,T,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ye()}],"translate-x":[{"translate-x":ye()}],"translate-y":[{"translate-y":ye()}],"translate-z":[{"translate-z":ye()}],"translate-none":["translate-none"],accent:[{accent:w()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:w()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",M,T]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",M,T]}],fill:[{fill:["none",...w()]}],"stroke-w":[{stroke:[V,as,$e,Vs]}],stroke:[{stroke:["none",...w()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Bl=_l(Vl);function ge(...s){return Bl(dr(s))}const Wl=fs("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-lg hover:from-primary-700 hover:to-primary-800 hover:shadow-xl transform hover:-translate-y-0.5 focus-visible:ring-primary-500",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400 focus-visible:ring-gray-500",danger:"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800 focus-visible:ring-red-500",destructive:"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800 focus-visible:ring-red-500",ghost:"text-gray-600 hover:text-gray-800 hover:bg-gray-100 focus-visible:ring-gray-500",outline:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50 hover:border-gray-400 focus-visible:ring-gray-500",tenant:"bg-gradient-to-r from-tenant-primary to-tenant-primary text-white shadow-lg hover:opacity-90 transform hover:-translate-y-0.5 focus-visible:ring-tenant-primary"},size:{sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-2",lg:"h-12 px-6 py-3 text-base",icon:"h-10 w-10"},fullWidth:{true:"w-full"}},defaultVariants:{variant:"primary",size:"md"}}),U=Fe.forwardRef(({className:s,variant:t,size:r,fullWidth:a,loading:l,leftIcon:n,rightIcon:i,children:o,disabled:c,...d},h)=>e.jsx("button",{className:ge(Wl({variant:t,size:r,fullWidth:a,className:s})),ref:h,disabled:c||l,...d,children:l?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Î°úÎî© Ï§ë..."]}):e.jsxs(e.Fragment,{children:[n&&e.jsx("span",{className:"mr-2",children:n}),o,i&&e.jsx("span",{className:"ml-2",children:i})]})}));U.displayName="Button";const Gl=fs("flex w-full rounded-lg border bg-white px-3 py-2 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"border-gray-300 focus-visible:border-primary-500 focus-visible:ring-primary-500",error:"border-red-300 focus-visible:border-red-500 focus-visible:ring-red-500",success:"border-green-300 focus-visible:border-green-500 focus-visible:ring-green-500"},size:{sm:"h-8 px-2 text-xs",md:"h-10 px-3",lg:"h-12 px-4 text-base"}},defaultVariants:{variant:"default",size:"md"}}),A=Fe.forwardRef(({className:s,variant:t,size:r,label:a,error:l,helperText:n,leftIcon:i,rightIcon:o,id:c,...d},h)=>{const u=c||`input-${Math.random().toString(36).substr(2,9)}`,j=!!l?"error":t;return e.jsxs("div",{className:"w-full",children:[a&&e.jsxs("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700 mb-2",children:[a,d.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[i&&e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-400",children:i})}),e.jsx("input",{id:u,className:ge(Gl({variant:j,size:r}),i&&"pl-10",o&&"pr-10",s),ref:h,...d}),o&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-400",children:o})})]}),l&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l}),n&&!l&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})});A.displayName="Input";const Hl=fs("flex w-full rounded-lg border bg-white px-3 py-2 text-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none cursor-pointer",{variants:{variant:{default:"border-gray-300 focus-visible:border-primary-500 focus-visible:ring-primary-500",error:"border-red-300 focus-visible:border-red-500 focus-visible:ring-red-500",success:"border-green-300 focus-visible:border-green-500 focus-visible:ring-green-500"},size:{sm:"h-8 px-2 text-xs",md:"h-10 px-3",lg:"h-12 px-4 text-base"}},defaultVariants:{variant:"default",size:"md"}}),he=Fe.forwardRef(({className:s,variant:t,size:r,label:a,error:l,helperText:n,options:i,placeholder:o,id:c,...d},h)=>{const u=c||`select-${Math.random().toString(36).substr(2,9)}`,j=!!l?"error":t;return e.jsxs("div",{className:"w-full",children:[a&&e.jsxs("label",{htmlFor:u,className:"block text-sm font-medium text-gray-700 mb-2",children:[a,d.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:u,className:ge(Hl({variant:j,size:r}),"pr-10",s),ref:h,...d,children:[o&&e.jsx("option",{value:"",disabled:!0,children:o}),i.map(g=>e.jsx("option",{value:g.value,disabled:g.disabled,children:g.label},g.value))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx(at,{className:"h-4 w-4 text-gray-400"})})]}),l&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l}),n&&!l&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:n})]})});he.displayName="Select";const Ee=({isOpen:s,onClose:t,title:r,children:a,size:l="md",closable:n=!0,className:i})=>{if(m.useEffect(()=>{const d=h=>{h.key==="Escape"&&n&&t()};return s&&(document.addEventListener("keydown",d),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",d),document.body.style.overflow="unset"}},[s,t,n]),!s)return null;const o={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"},c=e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity animate-fade-in",onClick:n?t:void 0}),e.jsxs("div",{className:ge("relative bg-white rounded-lg shadow-xl w-full max-h-[90vh] overflow-hidden animate-scale-in",o[l],i),children:[(r||n)&&e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r&&e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:r}),n&&e.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ue,{size:20})})]}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:a})]})]});return Ut.createPortal(c,document.body)},Yl=fs("card rounded-lg border bg-white transition-all duration-200",{variants:{variant:{default:"border-gray-200 shadow-sm hover:shadow-md",elevated:"border-gray-200 shadow-lg hover:shadow-xl",outline:"border-gray-300",ghost:"border-transparent shadow-none"},padding:{none:"",sm:"p-4",md:"p-6",lg:"p-8"},clickable:{true:"cursor-pointer hover:border-gray-300 transform hover:-translate-y-0.5"}},defaultVariants:{variant:"default",padding:"md"}}),le=Fe.forwardRef(({className:s,variant:t,padding:r,clickable:a,children:l,...n},i)=>e.jsx("div",{ref:i,className:ge(Yl({variant:t,padding:r,clickable:a}),s),...n,children:l}));le.displayName="Card";const ve=({children:s,className:t})=>e.jsx("div",{className:ge("flex flex-col space-y-1.5 p-6 pb-4",t),children:s}),Ne=({children:s,className:t})=>e.jsx("h3",{className:ge("text-lg font-semibold leading-none tracking-tight",t),children:s}),xe=({children:s,className:t})=>e.jsx("div",{className:ge("p-6 pt-0",t),children:s}),Kl=fs("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors",{variants:{variant:{default:"bg-gray-100 text-gray-800",primary:"bg-primary-100 text-primary-800",secondary:"bg-gray-100 text-gray-600",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",available:"bg-green-100 text-green-800",reserved:"bg-yellow-100 text-yellow-800",sold:"bg-gray-100 text-gray-600",sale:"bg-red-100 text-red-700",jeonse:"bg-green-100 text-green-700",monthly:"bg-blue-100 text-blue-700",tenant:"bg-tenant-primary bg-opacity-10 text-tenant-primary"},size:{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}},defaultVariants:{variant:"default",size:"md"}}),Se=Fe.forwardRef(({className:s,variant:t,size:r,children:a,...l},n)=>e.jsx("div",{ref:n,className:ge(Kl({variant:t,size:r}),s),...l,children:a}));Se.displayName="Badge";const us=({status:s,className:t})=>{const r={Í±∞ÎûòÏ§ë:"available",Í±∞ÎûòÏôÑÎ£å:"sold"};return e.jsx(Se,{variant:r[s],className:t,children:s})},Ae=({size:s="md",text:t,className:r,fullScreen:a=!1})=>{const l={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"},n=e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[e.jsxs("svg",{className:ge("animate-spin text-primary-600",l[s],r),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t&&e.jsx("p",{className:"text-sm text-gray-600 animate-pulse",children:t})]});return a?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white bg-opacity-80",children:n}):n},Jl=()=>{const[s,t]=m.useState(null),[r,a]=m.useState(!1),[l,n]=m.useState(!1);m.useEffect(()=>{const c=u=>{u.preventDefault(),t(u),a(!0)},d=()=>{n(!0),a(!1),t(null)},h=()=>{window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches&&n(!0)};return window.addEventListener("beforeinstallprompt",c),window.addEventListener("appinstalled",d),h(),()=>{window.removeEventListener("beforeinstallprompt",c),window.removeEventListener("appinstalled",d)}},[]);const i=async()=>{if(s)try{await s.prompt();const{outcome:c}=await s.userChoice;c==="accepted"?(console.log("‚úÖ PWA ÏÑ§Ïπò ÏäπÏù∏Îê®"),a(!1)):console.log("‚ùå PWA ÏÑ§Ïπò Í±∞Î∂ÄÎê®"),t(null)}catch(c){console.error("PWA ÏÑ§Ïπò Ïò§Î•ò:",c)}},o=()=>{a(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return l||!r||!s?null:e.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Bs,{className:"w-5 h-5 text-blue-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"PCÏóê Î∞îÎ°úÍ∞ÄÍ∏∞ ÎßåÎì§Í∏∞"}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Î¶¨Ï≤¥ Îß§Î¨ºÏû•ÏùÑ PC Î∞îÌÉïÌôîÎ©¥Ïóê ÏÑ§ÏπòÌïòÏó¨ Îçî Ìé∏Î¶¨ÌïòÍ≤å ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî."}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:i,className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded hover:bg-blue-700 transition-colors",children:[e.jsx(De,{className:"w-3 h-3 mr-1"}),"ÏÑ§ÏπòÌïòÍ∏∞"]}),e.jsx("button",{onClick:o,className:"inline-flex items-center px-3 py-1.5 bg-gray-100 text-gray-700 text-xs font-medium rounded hover:bg-gray-200 transition-colors",children:"ÎÇòÏ§ëÏóê"})]})]}),e.jsx("button",{onClick:o,className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ue,{className:"w-4 h-4"})})]})})},Xl=()=>{const[s,t]=m.useState(null),[r,a]=m.useState(!1),[l,n]=m.useState(!1);m.useEffect(()=>{const o=d=>{d.preventDefault(),console.log("‚úÖ PWA ÏÑ§Ïπò Ïù¥Î≤§Ìä∏ Í∞êÏßÄÎê®"),t(d),n(!0)},c=()=>{if(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches){console.log("‚úÖ Ïù¥ÎØ∏ PWAÎ°ú ÏÑ§ÏπòÎêòÏñ¥ Ïã§Ìñâ Ï§ë"),a(!0);return}if(window.navigator.standalone===!0){console.log("‚úÖ iOSÏóêÏÑú Ìôà ÌôîÎ©¥Ïóê Ï∂îÍ∞ÄÎêòÏñ¥ Ïã§Ìñâ Ï§ë"),a(!0);return}"serviceWorker"in navigator&&"BeforeInstallPromptEvent"in window?(n(!0),console.log("‚úÖ Î∏åÎùºÏö∞Ï†ÄÍ∞Ä PWAÎ•º ÏßÄÏõêÌï®")):console.log("‚ùå Î∏åÎùºÏö∞Ï†ÄÍ∞Ä PWAÎ•º ÏßÄÏõêÌïòÏßÄ ÏïäÏùå")};return window.addEventListener("beforeinstallprompt",o),c(),()=>{window.removeEventListener("beforeinstallprompt",o)}},[]);const i=async()=>{if(console.log("üîò ÏÑ§Ïπò Î≤ÑÌäº ÌÅ¥Î¶≠Îê®"),!s){console.log("‚ùå deferredPromptÍ∞Ä ÏóÜÏùå - ÏàòÎèô ÏÑ§Ïπò ÏïàÎÇ¥");const o=navigator.userAgent.toLowerCase(),c=o.includes("ipad")||o.includes("iphone")||o.includes("ipod"),d=o.includes("android");alert(c?`iOS SafariÏóêÏÑú ÏÑ§ÏπòÌïòÍ∏∞:

1. ÌïòÎã®Ïùò Í≥µÏú† Î≤ÑÌäº(‚¨ÜÔ∏è) ÌÑ∞Ïπò
2. "Ìôà ÌôîÎ©¥Ïóê Ï∂îÍ∞Ä" ÏÑ†ÌÉù
3. "Ï∂îÍ∞Ä" Î≤ÑÌäº ÌÑ∞Ïπò`:d?`Android ChromeÏóêÏÑú ÏÑ§ÏπòÌïòÍ∏∞:

1. Ïö∞ÏÉÅÎã® Î©îÎâ¥(‚ãÆ) ÌÑ∞Ïπò
2. "Ìôà ÌôîÎ©¥Ïóê Ï∂îÍ∞Ä" ÎòêÎäî "Ïï± ÏÑ§Ïπò" ÏÑ†ÌÉù`:`PCÏóêÏÑú ÏÑ§ÏπòÌïòÍ∏∞:

1. Chrome/Edge Ï£ºÏÜåÏ∞Ω Ïö∞Ï∏°Ïùò ÏÑ§Ïπò ÏïÑÏù¥ÏΩò ÌÅ¥Î¶≠
2. ÎòêÎäî Î∏åÎùºÏö∞Ï†Ä Î©îÎâ¥ÏóêÏÑú "Ïï± ÏÑ§Ïπò" ÏÑ†ÌÉù`);return}try{console.log("‚è≥ PWA ÏÑ§Ïπò ÌîÑÎ°¨ÌîÑÌä∏ ÌëúÏãú Ï§ë..."),await s.prompt();const{outcome:o}=await s.userChoice;console.log(`üìä ÏÇ¨Ïö©Ïûê ÏÑ†ÌÉù: ${o}`),o==="accepted"?(console.log("‚úÖ PWA ÏÑ§Ïπò ÏäπÏù∏Îê®"),a(!0),alert("‚úÖ ÏÑ§ÏπòÍ∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§! Î∞îÌÉïÌôîÎ©¥ÏóêÏÑú Ïï±ÏùÑ ÌôïÏù∏Ìï¥Î≥¥ÏÑ∏Ïöî.")):console.log("‚ùå PWA ÏÑ§Ïπò Í±∞Î∂ÄÎê®"),t(null)}catch(o){console.error("üí• PWA ÏÑ§Ïπò Ïò§Î•ò:",o),alert('ÏÑ§Ïπò Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. Î∏åÎùºÏö∞Ï†Ä Î©îÎâ¥ÏóêÏÑú "Ïï± ÏÑ§Ïπò"Î•º ÏãúÎèÑÌï¥Î≥¥ÏÑ∏Ïöî.')}};return r?e.jsxs("div",{className:"inline-flex items-center px-3 py-2 bg-green-100 text-green-700 text-sm font-medium rounded-lg",children:[e.jsx("span",{className:"w-4 h-4 mr-2",children:"‚úÖ"}),"ÏÑ§Ïπò ÏôÑÎ£å"]}):!l&&!s?e.jsxs("button",{onClick:i,className:"inline-flex items-center px-3 py-2 bg-gray-500 text-white text-sm font-medium rounded-lg hover:bg-gray-600 transition-colors",title:"Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú ÏàòÎèô ÏÑ§Ïπò Î∞©Î≤ïÏùÑ ÏïàÎÇ¥Ìï©ÎãàÎã§",children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"ÏÑ§Ïπò Î∞©Î≤ï Î≥¥Í∏∞"]}):e.jsxs("button",{onClick:i,className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors active:bg-blue-800",disabled:!1,children:[e.jsx(De,{className:"w-4 h-4 mr-2"}),"PCÏóê ÏÑ§Ïπò"]})},Ql=({onBackToLogin:s})=>{const{signUp:t}=oe(),[r,a]=m.useState(!1),[l,n]=m.useState(!1),[i,o]=m.useState(!1),[c,d]=m.useState(null),[h,u]=m.useState(null),[f,j]=m.useState({email:"",password:"",confirmPassword:"",name:"",company:""}),g=async b=>{if(b.preventDefault(),o(!0),d(null),u(null),f.password!==f.confirmPassword){d("ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§."),o(!1);return}if(f.password.length<8){d("ÎπÑÎ∞ÄÎ≤àÌò∏Îäî 8Ïûê Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§."),o(!1);return}const{error:x}=await t({email:f.email,password:f.password,name:f.name,company:f.company});x?x.message.includes("User already registered")?d("Ïù¥ÎØ∏ Îì±Î°ùÎêú Ïù¥Î©îÏùº Ï£ºÏÜåÏûÖÎãàÎã§."):d(x.message):(u("ÌöåÏõêÍ∞ÄÏûÖÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§! Ïù¥Î©îÏùºÏùÑ ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî."),setTimeout(()=>{s()},3e3)),o(!1)},N=b=>{const{name:x,value:p}=b.target;j(v=>({...v,[x]:p})),d(null),u(null)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-blue-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-full text-white text-2xl font-bold mb-4",children:"Î¶¨"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Î¶¨Ï≤¥ Îß§Î¨ºÏû•"}),e.jsx("p",{className:"text-gray-600",children:"Î∂ÄÎèôÏÇ∞ Ï†ÑÎ¨∏ Í¥ÄÎ¶¨ ÏÜîÎ£®ÏÖò"})]}),e.jsxs(le,{className:"shadow-xl",children:[e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:s,className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(Wr,{size:20,className:"text-gray-600"})}),e.jsx(Ne,{children:"ÌöåÏõêÍ∞ÄÏûÖ"})]})}),e.jsxs(xe,{children:[e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-blue-50 border border-blue-200 rounded-lg text-blue-700",children:[e.jsx(cs,{size:16}),e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{children:"Î≤†ÌÉÄ ÌÖåÏä§Ìä∏ Ï§ë:"})," Ïù¥Î©îÏùº Ïù∏Ï¶ù ÏóÜÏù¥ Ï¶âÏãú Î°úÍ∑∏Ïù∏ Í∞ÄÎä•Ìï©ÎãàÎã§."]})]}),c&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[e.jsx(qe,{size:16}),e.jsx("span",{className:"text-sm",children:c})]}),h&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700",children:[e.jsx(cs,{size:16}),e.jsx("span",{className:"text-sm",children:h})]}),e.jsx("div",{children:e.jsx(A,{type:"text",name:"name",placeholder:"Ïù¥Î¶Ñ",value:f.name,onChange:N,leftIcon:e.jsx(ie,{size:20}),required:!0})}),e.jsx("div",{children:e.jsx(A,{type:"text",name:"company",placeholder:"ÌöåÏÇ¨Î™Ö (ÏÑ†ÌÉùÏÇ¨Ìï≠)",value:f.company,onChange:N,leftIcon:e.jsx(lt,{size:20})})}),e.jsx("div",{children:e.jsx(A,{type:"email",name:"email",placeholder:"Ïù¥Î©îÏùº Ï£ºÏÜå",value:f.email,onChange:N,leftIcon:e.jsx(Ue,{size:20}),required:!0})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx(A,{type:r?"text":"password",name:"password",placeholder:"ÎπÑÎ∞ÄÎ≤àÌò∏ (8Ïûê Ïù¥ÏÉÅ)",value:f.password,onChange:N,leftIcon:e.jsx(Ws,{size:20}),required:!0}),e.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?e.jsx(Gs,{size:20}):e.jsx(Ke,{size:20})})]})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx(A,{type:l?"text":"password",name:"confirmPassword",placeholder:"ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏",value:f.confirmPassword,onChange:N,leftIcon:e.jsx(Ws,{size:20}),required:!0}),e.jsx("button",{type:"button",onClick:()=>n(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?e.jsx(Gs,{size:20}):e.jsx(Ke,{size:20})})]})}),f.password&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:`h-1 flex-1 rounded ${f.password.length>=8?"bg-green-500":"bg-red-500"}`}),e.jsx("div",{className:`h-1 flex-1 rounded ${f.password.length>=12?"bg-green-500":"bg-gray-200"}`}),e.jsx("div",{className:`h-1 flex-1 rounded ${/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(f.password)?"bg-green-500":"bg-gray-200"}`})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"ÏµúÏÜå 8Ïûê, 12Ïûê Ïù¥ÏÉÅ Î∞è ÌäπÏàòÎ¨∏Ïûê Ìè¨Ìï® Í∂åÏû•"})]}),e.jsx(U,{type:"submit",variant:"primary",size:"lg",className:"w-full",loading:i,disabled:h!==null,children:"ÌöåÏõêÍ∞ÄÏûÖ"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Ïù¥ÎØ∏ Í≥ÑÏ†ïÏù¥ ÏûàÏúºÏã†Í∞ÄÏöî?"," ",e.jsx("button",{onClick:s,className:"text-primary-600 hover:text-primary-700 font-medium underline",children:"Î°úÍ∑∏Ïù∏"})]})})]})]}),e.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:e.jsx("p",{children:"¬© 2025 Î¶¨Ï≤¥ Îß§Î¨ºÏû•. All rights reserved."})})]})})},Zl=()=>{const{signIn:s,resetPassword:t}=oe(),[r,a]=m.useState(!1),[l,n]=m.useState(!1),[i,o]=m.useState(!1),[c,d]=m.useState(!1),[h,u]=m.useState(null),[f,j]=m.useState(null),[g,N]=m.useState({email:"",password:""}),b=async p=>{if(p.preventDefault(),d(!0),u(null),j(null),l){const{error:v}=await t(g.email);v?u(v.message):(j("ÎπÑÎ∞ÄÎ≤àÌò∏ Ïû¨ÏÑ§Ï†ï Ïù¥Î©îÏùºÏùÑ Î≥¥ÎÉàÏäµÎãàÎã§."),n(!1))}else{const{error:v}=await s(g);v&&u("Ïù¥Î©îÏùº ÎòêÎäî ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÏäµÎãàÎã§.")}d(!1)},x=p=>{const{name:v,value:y}=p.target;N(k=>({...k,[v]:y})),u(null),j(null)};return r?e.jsx(Ql,{onBackToLogin:()=>a(!1)}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-blue-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-full text-white text-2xl font-bold mb-4",children:"Î¶¨"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Î¶¨Ï≤¥ Îß§Î¨ºÏû•"}),e.jsx("p",{className:"text-gray-600",children:"Î∂ÄÎèôÏÇ∞ Ï†ÑÎ¨∏ Í¥ÄÎ¶¨ ÏÜîÎ£®ÏÖò"})]}),e.jsxs(le,{className:"shadow-xl",children:[e.jsx(ve,{children:e.jsx(Ne,{className:"text-center",children:l?"ÎπÑÎ∞ÄÎ≤àÌò∏ Ïû¨ÏÑ§Ï†ï":"Î°úÍ∑∏Ïù∏"})}),e.jsxs(xe,{children:[e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[h&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[e.jsx(qe,{size:16}),e.jsx("span",{className:"text-sm",children:h})]}),f&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700",children:[e.jsx(cs,{size:16}),e.jsx("span",{className:"text-sm",children:f})]}),e.jsx("div",{children:e.jsx(A,{type:"email",name:"email",placeholder:"Ïù¥Î©îÏùº Ï£ºÏÜå",value:g.email,onChange:x,leftIcon:e.jsx(Ue,{size:20}),required:!0})}),!l&&e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx(A,{type:i?"text":"password",name:"password",placeholder:"ÎπÑÎ∞ÄÎ≤àÌò∏",value:g.password,onChange:x,leftIcon:e.jsx(Ws,{size:20}),required:!0}),e.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?e.jsx(Gs,{size:20}):e.jsx(Ke,{size:20})})]})}),e.jsx(U,{type:"submit",variant:"primary",size:"lg",className:"w-full",loading:c,children:l?"Ïû¨ÏÑ§Ï†ï Ïù¥Î©îÏùº Ï†ÑÏÜ°":"Î°úÍ∑∏Ïù∏"}),!l&&e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>n(!0),className:"text-sm text-primary-600 hover:text-primary-700 underline",children:"ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûäÏúºÏÖ®ÎÇòÏöî?"})}),l&&e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>{n(!1),u(null),j(null)},className:"text-sm text-gray-600 hover:text-gray-700 underline",children:"Î°úÍ∑∏Ïù∏ÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞"})})]}),!l&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Í≥ÑÏ†ïÏù¥ ÏóÜÏúºÏã†Í∞ÄÏöî?"," ",e.jsx("button",{onClick:()=>a(!0),className:"text-primary-600 hover:text-primary-700 font-medium underline",children:"ÌöåÏõêÍ∞ÄÏûÖ"})]})})]})]}),e.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:e.jsx("p",{children:"¬© 2025 Î¶¨Ï≤¥ Îß§Î¨ºÏû•. All rights reserved."})})]})})},en=({children:s,fallback:t=e.jsx(Zl,{})})=>{const{user:r,loading:a,signOut:l}=oe(),n=async()=>{try{await l(),window.location.reload()}catch(i){console.error("Force sign out error:",i),localStorage.clear(),sessionStorage.clear(),window.location.reload()}};return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(Ae,{size:"lg",text:"Î°úÎî© Ï§ë..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"5Ï¥à Ïù¥ÏÉÅ Î°úÎî©Ïù¥ ÏßÄÏÜçÎêòÎ©¥ ÏïÑÎûò Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî"}),e.jsx("button",{onClick:n,className:"px-4 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Í∞ïÏ†ú Î°úÍ∑∏ÏïÑÏõÉ"})]})}):r?e.jsx(e.Fragment,{children:s}):e.jsx(e.Fragment,{children:t})},sn=()=>{const{user:s,signOut:t}=oe(),[r,a]=m.useState(!1),l=m.useRef(null);m.useEffect(()=>{const i=o=>{l.current&&!l.current.contains(o.target)&&a(!1)};return document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[]);const n=async()=>{try{await t()}catch(i){console.error("Î°úÍ∑∏ÏïÑÏõÉ Ïò§Î•ò:",i)}};return s?e.jsxs("div",{className:"relative",ref:l,children:[e.jsxs("button",{onClick:()=>a(!r),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-400 to-primary-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:s.avatar_url?e.jsx("img",{src:s.avatar_url,alt:s.name,className:"w-8 h-8 rounded-full object-cover"}):s.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"text-left hidden md:block",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.role==="owner"?"ÏóÖÏ≤¥ ÎåÄÌëú":s.role==="manager"?"ÌåÄÏû•/Ïã§Ïû•":s.role==="agent"?"Ï§ëÍ∞úÏÇ¨":"Ï°∞ÌöåÏûê"})]}),e.jsx(at,{size:16,className:`text-gray-400 transition-transform hidden md:block ${r?"rotate-180":""}`})]}),r&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.email}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Í∞ÄÏûÖÏùº: ",new Date(s.created_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"py-1",children:[e.jsxs("a",{href:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>a(!1),children:[e.jsx(ie,{size:16,className:"mr-3"}),"ÎÇ¥ ÌîÑÎ°úÌïÑ"]}),e.jsxs("a",{href:"/settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>a(!1),children:[e.jsx(Me,{size:16,className:"mr-3"}),"ÏÑ§Ï†ï"]})]}),e.jsx("div",{className:"border-t border-gray-100 my-1"}),e.jsxs("button",{onClick:n,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(Gr,{size:16,className:"mr-3"}),"Î°úÍ∑∏ÏïÑÏõÉ"]})]})]}):null},tn=({children:s})=>{var i,o,c,d;const[t,r]=m.useState(!1),{tenant:a}=es(),l=Ve(),n=[{name:"ÎåÄÏãúÎ≥¥Îìú",href:"/",icon:Ie},{name:"Îß§Î¨º Í¥ÄÎ¶¨",href:"/properties",icon:Ie},{name:"ÏùºÏ†ï Í¥ÄÎ¶¨",href:"/schedule",icon:je},{name:"ÌåÄ Í¥ÄÎ¶¨",href:"/team",icon:ke},{name:"ÏÑ§Ï†ï",href:"/settings",icon:Me},{name:"ÏÇ¨Ïö©ÏÑ§Î™ÖÏÑú",href:"/guide",icon:ns}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>r(!1)}),e.jsx("div",{className:ge("sidebar fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transition-transform duration-300 ease-in-out lg:translate-x-0 hidden lg:block",t?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${((i=a==null?void 0:a.branding)==null?void 0:i.primary_color)||"#3b82f6"}, ${((o=a==null?void 0:a.branding)==null?void 0:o.secondary_color)||"#1d4ed8"})`},children:e.jsx(Ie,{size:18,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold",children:(a==null?void 0:a.name)||"Î¶¨Ï≤¥ Îß§Î¨ºÏû•"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a==null?void 0:a.plan," ÌîåÎûú"]})]})]}),e.jsx("button",{onClick:()=>r(!1),className:"lg:hidden p-1 text-gray-400 hover:text-gray-600",children:e.jsx(ue,{size:20})})]}),e.jsx("div",{className:"p-4",children:e.jsx(ys,{to:"/properties?create=true",children:e.jsx(U,{fullWidth:!0,variant:"tenant",leftIcon:e.jsx(ds,{size:18}),className:"justify-center",children:"Îß§Î¨º Îì±Î°ù"})})}),e.jsx("nav",{className:"flex-1 px-4 space-y-1",children:n.map(h=>{const u=l.pathname===h.href;return e.jsxs(ys,{to:h.href,className:ge("nav-item flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors",u?"bg-primary-50 text-primary-700 border-primary-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[e.jsx(h.icon,{className:"w-5 h-5 mr-3"}),h.name]},h.name)})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-500 space-y-2",children:[e.jsxs("div",{children:[e.jsxs("p",{children:["Îß§Î¨º: ",(a==null?void 0:a.limits.max_properties)||0,"Í∞ú Ï†úÌïú"]}),e.jsxs("p",{children:["ÏÇ¨Ïö©Ïûê: ",(a==null?void 0:a.limits.max_users)||0,"Î™Ö Ï†úÌïú"]})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-300 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Í∞úÎ∞úÌöåÏÇ¨:"})," Î¶¨Ï≤¥Î∂ÄÎèôÏÇ∞"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ÎåÄÌëú:"})," ÍπÄÏÑ†ÎØ∏ Í≥µÏù∏Ï§ëÍ∞úÏÇ¨"]})]})]})})]})}),e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-lg pb-safe",children:e.jsx("div",{className:"grid grid-cols-6 h-16 bg-white",children:n.map(h=>{const u=l.pathname===h.href;return e.jsxs(ys,{to:h.href,className:ge("nav-item flex flex-col items-center justify-center px-1 py-2 text-xs font-medium transition-all duration-200 touch-manipulation active:scale-95","min-h-[44px] relative",u?"text-primary-600 bg-primary-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"),children:[u&&e.jsx("div",{className:"absolute top-0 left-1/2 w-8 h-1 bg-primary-600 rounded-b-full transform -translate-x-1/2"}),e.jsx(h.icon,{size:18,className:"mb-1 flex-shrink-0"}),e.jsx("span",{className:"truncate text-center leading-tight max-w-full",children:h.name.split(" ")[0]})]},h.name)})})}),e.jsxs("div",{className:"lg:ml-64",children:[e.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3 lg:hidden",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${((c=a==null?void 0:a.branding)==null?void 0:c.primary_color)||"#3b82f6"}, ${((d=a==null?void 0:a.branding)==null?void 0:d.secondary_color)||"#1d4ed8"})`},children:e.jsx(Ie,{size:16,className:"text-white"})}),e.jsx("h2",{className:"text-lg font-semibold",children:(a==null?void 0:a.name)||"Î¶¨Ï≤¥ Îß§Î¨ºÏû•"})]}),e.jsx("h2",{className:"hidden lg:block text-lg font-semibold",children:"Îß§Î¨ºÏû•"})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[e.jsx(ys,{to:"/properties?create=true",className:"lg:hidden",children:e.jsx(U,{size:"sm",variant:"tenant",leftIcon:e.jsx(ds,{size:16}),className:"px-3 py-2",children:"Îì±Î°ù"})}),e.jsx(sn,{})]})]}),e.jsx("main",{className:"p-4 sm:p-6 pb-24 lg:pb-6 min-h-screen",children:s})]})]})};class rn extends Fe.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error:",t,r)}render(){var t;return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md p-8 bg-white rounded-lg shadow-lg text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Ïï± Ïò§Î•ò Î∞úÏÉù"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"ÏòàÏÉÅÏπò Î™ªÌïú Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. ÌéòÏù¥ÏßÄÎ•º ÏÉàÎ°úÍ≥†Ïπ®Ìï¥ Î≥¥ÏÑ∏Ïöî."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"ÏÉàÎ°úÍ≥†Ïπ®"}),e.jsxs("details",{className:"text-left",children:[e.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer",children:"Í∏∞Ïà†Ï†Å ÏÑ∏Î∂ÄÏÇ¨Ìï≠ Î≥¥Í∏∞"}),e.jsx("pre",{className:"text-xs text-red-600 mt-2 p-2 bg-red-50 rounded overflow-auto",children:(t=this.state.error)==null?void 0:t.stack})]})]})]})}):this.props.children}}const Re={LANDLORD:/\[ÏûÑÎåÄÏù∏Ï†ïÎ≥¥\]\s*([^\n\[]+)/,LANDLORD_NAME:/ÏûÑÎåÄÏù∏:\s*([^|]+)/,LANDLORD_PHONE:/Ïó∞ÎùΩÏ≤ò:\s*([^|]+)/,EXIT_DATE:/\[Ìá¥Ïã§ÏòàÏ†ï\]\s*([^\n\[]+)/,VACANT:/\[Í±∞Ï£ºÌòÑÌô©\]\s*Í≥µÏã§/,FACILITIES:/\[Ìé∏ÏùòÏãúÏÑ§\]\s*([^\n\[]+)/,DETAILED_ADDRESS:/\[ÏÉÅÏÑ∏Ï£ºÏÜå\]\s*([^\n\[]+)/,CONSECUTIVE_NEWLINES:/\n\s*\n/g},Ot={PARKING:"Ï£ºÏ∞®Í∞ÄÎä•",ELEVATOR:"ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞"},ls={FLOOR:1,TOTAL_FLOORS:1,AREA:0,ROOMS:1,BATHROOMS:1},ks={MISSING_TENANT_USER:"ÌÖåÎÑåÌä∏ ID ÎòêÎäî ÏÇ¨Ïö©Ïûê IDÍ∞Ä ÏóÜÏäµÎãàÎã§.",MISSING_REQUIRED_FIELDS:"Ï†úÎ™©Í≥º Ï£ºÏÜåÎäî ÌïÑÏàò ÏûÖÎ†• Ìï≠Î™©ÏûÖÎãàÎã§.",DATABASE_ERROR:"Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïò§Î•ò",PROPERTY_NOT_FOUND:"Property not found"},We=new Map,vr=s=>{if(!s)return{landlord_name:void 0,landlord_phone:void 0,exit_date:void 0,detailed_address:void 0,parking:!1,elevator:!1,cleanDescription:"",is_vacant:!1};if(We.has(s))return We.get(s);let t=s,r,a,l,n,i=!1,o=!1,c=!1;const d=s.match(Re.LANDLORD);if(d){const N=d[1],b=N.match(Re.LANDLORD_NAME),x=N.match(Re.LANDLORD_PHONE);b&&(r=b[1].trim()),x&&(a=x[1].trim()),t=t.replace(d[0],"").trim()}const h=s.match(Re.EXIT_DATE);h&&(l=h[1].trim(),t=t.replace(h[0],"").trim());const u=s.match(Re.VACANT);u&&(c=!0,t=t.replace(u[0],"").trim());const f=s.match(Re.FACILITIES);if(f){const N=f[1];i=N.includes(Ot.PARKING),o=N.includes(Ot.ELEVATOR),t=t.replace(f[0],"").trim()}const j=s.match(Re.DETAILED_ADDRESS);j&&(n=j[1].trim(),t=t.replace(j[0],"").trim()),t=t.replace(Re.CONSECUTIVE_NEWLINES,`
`).trim();const g={landlord_name:r,landlord_phone:a,exit_date:l,detailed_address:n,parking:i,elevator:o,cleanDescription:t,is_vacant:c};if(We.size>100){const N=We.keys().next().value;N&&We.delete(N)}return We.set(s,g),g},Nr=(s,t)=>(!s.description&&Object.keys(t).length,{id:s.id,tenant_id:s.tenant_id,created_by:s.user_id,title:s.title,type:s.property_type,transaction_type:s.transaction_type,status:s.status||"Í±∞ÎûòÏ§ë",address:s.address,detailed_address:t.detailed_address,area:s.area_exclusive,floor:s.floor_current,total_floors:s.floor_total,rooms:s.rooms,bathrooms:s.bathrooms,price:s.price?parseFloat(String(s.price)):void 0,deposit:s.deposit?parseFloat(String(s.deposit)):void 0,monthly_rent:s.monthly_rent?parseFloat(String(s.monthly_rent)):void 0,description:t.cleanDescription||s.description||"",landlord_name:t.landlord_name,landlord_phone:t.landlord_phone,exit_date:t.exit_date,parking:t.parking,elevator:t.elevator,images:[],is_featured:!1,view_count:0,created_at:s.created_at,updated_at:s.updated_at,options:[],inquiry_count:0,is_urgent:!1,is_favorite:!1}),an=async(s,t)=>{var r;try{F.info("üîç getProperties ÏãúÏûë",{userId:s,component:"propertyService",action:"getProperties"}),F.debug("Service getProperties ÌïÑÌÑ∞",{filters:t,component:"propertyService",action:"getProperties"});let{data:a,error:l}=await E.from("user_profiles").select("tenant_id").eq("id",s).single();if(l||!a){F.warn("‚ö†Ô∏è user_profile ÎàÑÎùΩ Í∞êÏßÄ - ÏûêÎèô Î≥µÍµ¨ ÏãúÏûë");const{data:h}=await E.auth.getUser();if(!((r=h.user)!=null&&r.email))throw new Error("ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.");const u=h.user.email.split("@")[0],{data:f}=await E.from("tenants").insert({name:`${u}Ïùò Î∂ÄÎèôÏÇ∞`,created_at:new Date().toISOString()}).select().single();if(f){await E.from("user_profiles").insert({id:s,tenant_id:f.id,name:u,role:"admin",company:`${u}Ïùò Î∂ÄÎèôÏÇ∞`,created_at:new Date().toISOString()});const{data:j}=await E.from("user_profiles").select("tenant_id").eq("id",s).single();a=j,console.log("‚úÖ ÏûêÎèô Î≥µÍµ¨ ÏôÑÎ£å - tenant_id:",a==null?void 0:a.tenant_id)}}const n=a==null?void 0:a.tenant_id;if(!n)throw new Error("ÏÇ¨Ïö©ÏûêÏóêÍ≤å Ìï†ÎãπÎêú ÌÖåÎÑåÌä∏Í∞Ä ÏóÜÏäµÎãàÎã§.");console.log("üìã Ïã§Ï†ú tenant_id:",n);let i=E.from("properties").select("*").eq("tenant_id",n).order("created_at",{ascending:!1});t&&(t.search&&(i=i.or(`title.ilike.%${t.search}%,address.ilike.%${t.search}%`)),t.transaction_type&&t.transaction_type!=="Ï†ÑÏ≤¥"&&(i=i.eq("transaction_type",t.transaction_type)),t.property_type&&t.property_type!=="Ï†ÑÏ≤¥"&&(i=i.eq("property_type",t.property_type)),t.property_status&&t.property_status!=="Ï†ÑÏ≤¥"&&(i=i.eq("status",t.property_status)));const{data:o,error:c}=await i;if(c)throw console.error("‚ùå Supabase Ï°∞Ìöå ÏóêÎü¨:",c),console.error("‚ùå ÏóêÎü¨ ÏÑ∏Î∂ÄÏÇ¨Ìï≠:",{message:c.message,details:c.details,hint:c.hint,code:c.code}),c;return(o||[]).map(h=>{const u=vr(h.description||null);return Nr(h,u)})}catch(a){throw console.error("üí• getProperties Ï†ÑÏ≤¥ ÏóêÎü¨:",a),console.error("üí• ÏóêÎü¨ ÌÉÄÏûÖ:",typeof a),console.error("üí• ÏóêÎü¨ Ï†ïÎ≥¥:",a instanceof Error?{name:a.name,message:a.message,stack:a.stack}:a),a}},ln=async(s,t)=>{try{const{data:r,error:a}=await E.from("properties").select(`
        *,
        landlord:user_profiles!properties_landlord_id_fkey(
          id,
          name,
          phone,
          email
        )
      `).eq("id",s).eq("tenant_id",t).single();if(a)throw console.error("Error fetching property:",a),a;return r}catch(r){throw console.error("Error in getProperty:",r),r}},nn=async(s,t,r)=>{if(!t||!r)throw console.error("‚ùå ÌïÑÏàò ÌååÎùºÎØ∏ÌÑ∞ ÎàÑÎùΩ:",{tenantId:t,userId:r}),new Error(ks.MISSING_TENANT_USER);if(!s.title||!s.address)throw console.error("‚ùå ÌïÑÏàò ÌïÑÎìú ÎàÑÎùΩ:",{title:s.title,address:s.address}),new Error(ks.MISSING_REQUIRED_FIELDS);try{const{data:a,error:l}=await E.from("user_profiles").select("tenant_id").eq("id",r).single();if(l)throw console.error("‚ùå ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï°∞Ìöå Ïã§Ìå®:",l),new Error("ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.");const n=a.tenant_id;if(!n)throw new Error("ÏÇ¨Ïö©ÏûêÏóêÍ≤å Ìï†ÎãπÎêú ÌÖåÎÑåÌä∏Í∞Ä ÏóÜÏäµÎãàÎã§.");let i=s.description||"";if(s.landlord_name||s.landlord_phone){const j=[];s.landlord_name&&j.push(`ÏûÑÎåÄÏù∏: ${s.landlord_name}`),s.landlord_phone&&j.push(`Ïó∞ÎùΩÏ≤ò: ${s.landlord_phone}`),i=`[ÏûÑÎåÄÏù∏Ï†ïÎ≥¥] ${j.join(" | ")}`+(i?`

${i}`:"")}if(s.exit_date){const j=`[Ìá¥Ïã§ÏòàÏ†ï] ${s.exit_date}`;i=(i?`${i}

`:"")+j}else i=(i?`${i}

`:"")+"[Í±∞Ï£ºÌòÑÌô©] Í≥µÏã§";const o=[];if(s.parking&&o.push("Ï£ºÏ∞®Í∞ÄÎä•"),s.elevator&&o.push("ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞"),o.length>0){const j=`[Ìé∏ÏùòÏãúÏÑ§] ${o.join(", ")}`;i=(i?`${i}

`:"")+j}if(s.detailed_address){const j=`[ÏÉÅÏÑ∏Ï£ºÏÜå] ${s.detailed_address}`;i=(i?`${i}

`:"")+j}if(s.status){const j=`[ÏÉÅÌÉú] ${s.status}`;i=(i?`${i}

`:"")+j}const c={tenant_id:n,user_id:r,title:s.title,address:s.address||"",property_type:s.type,transaction_type:s.transaction_type,status:s.status||"Í±∞ÎûòÏ§ë",price:s.price||null,deposit:s.deposit||null,monthly_rent:s.monthly_rent||null,floor_current:s.floor||ls.FLOOR,floor_total:s.total_floors||ls.TOTAL_FLOORS,area_exclusive:s.area||ls.AREA,rooms:s.rooms||ls.ROOMS,bathrooms:s.bathrooms||ls.BATHROOMS,description:i||null},{data:d,error:h}=await E.from("properties").insert(c).select("*").single();if(h)throw console.error("‚ùå Îß§Î¨º ÏÉùÏÑ± Ïã§Ìå®:",h),console.error("‚ùå ÏóêÎü¨ ÏΩîÎìú:",h.code),console.error("‚ùå ÏóêÎü¨ Î©îÏãúÏßÄ:",h.message),console.error("‚ùå ÏóêÎü¨ ÏÑ∏Î∂ÄÏÇ¨Ìï≠:",h.details),console.error("‚ùå ÏóêÎü¨ ÌûåÌä∏:",h.hint),new Error(`${ks.DATABASE_ERROR}: ${h.message}`);const u=vr(d.description),f=Nr(d,u);return f.updated_at=d.updated_at,f}catch(a){throw console.error("Error in createProperty:",a),a}},on=async(s,t,r)=>{try{const{data:a,error:l}=await E.from("user_profiles").select("tenant_id").eq("id",r).single();if(l)throw console.error("‚ùå ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï°∞Ìöå Ïã§Ìå®:",l),new Error("ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.");const n=a.tenant_id;if(!n)throw new Error("ÏÇ¨Ïö©ÏûêÏóêÍ≤å Ìï†ÎãπÎêú ÌÖåÎÑåÌä∏Í∞Ä ÏóÜÏäµÎãàÎã§.");const{data:i}=await E.from("properties").select("description").eq("id",s).eq("tenant_id",n).single(),c=(x=>{if(!x)return{cleanDescription:""};let p=x;return p=p.replace(/\[ÏûÑÎåÄÏù∏Ï†ïÎ≥¥\][^\n\[]*/,"").trim(),p=p.replace(/\[Ìá¥Ïã§ÏòàÏ†ï\][^\n\[]*/,"").trim(),p=p.replace(/\[Ìé∏ÏùòÏãúÏÑ§\][^\n\[]*/,"").trim(),p=p.replace(/\[ÏÉÅÏÑ∏Ï£ºÏÜå\][^\n\[]*/,"").trim(),p=p.replace(/\[ÏÉÅÌÉú\][^\n\[]*/,"").trim(),p=p.replace(/\n\s*\n/g,`
`).trim(),{cleanDescription:p}})(i==null?void 0:i.description);let d=t.description!==void 0?t.description:c.cleanDescription;if(t.landlord_name||t.landlord_phone){const x=[];t.landlord_name&&x.push(`ÏûÑÎåÄÏù∏: ${t.landlord_name}`),t.landlord_phone&&x.push(`Ïó∞ÎùΩÏ≤ò: ${t.landlord_phone}`),d=`[ÏûÑÎåÄÏù∏Ï†ïÎ≥¥] ${x.join(" | ")}`+(d?`

${d}`:"")}if(t.exit_date){const x=`[Ìá¥Ïã§ÏòàÏ†ï] ${t.exit_date}`;d=(d?`${d}

`:"")+x}const h=[];if(t.parking&&h.push("Ï£ºÏ∞®Í∞ÄÎä•"),t.elevator&&h.push("ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞"),h.length>0){const x=`[Ìé∏ÏùòÏãúÏÑ§] ${h.join(", ")}`;d=(d?`${d}

`:"")+x}if(t.detailed_address){const x=`[ÏÉÅÏÑ∏Ï£ºÏÜå] ${t.detailed_address}`;d=(d?`${d}

`:"")+x}if(t.status){const x=`[ÏÉÅÌÉú] ${t.status}`;d=(d?`${d}

`:"")+x}const u={};t.title!==void 0&&(u.title=t.title),t.type!==void 0&&(u.property_type=t.type),t.transaction_type!==void 0&&(u.transaction_type=t.transaction_type),t.status!==void 0&&(u.status=t.status),t.address!==void 0&&(u.address=t.address),t.area!==void 0&&(u.area_exclusive=t.area),t.floor!==void 0&&(u.floor_current=t.floor),t.total_floors!==void 0&&(u.floor_total=t.total_floors),t.rooms!==void 0&&(u.rooms=t.rooms),t.bathrooms!==void 0&&(u.bathrooms=t.bathrooms),t.price!==void 0&&(u.price=t.price),t.deposit!==void 0&&(u.deposit=t.deposit),t.monthly_rent!==void 0&&(u.monthly_rent=t.monthly_rent),u.description=d||null;const{data:f,error:j}=await E.from("properties").update(u).eq("id",s).eq("tenant_id",n).select().single();if(j)throw console.error("‚ùå Îß§Î¨º ÏàòÏ†ï Ïã§Ìå®:",j),new Error(`Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïò§Î•ò: ${j.message}`);const N=(x=>{if(!x)return{landlord_name:void 0,landlord_phone:void 0,exit_date:void 0,detailed_address:void 0,parking:!1,elevator:!1,status:void 0,cleanDescription:""};let p=x,v,y,k,L,z,R=!1,q=!1;const $=x.match(/\[ÏûÑÎåÄÏù∏Ï†ïÎ≥¥\]\s*([^\n\[]+)/);if($){const O=$[1],_=O.match(/ÏûÑÎåÄÏù∏:\s*([^|]+)/),P=O.match(/Ïó∞ÎùΩÏ≤ò:\s*([^|]+)/);_&&(v=_[1].trim()),P&&(y=P[1].trim()),p=p.replace($[0],"").trim()}const te=x.match(/\[Ìá¥Ïã§ÏòàÏ†ï\]\s*([^\n\[]+)/);te&&(k=te[1].trim(),p=p.replace(te[0],"").trim());const ee=x.match(/\[Ìé∏ÏùòÏãúÏÑ§\]\s*([^\n\[]+)/);if(ee){const O=ee[1];R=O.includes("Ï£ºÏ∞®Í∞ÄÎä•"),q=O.includes("ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞"),p=p.replace(ee[0],"").trim()}const G=x.match(/\[ÏÉÅÏÑ∏Ï£ºÏÜå\]\s*([^\n\[]+)/);G&&(L=G[1].trim(),p=p.replace(G[0],"").trim());const Y=x.match(/\[ÏÉÅÌÉú\]\s*([^\n\[]+)/);return Y&&(z=Y[1].trim(),p=p.replace(Y[0],"").trim()),p=p.replace(/\n\s*\n/g,`
`).trim(),{landlord_name:v,landlord_phone:y,exit_date:k,detailed_address:L,parking:R,elevator:q,status:z,cleanDescription:p}})(f.description);return{id:f.id,tenant_id:f.tenant_id,created_by:f.user_id,title:f.title,type:f.property_type,transaction_type:f.transaction_type,address:f.address,detailed_address:N.detailed_address,area:f.area_exclusive,floor:f.floor_current,total_floors:f.floor_total,rooms:f.rooms,bathrooms:f.bathrooms,price:f.price?parseFloat(f.price):void 0,deposit:f.deposit?parseFloat(f.deposit):void 0,monthly_rent:f.monthly_rent?parseFloat(f.monthly_rent):void 0,description:N.cleanDescription||f.description,landlord_name:N.landlord_name,landlord_phone:N.landlord_phone,exit_date:N.exit_date,parking:N.parking,elevator:N.elevator,images:[],is_featured:!1,view_count:0,created_at:f.created_at,updated_at:f.updated_at,status:f.status||t.status||"Í±∞ÎûòÏ§ë",options:[],inquiry_count:0,is_urgent:!1,is_favorite:!1}}catch(a){throw console.error("üí• updateProperty Ï†ÑÏ≤¥ ÏóêÎü¨:",a),a}},cn=async(s,t)=>{try{const{data:r,error:a}=await E.from("user_profiles").select("tenant_id").eq("id",t).single();if(a)throw console.error("‚ùå ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï°∞Ìöå Ïã§Ìå®:",a),new Error("ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.");const l=r.tenant_id;if(!l)throw new Error("ÏÇ¨Ïö©ÏûêÏóêÍ≤å Ìï†ÎãπÎêú ÌÖåÎÑåÌä∏Í∞Ä ÏóÜÏäµÎãàÎã§.");const{error:n}=await E.from("properties").delete().eq("id",s).eq("tenant_id",l);if(n)throw console.error("‚ùå Îß§Î¨º ÏÇ≠Ï†ú Ïã§Ìå®:",n),new Error(`Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïò§Î•ò: ${n.message}`);return!0}catch(r){throw console.error("üí• deleteProperty Ï†ÑÏ≤¥ ÏóêÎü¨:",r),r}},dn=async s=>{try{const{data:t,error:r}=await E.from("user_profiles").select("tenant_id").eq("id",s).single();if(r)throw console.error("‚ùå ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï°∞Ìöå Ïã§Ìå®:",r),new Error("ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.");const a=t.tenant_id;if(!a)throw new Error("ÏÇ¨Ïö©ÏûêÏóêÍ≤å Ìï†ÎãπÎêú ÌÖåÎÑåÌä∏Í∞Ä ÏóÜÏäµÎãàÎã§.");const{data:l,error:n}=await E.from("properties").select("transaction_type, created_at, status").eq("tenant_id",a);if(n)throw console.error("‚ùå Îß§Î¨º ÌÜµÍ≥Ñ Ï°∞Ìöå Ïã§Ìå®:",n),n;const i=l.filter(c=>c.status==="Í±∞ÎûòÏôÑÎ£å").length;return{total:l.length,active:l.length-i,reserved:0,sold:i,this_month:l.filter(c=>{const d=new Date(c.created_at),h=new Date;return d.getMonth()===h.getMonth()&&d.getFullYear()===h.getFullYear()}).length,by_transaction_type:{sale:l.filter(c=>c.transaction_type==="Îß§Îß§").length,jeonse:l.filter(c=>c.transaction_type==="Ï†ÑÏÑ∏").length,monthly:l.filter(c=>c.transaction_type==="ÏõîÏÑ∏").length}}}catch(t){throw console.error("Error in getPropertyStats:",t),t}},mn=async(s,t)=>{try{const{data:r,error:a}=await E.from("user_profiles").select("tenant_id").eq("id",t).single();if(a)throw console.error("‚ùå ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï°∞Ìöå Ïã§Ìå®:",a),new Error("ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.");const l=r.tenant_id;if(!l)throw new Error("ÏÇ¨Ïö©ÏûêÏóêÍ≤å Ìï†ÎãπÎêú ÌÖåÎÑåÌä∏Í∞Ä ÏóÜÏäµÎãàÎã§.");const{data:n}=await E.from("properties").select("is_favorite").eq("id",s).eq("tenant_id",l).single();if(!n)throw new Error(ks.PROPERTY_NOT_FOUND);const{data:i,error:o}=await E.from("properties").update({is_favorite:!n.is_favorite}).eq("id",s).eq("tenant_id",l).select().single();if(o)throw console.error("Error toggling property favorite:",o),o;return i}catch(r){throw console.error("Error in togglePropertyFavorite:",r),r}},xn=Object.freeze(Object.defineProperty({__proto__:null,createProperty:nn,deleteProperty:cn,getProperties:an,getProperty:ln,getPropertyStats:dn,togglePropertyFavorite:mn,updateProperty:on},Symbol.toStringTag,{value:"Module"})),hn="https://wlrsoyujrmeviczczfsh.supabase.co",un="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndscnNveXVqcm1ldmljemN6ZnNoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxNDM5NjUsImV4cCI6MjA2OTcxOTk2NX0.ZHepp6oDnIfG73nSERBGcgBis-iuumOvVlijUP4fu1Y",pe=Ft(hn,un,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"propertydesk-auth"},global:{headers:{"X-Client":"PropertyDesk-SaaS"}}});class X extends Error{constructor(r,a){var t=(...fi)=>(super(...fi),bs(this,"code"),bs(this,"field"),bs(this,"details"),this);typeof r=="string"?(t(r),this.code="UNKNOWN_ERROR"):(t(r.message),this.code=r.code,this.field=r.field||void 0,this.details=r.details||void 0),this.name="ServiceError",a&&F.error("ServiceError occurred:",{code:this.code,message:this.message,field:this.field,context:a})}}class gn{async getSchedules(t,r){try{let a=pe.from("schedules").select("*").eq("tenant_id",t).order("start_date",{ascending:!0});r&&(r.category&&(a=a.eq("category",r.category)),r.priority&&(a=a.eq("priority",r.priority)),r.status&&(a=a.eq("status",r.status)),r.date_range&&(a=a.gte("start_date",r.date_range.start).lte("end_date",r.date_range.end)),r.created_by&&(a=a.eq("created_by",r.created_by)));const{data:l,error:n}=await a;if(n)throw new X({code:"SCHEDULE_FETCH_ERROR",message:"Ïä§ÏºÄÏ§Ñ Î™©Î°ùÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",details:n});return l||[]}catch(a){throw a instanceof X?a:new X({code:"SCHEDULE_FETCH_UNEXPECTED_ERROR",message:"Ïä§ÏºÄÏ§Ñ Î™©Î°ùÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë ÏòàÏÉÅÏπò Î™ªÌïú Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",details:a})}}async getSchedulesByDateRange(t,r,a){return this.getSchedules(t,{date_range:{start:r,end:a}})}async getSchedulesByDate(t,r){const a=new Date(r);a.setHours(0,0,0,0);const l=new Date(r);return l.setHours(23,59,59,999),this.getSchedulesByDateRange(t,a.toISOString(),l.toISOString())}async getSchedule(t){try{const{data:r,error:a}=await pe.from("schedules").select("*").eq("id",t).single();if(a){if(a.code==="PGRST116")return null;throw new X({code:"SCHEDULE_GET_ERROR",message:"Ïä§ÏºÄÏ§ÑÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",details:a})}return r}catch(r){throw r instanceof X?r:new X({code:"SCHEDULE_GET_UNEXPECTED_ERROR",message:"Ïä§ÏºÄÏ§ÑÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë ÏòàÏÉÅÏπò Î™ªÌïú Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",details:r})}}async createSchedule(t,r,a){try{console.log("üîÑ scheduleService.createSchedule ÏãúÏûë:",{tenantId:t,userId:r,formData:a});const l={...a};(!l.property_id||l.property_id.trim()==="")&&delete l.property_id,Array.isArray(l.attendees)&&l.attendees.length===0&&delete l.attendees;const n={...l,tenant_id:t,created_by:r,status:"scheduled",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("üìù SupabaseÏóê ÏÇΩÏûÖÌï† Îç∞Ïù¥ÌÑ∞:",n);const{data:{user:i}}=await pe.auth.getUser();console.log("üîê ÌòÑÏû¨ Ïù∏Ï¶ùÎêú ÏÇ¨Ïö©Ïûê (RLS ÌôïÏù∏):",{userId:i==null?void 0:i.id,email:i==null?void 0:i.email,tenant_id_in_data:n.tenant_id,created_by_in_data:n.created_by,match_tenant:n.tenant_id===(i==null?void 0:i.id),match_created_by:n.created_by===(i==null?void 0:i.id)});const{data:o,error:c}=await pe.from("schedules").insert([n]).select().single();if(console.log("üìä Supabase ÏùëÎãµ:",{data:o,error:c}),c)throw console.error("‚ùå Supabase ÏÇΩÏûÖ Ïò§Î•ò:",c),new X({code:"SCHEDULE_CREATE_ERROR",message:`Ïä§ÏºÄÏ§Ñ Îì±Î°ù Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§: ${c.message}`,details:c});return console.log("‚úÖ Ïä§ÏºÄÏ§Ñ ÏÉùÏÑ± ÏÑ±Í≥µ:",o),o}catch(l){throw console.error("‚ùå scheduleService.createSchedule Ïò§Î•ò:",l),l instanceof X?l:new X({code:"SCHEDULE_CREATE_UNEXPECTED_ERROR",message:"Ïä§ÏºÄÏ§Ñ Îì±Î°ù Ï§ë ÏòàÏÉÅÏπò Î™ªÌïú Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",details:l})}}async updateSchedule(t,r,a){try{console.log("üîÑ Ïä§ÏºÄÏ§Ñ ÏàòÏ†ï ÏãúÏûë:",{id:t,updates:r});let l;if(a)console.log("üîê Ï†ÑÎã¨Î∞õÏùÄ ÏÇ¨Ïö©Ïûê ID ÏÇ¨Ïö©:",a),l=a;else{console.log("üîê SupabaseÏóêÏÑú ÌòÑÏû¨ ÏÇ¨Ïö©Ïûê ÌôïÏù∏ Ï§ë...");const{data:{user:u},error:f}=await pe.auth.getUser();if(console.log("üîê Supabase Ïù∏Ï¶ù ÏÉÅÌÉú:",{hasUser:!!u,userId:u==null?void 0:u.id,email:u==null?void 0:u.email,userError:f}),f||!u)throw console.error("‚ùå Supabase Ïù∏Ï¶ù Ïã§Ìå®:",f),new X({code:"SCHEDULE_UPDATE_AUTH_ERROR",message:"Ïù∏Ï¶ùÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.",details:f});l=u.id}const{data:n,error:i}=await pe.from("schedules").select("*").eq("id",t).eq("created_by",l).eq("tenant_id",l).single();if(console.log("üìä Í∏∞Ï°¥ Ïä§ÏºÄÏ§Ñ Ï°∞Ìöå Í≤∞Í≥º:",{hasData:!!n,fetchError:i,scheduleId:t,queryFilters:{id:t,created_by:l,tenant_id:l}}),i||!n)throw console.error("‚ùå Ïä§ÏºÄÏ§Ñ Ï°∞Ìöå Ïã§Ìå®:",i),new X({code:"SCHEDULE_NOT_FOUND",message:"ÏàòÏ†ïÌï† Ïä§ÏºÄÏ§ÑÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÍ±∞ÎÇò Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§.",details:i});if(n.created_by!==l||n.tenant_id!==l)throw console.error("‚ùå Í∂åÌïú ÌôïÏù∏ Ïã§Ìå®:",{scheduleCreatedBy:n.created_by,scheduleTenantId:n.tenant_id,currentUserId:l}),new X({code:"SCHEDULE_UPDATE_PERMISSION_ERROR",message:"Ïù¥ Ïä§ÏºÄÏ§ÑÏùÑ ÏàòÏ†ïÌï† Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§.",details:{scheduleCreatedBy:n.created_by,currentUserId:l}});const o={...r};o.property_id!==void 0&&(!o.property_id||o.property_id.trim()==="")&&delete o.property_id,Array.isArray(o.attendees)&&o.attendees.length===0&&delete o.attendees;const c={...o,updated_at:new Date().toISOString()},{data:d,error:h}=await pe.from("schedules").update(c).eq("id",t).eq("created_by",l).eq("tenant_id",l).select().single();if(h)throw new X({code:"SCHEDULE_UPDATE_ERROR",message:"Ïä§ÏºÄÏ§Ñ ÏàòÏ†ï Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",details:h});return console.log("‚úÖ Ïä§ÏºÄÏ§Ñ ÏàòÏ†ï ÏôÑÎ£å:",d),d}catch(l){throw l instanceof X?l:new X({code:"SCHEDULE_UPDATE_UNEXPECTED_ERROR",message:"Ïä§ÏºÄÏ§Ñ ÏàòÏ†ï Ï§ë ÏòàÏÉÅÏπò Î™ªÌïú Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",details:l})}}async updateScheduleStatus(t,r){return this.updateSchedule(t,{status:r})}async deleteSchedule(t,r){try{console.log("üóëÔ∏è Ïä§ÏºÄÏ§Ñ ÏÇ≠Ï†ú ÏãúÏûë:",{id:t});let a;if(r)console.log("üîê Ï†ÑÎã¨Î∞õÏùÄ ÏÇ¨Ïö©Ïûê ID ÏÇ¨Ïö© (ÏÇ≠Ï†ú):",r),a=r;else{console.log("üîê SupabaseÏóêÏÑú ÌòÑÏû¨ ÏÇ¨Ïö©Ïûê ÌôïÏù∏ Ï§ë (ÏÇ≠Ï†ú)...");const{data:{user:n},error:i}=await pe.auth.getUser();if(i||!n)throw console.error("‚ùå ÏÇ≠Ï†ú Ïãú Ïù∏Ï¶ù Ïã§Ìå®:",i),new X({code:"SCHEDULE_DELETE_AUTH_ERROR",message:"Ïù∏Ï¶ùÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.",details:i});a=n.id}const{error:l}=await pe.from("schedules").delete().eq("id",t).eq("created_by",a).eq("tenant_id",a);if(console.log("üóëÔ∏è Ïä§ÏºÄÏ§Ñ ÏÇ≠Ï†ú ÏøºÎ¶¨ Ïã§Ìñâ:",{scheduleId:t,userId:a,error:l}),l)throw new X({code:"SCHEDULE_DELETE_ERROR",message:"Ïä§ÏºÄÏ§Ñ ÏÇ≠Ï†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",details:l});console.log("‚úÖ Ïä§ÏºÄÏ§Ñ ÏÇ≠Ï†ú ÏôÑÎ£å")}catch(a){throw a instanceof X?a:new X({code:"SCHEDULE_DELETE_UNEXPECTED_ERROR",message:"Ïä§ÏºÄÏ§Ñ ÏÇ≠Ï†ú Ï§ë ÏòàÏÉÅÏπò Î™ªÌïú Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",details:a})}}async getTodaySchedules(t,r=3){try{const a=new Date,l=new Date(a);l.setHours(0,0,0,0);const n=new Date(a);n.setHours(23,59,59,999);const{data:i,error:o}=await pe.from("schedules").select("*").eq("tenant_id",t).gte("start_date",l.toISOString()).lte("start_date",n.toISOString()).in("status",["scheduled","in_progress"]).order("start_date",{ascending:!0}).limit(r);if(o)throw new X({code:"SCHEDULE_TODAY_ERROR",message:"ÎãπÏùº ÏùºÏ†ïÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",details:o});return i||[]}catch(a){throw a instanceof X?a:new X({code:"SCHEDULE_TODAY_UNEXPECTED_ERROR",message:"ÎãπÏùº ÏùºÏ†ïÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë ÏòàÏÉÅÏπò Î™ªÌïú Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",details:a})}}async getUpcomingSchedules(t,r=3){try{const a=new Date;a.setDate(a.getDate()+1),a.setHours(0,0,0,0);const{data:l,error:n}=await pe.from("schedules").select("*").eq("tenant_id",t).gte("start_date",a.toISOString()).in("status",["scheduled","in_progress"]).order("start_date",{ascending:!0}).limit(r);if(n)throw new X({code:"SCHEDULE_UPCOMING_ERROR",message:"Îã§Í∞ÄÏò§Îäî ÏùºÏ†ïÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",details:n});return l||[]}catch(a){throw a instanceof X?a:new X({code:"SCHEDULE_UPCOMING_UNEXPECTED_ERROR",message:"Îã§Í∞ÄÏò§Îäî ÏùºÏ†ïÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë ÏòàÏÉÅÏπò Î™ªÌïú Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",details:a})}}async getScheduleStats(t){try{const{data:r,error:a}=await pe.from("schedules").select("status, start_date, end_date").eq("tenant_id",t);if(a)throw new X({code:"SCHEDULE_STATS_ERROR",message:"Ïä§ÏºÄÏ§Ñ ÌÜµÍ≥ÑÎ•º Î∂àÎü¨Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",details:a});const l=new Date,n=r||[],i={total:n.length,scheduled:0,inProgress:0,completed:0,overdue:0};return n.forEach(o=>{const c=new Date(o.end_date);switch(o.status){case"scheduled":c<l?i.overdue++:i.scheduled++;break;case"in_progress":i.inProgress++;break;case"completed":i.completed++;break}}),i}catch(r){throw r instanceof X?r:new X({code:"SCHEDULE_STATS_UNEXPECTED_ERROR",message:"Ïä§ÏºÄÏ§Ñ ÌÜµÍ≥ÑÎ•º Î∂àÎü¨Ïò§Îäî Ï§ë ÏòàÏÉÅÏπò Î™ªÌïú Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.",details:r})}}}const Xe=new gn,fn=xn,{getProperties:pn,createProperty:bn,updateProperty:jn,deleteProperty:yn,getPropertyStats:vn}=fn,ps=s=>{const{user:t}=oe(),[r,a]=m.useState([]),[l,n]=m.useState(!0),[i,o]=m.useState(null),c=m.useCallback(async()=>{if(!(t!=null&&t.id)){n(!1),o(null),a([]);return}try{n(!0),o(null);const f=await pn(t.id,s);a(f||[])}catch(f){console.error("‚ùå Îç∞Ïù¥ÌÑ∞ Î°úÎî© Ïã§Ìå®:",f),o("Îß§Î¨ºÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§."),a([])}finally{n(!1)}},[t==null?void 0:t.id,s]);m.useEffect(()=>{c()},[c]);const d=m.useCallback(async f=>{if(!(t!=null&&t.id))throw new Error("ÏÇ¨Ïö©Ïûê Ïù∏Ï¶ù Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§. Îã§Ïãú Î°úÍ∑∏Ïù∏ Ìï¥Ï£ºÏÑ∏Ïöî.");try{const j=await bn(f,t.id,t.id);return a(g=>[j,...g]),j}catch(j){throw console.error("‚ùå useProperties.createNewProperty Ïã§Ìå®:",j),console.error("‚ùå ÏóêÎü¨ ÌÉÄÏûÖ:",typeof j),console.error("‚ùå ÏóêÎü¨ ÏÉÅÏÑ∏:",j instanceof Error?{name:j.name,message:j.message,stack:j.stack}:j),j instanceof Error?j:new Error("Îß§Î¨º ÏÉùÏÑ± Ï§ë Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}},[t==null?void 0:t.id]),h=m.useCallback(async(f,j)=>{if(!(t!=null&&t.id))throw new Error("ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§.");try{const g=await jn(f,j,t.id);return a(N=>N.map(b=>b.id===f?g:b).filter(b=>b!==null)),g}catch(g){throw console.error("Error updating property:",g),new Error("Îß§Î¨º ÏàòÏ†ï Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}},[t==null?void 0:t.id]),u=m.useCallback(async f=>{if(!(t!=null&&t.id))throw new Error("ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§.");try{await yn(f,t.id),a(j=>j.filter(g=>g.id!==f))}catch(j){throw console.error("Error deleting property:",j),new Error("Îß§Î¨º ÏÇ≠Ï†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}},[t==null?void 0:t.id]);return{properties:r,loading:l,error:i,refreshProperties:c,createProperty:d,updateProperty:h,deleteProperty:u}},Nn=()=>{const{user:s}=oe(),[t,r]=m.useState(null),[a,l]=m.useState(!0),[n,i]=m.useState(null);return m.useEffect(()=>{(async()=>{if(s!=null&&s.id)try{l(!0),i(null);const c=await vn(s.id);r(c)}catch(c){console.error("Error fetching property stats:",c),console.log("üîß Ïò§Î•òÎ°ú Ïù∏Ìïú Î™®ÏÇ¨ ÌÜµÍ≥Ñ Îç∞Ïù¥ÌÑ∞ ÏÇ¨Ïö©"),r({total:2,active:2,reserved:0,sold:0,this_month:2,total_users:1,active_users:1,by_transaction_type:{sale:1,jeonse:1,monthly:0}}),i(null)}finally{l(!1)}})()},[s==null?void 0:s.id]),{stats:t,loading:a,error:n}},wn=m.memo(({title:s,value:t,change:r,icon:a,color:l="text-gray-600",loading:n=!1})=>e.jsxs(le,{className:"transition-all hover:shadow-md",children:[e.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2 px-3 sm:px-6 pt-3 sm:pt-6",children:[e.jsx(Ne,{className:"text-xs sm:text-sm font-medium text-gray-600 truncate pr-2",children:s}),e.jsx(a,{className:`h-3 w-3 sm:h-4 sm:w-4 ${l} flex-shrink-0`})]}),e.jsx(xe,{className:"px-3 sm:px-6 pb-3 sm:pb-6",children:n?e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 sm:h-8 bg-gray-200 rounded w-3/4 mb-1 sm:mb-2"}),e.jsx("div",{className:"h-3 sm:h-4 bg-gray-200 rounded w-1/2"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 leading-none",children:t}),r&&e.jsxs("p",{className:"text-xs sm:text-xs text-gray-500 mt-1 leading-none",children:[e.jsxs("span",{className:"hidden sm:inline",children:[r," ÏßÄÎÇúÎã¨ ÎåÄÎπÑ"]}),e.jsx("span",{className:"sm:hidden",children:r})]})]})})]})),Dt=({title:s,schedules:t,loading:r,emptyMessage:a,onViewAll:l})=>{const n={property_viewing:{label:"Îß§Î¨º Î≥¥Í∏∞",color:"bg-blue-500",icon:e.jsx(be,{className:"w-3 h-3"})},contract_signing:{label:"Í≥ÑÏïΩ Ï≤¥Í≤∞",color:"bg-green-500",icon:e.jsx(Je,{className:"w-3 h-3"})},maintenance:{label:"Ïú†ÏßÄÎ≥¥Ïàò",color:"bg-yellow-500",icon:e.jsx(qe,{className:"w-3 h-3"})},client_meeting:{label:"Í≥†Í∞ù ÎØ∏ÌåÖ",color:"bg-purple-500",icon:e.jsx(ie,{className:"w-3 h-3"})},team_meeting:{label:"ÌåÄ ÌöåÏùò",color:"bg-indigo-500",icon:e.jsx(ie,{className:"w-3 h-3"})},personal:{label:"Í∞úÏù∏ ÏùºÏ†ï",color:"bg-pink-500",icon:e.jsx(je,{className:"w-3 h-3"})},other:{label:"Í∏∞ÌÉÄ",color:"bg-gray-500",icon:e.jsx(Je,{className:"w-3 h-3"})}},i=(d,h)=>{const u=new Date(d);return h?"Ï¢ÖÏùº":u.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1})},o=d=>{const h=new Date(d),u=new Date,f=new Date(u);return f.setDate(u.getDate()+1),h.toDateString()===u.toDateString()?"Ïò§Îäò":h.toDateString()===f.toDateString()?"ÎÇ¥Ïùº":h.toLocaleDateString("ko-KR",{month:"short",day:"numeric"})},c=(d,h=25)=>d.length>h?`${d.slice(0,h)}...`:d;return r?e.jsx(le,{children:e.jsxs(xe,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s}),l&&e.jsxs("button",{className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:["ÎçîÎ≥¥Í∏∞",e.jsx(Hs,{className:"w-4 h-4 ml-1"})]})]}),e.jsx("div",{className:"space-y-3",children:[1,2,3].map(d=>e.jsxs("div",{className:"flex items-center space-x-3 animate-pulse",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-200"}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-12"})]},d))})]})}):e.jsx(le,{children:e.jsxs(xe,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s}),l&&e.jsxs("button",{onClick:l,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center transition-colors",children:["ÎçîÎ≥¥Í∏∞",e.jsx(Hs,{className:"w-4 h-4 ml-1"})]})]}),t.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(je,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{className:"text-gray-500 text-sm",children:a})]}):e.jsx("div",{className:"space-y-3",children:t.map(d=>{const h=n[d.category];return e.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 hover:bg-gray-50 rounded-lg transition-colors cursor-pointer border border-transparent hover:border-gray-200 group",title:`${d.title} - ${h.label}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${h.color} flex-shrink-0`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:c(d.title)}),d.priority==="urgent"&&e.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-red-100 text-red-600",children:"Í∏¥Í∏â"})]}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-500",children:h.label}),d.location&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300 hidden sm:inline",children:"‚Ä¢"}),e.jsx("span",{className:"text-xs text-gray-400 truncate max-w-16 sm:max-w-24",children:d.location})]})]})]})]}),e.jsxs("div",{className:"flex flex-col items-end text-right flex-shrink-0 ml-2 sm:ml-3",children:[e.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[e.jsx(nt,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"hidden sm:inline",children:i(d.start_date,d.all_day)}),e.jsx("span",{className:"sm:hidden",children:d.all_day?"Ï¢ÖÏùº":i(d.start_date,d.all_day).slice(0,5)})]}),e.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:o(d.start_date)})]})]},d.id)})})]})})},_n=s=>{const t=s.split(" "),r=t.find(l=>l.endsWith("Îèô"));if(r)return r;const a=t.find(l=>l.endsWith("Íµ¨"));return a||t.slice(-2).join(" ")},Is=s=>{const{transaction_type:t,price:r,deposit:a,monthly_rent:l,title:n}=s;switch(t==="Îß§Îß§"&&F.debug("üîç Îß§Îß§Í∞Ä Í∞ÄÍ≤© Ìè¨Îß∑ÌåÖ:",{title:n,transaction_type:t,price:r,priceType:typeof r,result:r?`${_e(r)}`:"Í∞ÄÍ≤© ÌòëÏùò"}),t){case"Îß§Îß§":return r?`${_e(r)}`:"Í∞ÄÍ≤© ÌòëÏùò";case"Ï†ÑÏÑ∏":return a?`Ï†ÑÏÑ∏ ${_e(a)}`:"Î≥¥Ï¶ùÍ∏à ÌòëÏùò";case"ÏõîÏÑ∏":const i=a?_e(a):"0",o=l?_e(l):"0";return`${i}/${o}`;case"Îã®Í∏∞ÏûÑÎåÄ":return l?`Ïõî ${_e(l)}`:"Í∞ÄÍ≤© ÌòëÏùò";default:return"Í∞ÄÍ≤© Ï†ïÎ≥¥ ÏóÜÏùå"}},_e=s=>{if(s>=1e4&&F.debug("üí∞ formatMoney Îß§Îß§Í∞Ä ÎîîÎ≤ÑÍπÖ:",{amount:s,type:typeof s,eok:Math.floor(s/1e4),man:s%1e4,Í≤∞Í≥º:s>=1e4?s%1e4===0?`${Math.floor(s/1e4)}Ïñµ`:`${Math.floor(s/1e4)}Ïñµ ${(s%1e4).toLocaleString()}ÎßåÏõê`:`${s.toLocaleString()}ÎßåÏõê`}),s>=1e4){const t=Math.floor(s/1e4),r=s%1e4;return r===0?`${t}Ïñµ`:`${t}Ïñµ ${r.toLocaleString()}ÎßåÏõê`}else return`${s.toLocaleString()}ÎßåÏõê`},Lt=s=>{const t=(s/3.3058).toFixed(1);return`${s}„é° (${t}Ìèâ)`},wr=m.memo(({property:s,onClick:t,className:r=""})=>{const a=_n(s.address),l=Is(s);return e.jsxs("div",{className:`
        card bg-white rounded-xl border border-gray-200 hover:border-blue-300 
        hover:shadow-md transition-all duration-200 cursor-pointer
        p-3 sm:p-4 space-y-3 group active:scale-[0.98] touch-target
        relative
        ${r}
      `,onClick:()=>t==null?void 0:t(s),children:[s.status==="Í±∞ÎûòÏôÑÎ£å"&&e.jsx("div",{className:"absolute top-2 right-2 z-10",children:e.jsx("div",{className:"bg-red-600/90 text-white px-3 py-1.5 rounded-lg transform rotate-12 shadow-lg",children:e.jsx("span",{className:"text-sm sm:text-base font-bold tracking-wide",children:"ÏôÑÎ£å"})})}),e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg leading-tight line-clamp-2 group-hover:text-blue-600 transition-colors flex-1 min-w-0",children:s.title}),s.is_urgent&&e.jsx("span",{className:"bg-red-100 text-red-600 text-xs px-2 py-1 rounded-full font-medium flex-shrink-0",children:"Í∏âÎß§"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(be,{className:"w-4 h-4 mr-2 flex-shrink-0 text-gray-400"}),e.jsx("span",{className:"text-sm sm:text-base truncate",children:a})]}),e.jsxs("div",{className:"flex items-center text-gray-900",children:[e.jsx(qt,{className:"w-4 h-4 mr-2 text-blue-600 flex-shrink-0"}),e.jsx("span",{className:"font-bold text-lg sm:text-xl text-blue-600",children:l})]}),s.exit_date?e.jsxs("div",{className:"flex items-center text-orange-600",children:[e.jsx(je,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsxs("span",{className:"text-sm font-medium",children:["Ìá¥Ïã§:"," ",new Date(s.exit_date).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})]})]}):e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(je,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium",children:"Í≥µÏã§"})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-500",children:[e.jsx("span",{children:s.type}),e.jsx("span",{className:"text-gray-300",children:"‚Ä¢"}),e.jsx("span",{children:s.transaction_type})]}),e.jsx(us,{status:s.status})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{children:[s.area,"m¬≤ (",Math.floor(s.area/3.3),"Ìèâ)"]}),e.jsxs("span",{children:[s.rooms,"Î£∏"]}),s.floor&&e.jsxs("span",{children:[s.floor,"Ï∏µ"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.parking&&e.jsx("span",{className:"text-green-600",title:"Ï£ºÏ∞® Í∞ÄÎä•",children:"üöó"}),s.elevator&&e.jsx("span",{className:"text-blue-600",title:"ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞",children:"üè¢"})]})]})]})]})}),Sn=()=>{const[s,t]=m.useState({isMobile:!1,width:0,height:0,detectionDetails:{isMobileWidth:!1,isMobileUA:!1,isTouchDevice:!1,isPortraitOrientation:!1,mediaQueryMatch:!1,isHighDPR:!1,mobileScore:0,userAgent:""}});return m.useEffect(()=>{const r=()=>{const a=window.innerWidth,l=window.innerHeight,n=navigator.userAgent.toLowerCase(),i=a<1024,o=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(n)||n.includes("chrome")&&n.includes("mobile")||n.includes("chrome")&&n.includes("android")&&n.includes("mobile")||n.includes("crios")&&n.includes("mobile")||/chrome.*android.*mobile/i.test(n)||/android.*chrome.*mobile/i.test(n)||n.includes("samsungbrowser")||n.includes("mobile")||n.includes("phone")||n.includes("wv")||n.includes("android")&&!n.includes("desktop"),c="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,d=l>a,h=window.matchMedia("(max-width: 1023px)").matches,u=window.devicePixelRatio>1.5,f=a<768&&l<1024,j=n.includes("chrome")&&n.includes("android")&&n.includes("mobile"),g=n.includes("mobile")&&(a<768||c);let N=[i?4:0,o?3:0,c?2:0,d&&a<800?1.5:0,h?2:0,u?1:0,f?2:0].reduce((v,y)=>v+y,0);(j||g)&&(N+=2);const x=a<=768&&c||o&&a<1024||j||d&&a<768||h&&c||N>=4,p={isMobileWidth:i,isMobileUA:o,isTouchDevice:c,isPortraitOrientation:d,mediaQueryMatch:h,isHighDPR:u,mobileScore:N,userAgent:navigator.userAgent};t({isMobile:x,width:a,height:l,detectionDetails:p})};return r(),window.addEventListener("resize",r),window.addEventListener("orientationchange",r),()=>{window.removeEventListener("resize",r),window.removeEventListener("orientationchange",r)}},[]),s},ht=()=>{const{isMobile:s}=Sn();return s},_r=({property:s,isOpen:t,onClose:r,onEdit:a,onDelete:l})=>{const n=ht();if(!t||!s)return null;const i=Is(s),o=h=>h%1===0?`${h}Î£∏`:`${h}Î£∏`,c=()=>{a&&a(s)},d=()=>{l&&l(s)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end sm:items-center justify-center p-0 sm:p-4 z-50 touch-manipulation",children:e.jsxs("div",{className:"bg-white rounded-t-2xl sm:rounded-lg w-full max-w-7xl max-h-[95vh] h-[95vh] sm:h-auto overflow-hidden flex flex-col shadow-2xl",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[n&&e.jsx("div",{className:"flex justify-center pt-2 pb-1",children:e.jsx("div",{className:"w-10 h-1 bg-gray-300 rounded-full"})}),n&&e.jsxs("div",{className:"p-3 sm:p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex-1 pr-4",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[e.jsx("button",{onClick:c,className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors min-w-[36px] min-h-[36px] flex items-center justify-center","aria-label":"Îß§Î¨º ÏàòÏ†ï",children:e.jsx(ms,{className:"w-4 h-4"})}),e.jsx("button",{onClick:d,className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors min-w-[36px] min-h-[36px] flex items-center justify-center","aria-label":"Îß§Î¨º ÏÇ≠Ï†ú",children:e.jsx(Ye,{className:"w-4 h-4"})}),e.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors min-w-[36px] min-h-[36px] flex items-center justify-center","aria-label":"Îã´Í∏∞",children:e.jsx(ue,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(be,{className:"w-4 h-4 text-gray-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:s.address})]}),e.jsxs("div",{className:"text-center py-2 bg-white rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600 mb-1",children:i}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:s.type}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:s.transaction_type}),e.jsx(us,{status:s.status})]})]})]}),!n&&e.jsxs("div",{className:"hidden lg:flex items-center justify-between p-6 space-x-6",children:[e.jsxs("div",{className:"flex-1 flex items-center space-x-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-base",children:s.address})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:i}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"px-3 py-1.5 bg-blue-100 text-blue-800 rounded-full font-medium text-sm",children:s.type}),e.jsx("span",{className:"px-3 py-1.5 bg-green-100 text-green-800 rounded-full font-medium text-sm",children:s.transaction_type}),e.jsx(us,{status:s.status})]})]})]}),e.jsx("button",{onClick:r,className:"p-3 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(ue,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:e.jsxs("div",{className:"px-3 py-2 sm:p-4 space-y-2 sm:space-y-4 pb-safe pb-24",children:[n&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-2",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-1"}),"Í∏∞Î≥∏ Ï†ïÎ≥¥"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Î©¥Ï†Å"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:Lt(s.area)})]}),e.jsxs("div",{className:"flex justify-between items-center py-1 border-t border-blue-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Ï∏µÏàò"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[s.floor,"F/",s.total_floors,"F"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-1 border-t border-blue-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Íµ¨Ï°∞"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[o(s.rooms)," ",s.bathrooms,"ÏöïÏã§"]})]}),e.jsx("div",{className:"pt-1 border-t border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ìé∏ÏùòÏãúÏÑ§"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:`flex items-center px-2 py-1 rounded text-xs font-medium ${s.parking?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[e.jsx(pt,{className:"w-3 h-3 mr-1"}),"Ï£ºÏ∞®"]}),e.jsxs("div",{className:`flex items-center px-2 py-1 rounded text-xs font-medium ${s.elevator?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[e.jsx(Ys,{className:"w-3 h-3 mr-1"}),"EV"]})]})]})})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg p-2",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"ÏúÑÏπò Ï†ïÎ≥¥"]}),e.jsxs("div",{className:"flex items-start space-x-2 p-2 bg-white rounded border border-green-200",children:[e.jsx(be,{className:"w-3 h-3 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900 leading-tight break-words",children:s.address}),s.detailed_address&&e.jsx("div",{className:"text-xs text-gray-600 mt-0.5",children:s.detailed_address})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 rounded-lg p-2",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-1"}),"Í∞ÄÍ≤© Ï†ïÎ≥¥"]}),e.jsxs("div",{className:"space-y-1",children:[s.transaction_type==="Îß§Îß§"&&s.price&&e.jsx("div",{className:"bg-blue-100 border border-blue-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-blue-800",children:"Îß§Îß§Í∞Ä"}),e.jsx("span",{className:"text-base font-bold text-blue-900",children:_e(s.price)})]})}),(s.transaction_type==="Ï†ÑÏÑ∏"||s.transaction_type==="ÏõîÏÑ∏")&&s.deposit!==void 0&&e.jsx("div",{className:"bg-green-100 border border-green-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-green-800",children:s.transaction_type==="Ï†ÑÏÑ∏"?"Ï†ÑÏÑ∏Í∏à":"Î≥¥Ï¶ùÍ∏à"}),e.jsx("span",{className:"text-base font-bold text-green-900",children:_e(s.deposit)})]})}),s.transaction_type==="ÏõîÏÑ∏"&&s.monthly_rent&&e.jsx("div",{className:"bg-orange-100 border border-orange-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-orange-800",children:"ÏõîÏÑ∏"}),e.jsxs("span",{className:"text-base font-bold text-orange-900",children:[s.monthly_rent,"ÎßåÏõê/Ïõî"]})]})})]})]})]}),!n&&e.jsxs("div",{className:"block",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),"Í∏∞Î≥∏ Ï†ïÎ≥¥"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2 border border-blue-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-semibold",children:"Ï†ÑÏö©Î©¥Ï†Å"}),e.jsx("span",{className:"text-base font-bold text-gray-900",children:Lt(s.area)})]}),e.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2 border border-blue-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-semibold",children:"Ï∏µÏàò"}),e.jsxs("span",{className:"text-base font-bold text-gray-900",children:[s.floor,"F / ",s.total_floors,"F"]})]}),e.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2 border border-blue-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-semibold",children:"Íµ¨Ï°∞"}),e.jsxs("span",{className:"text-base font-bold text-gray-900",children:[o(s.rooms)," ",s.bathrooms,"ÏöïÏã§"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 border border-yellow-200",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),"Í∞ÄÍ≤© Ï†ïÎ≥¥"]}),e.jsxs("div",{className:"space-y-2",children:[s.transaction_type==="Îß§Îß§"&&s.price&&e.jsx("div",{className:"bg-blue-100 border border-blue-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-blue-800",children:"Îß§Îß§Í∞Ä"}),e.jsx("span",{className:"text-base font-bold text-blue-900",children:_e(s.price)})]})}),(s.transaction_type==="Ï†ÑÏÑ∏"||s.transaction_type==="ÏõîÏÑ∏")&&s.deposit!==void 0&&e.jsx("div",{className:"bg-green-100 border border-green-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-green-800",children:s.transaction_type==="Ï†ÑÏÑ∏"?"Ï†ÑÏÑ∏Í∏à":"Î≥¥Ï¶ùÍ∏à"}),e.jsx("span",{className:"text-base font-bold text-green-900",children:_e(s.deposit)})]})}),s.transaction_type==="ÏõîÏÑ∏"&&s.monthly_rent&&e.jsx("div",{className:"bg-orange-100 border border-orange-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-orange-800",children:"ÏõîÏÑ∏"}),e.jsxs("span",{className:"text-base font-bold text-orange-900",children:[s.monthly_rent,"ÎßåÏõê/Ïõî"]})]})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),"Ìé∏ÏùòÏãúÏÑ§ & ÏúÑÏπò"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:`flex items-center justify-center py-2 px-2 rounded text-sm font-semibold ${s.parking?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-600 border border-gray-300"}`,children:[e.jsx(pt,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Ï£ºÏ∞®"})]}),e.jsxs("div",{className:`flex items-center justify-center py-2 px-2 rounded text-sm font-semibold ${s.elevator?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-600 border border-gray-300"}`,children:[e.jsx(Ys,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"EV"})]})]}),e.jsxs("div",{className:"bg-white rounded p-2 border border-green-200",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(be,{className:"w-4 h-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("div",{className:"text-sm text-gray-900 leading-tight font-medium",children:s.address})]}),s.detailed_address&&e.jsx("div",{className:"text-sm text-gray-600 mt-1 ml-6 font-medium",children:s.detailed_address})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),"ÏûÑÎåÄÏù∏ & ÎÇ†Ïßú"]}),e.jsx("div",{className:"space-y-2 mb-3",children:s.landlord_name||s.landlord_phone?e.jsxs(e.Fragment,{children:[s.landlord_name&&e.jsx("div",{className:"bg-white rounded p-2 border border-purple-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"ÏûÑÎåÄÏù∏"}),e.jsx("span",{className:"text-base font-bold text-gray-900",children:s.landlord_name})]})}),s.landlord_phone&&e.jsx("div",{className:"bg-white rounded p-2 border border-purple-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Ïó∞ÎùΩÏ≤ò"}),e.jsx("span",{className:"text-base font-bold text-gray-900",children:s.landlord_phone})]})})]}):e.jsxs("div",{className:"bg-white rounded p-2 border border-purple-200 text-center text-gray-500",children:[e.jsx(ie,{className:"w-4 h-4 mx-auto mb-1 opacity-50"}),e.jsx("div",{className:"text-sm font-medium",children:"Ï†ïÎ≥¥ ÏóÜÏùå"})]})}),e.jsxs("div",{className:"space-y-2",children:[s.exit_date?e.jsx("div",{className:"bg-red-100 border border-red-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-red-800",children:"Ìá¥Ïã§ÏòàÏ†ï"}),e.jsx("span",{className:"text-sm font-bold text-red-900",children:new Date(s.exit_date).toLocaleDateString("ko-KR")})]})}):e.jsx("div",{className:"bg-green-100 border border-green-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-green-800",children:"Í±∞Ï£ºÌòÑÌô©"}),e.jsx("span",{className:"text-sm font-bold text-green-900",children:"Í≥µÏã§"})]})}),e.jsx("div",{className:"bg-white border border-purple-200 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-gray-800",children:"Îì±Î°ùÏùº"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:new Date(s.created_at).toLocaleDateString("ko-KR")})]})})]})]})]}),s.description&&e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 rounded-lg p-4 border border-amber-200",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full mr-2"}),"ÏÉÅÏÑ∏ ÏÑ§Î™Ö"]}),e.jsx("div",{className:"bg-white p-4 rounded border border-amber-200 max-h-32 overflow-y-auto",children:e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap font-medium",children:s.description})})]})]}),n&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg p-2",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-1"}),"ÏûÑÎåÄÏù∏ & ÎÇ†Ïßú"]}),e.jsxs("div",{className:"space-y-1",children:[s.landlord_name||s.landlord_phone?e.jsxs("div",{className:"bg-white border border-purple-200 rounded p-2 space-y-1",children:[s.landlord_name&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-purple-800",children:"ÏûÑÎåÄÏù∏"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:s.landlord_name})]}),s.landlord_phone&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Ïó∞ÎùΩÏ≤ò"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:s.landlord_phone})]})]}):e.jsxs("div",{className:"bg-white border border-purple-200 rounded p-2 text-center",children:[e.jsx(ie,{className:"w-3 h-3 mx-auto mb-0.5 text-gray-400"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Ï†ïÎ≥¥ ÏóÜÏùå"})]}),e.jsxs("div",{className:"space-y-1",children:[s.exit_date?e.jsx("div",{className:"bg-red-100 border border-red-300 rounded p-1.5",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-red-800",children:"Ìá¥Ïã§ÏòàÏ†ï"}),e.jsx("span",{className:"text-sm font-bold text-red-900",children:new Date(s.exit_date).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})})]})}):e.jsx("div",{className:"bg-green-100 border border-green-300 rounded p-1.5",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-green-800",children:"Í±∞Ï£ºÌòÑÌô©"}),e.jsx("span",{className:"text-sm font-bold text-green-900",children:"Í≥µÏã§"})]})}),e.jsx("div",{className:"bg-white border border-purple-200 rounded p-1.5",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-gray-800",children:"Îì±Î°ùÏùº"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:new Date(s.created_at).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})})]})})]})]})]}),s.description&&e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 rounded-lg p-2",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full mr-1"}),"ÏÉÅÏÑ∏ ÏÑ§Î™Ö"]}),e.jsx("div",{className:"bg-white p-2 rounded border border-amber-200",children:e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap",children:s.description})})]})]})]})}),e.jsxs("div",{className:"border-t border-gray-200 bg-white lg:bg-gray-50",children:[n&&e.jsx("div",{className:"pb-safe-4"}),!n&&e.jsxs("div",{className:"flex items-center justify-between p-6 bg-gray-50",children:[e.jsx("div",{}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all duration-200 border border-gray-300 hover:border-gray-400 font-medium",children:"Îã´Í∏∞"}),e.jsxs("button",{onClick:c,className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-200 font-medium text-sm flex items-center",children:[e.jsx(ms,{className:"w-4 h-4 mr-2"}),"ÏàòÏ†ïÌïòÍ∏∞"]}),e.jsxs("button",{onClick:d,className:"px-5 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-200 font-medium text-sm flex items-center",children:[e.jsx(Ye,{className:"w-4 h-4 mr-2"}),"ÏÇ≠Ï†úÌïòÍ∏∞"]})]})]})]})]})})},kn=["ÏïÑÌååÌä∏","Ïò§ÌîºÏä§ÌÖî","ÏõêÎ£∏","ÎπåÎùº","Îã®ÎèÖÏ£ºÌÉù","ÏÉÅÍ∞Ä","ÏÇ¨Î¨¥Ïã§","Í∏∞ÌÉÄ"],En=["Îß§Îß§","Ï†ÑÏÑ∏","ÏõîÏÑ∏","Îã®Í∏∞ÏûÑÎåÄ"],Cn=["Í±∞ÎûòÏ§ë","Í±∞ÎûòÏôÑÎ£å"],Sr=({isOpen:s,onClose:t,onSubmit:r,property:a,loading:l=!1})=>{const[n,i]=m.useState({}),[o,c]=m.useState({}),[d,h]=m.useState(!1);m.useEffect(()=>{a&&s&&(i({title:a.title,type:a.type,transaction_type:a.transaction_type,status:a.status,address:a.address,detailed_address:a.detailed_address||"",area:a.area,floor:a.floor,total_floors:a.total_floors,rooms:a.rooms,bathrooms:a.bathrooms,parking:a.parking,elevator:a.elevator,price:a.price,deposit:a.deposit,monthly_rent:a.monthly_rent,description:a.description||"",landlord_name:a.landlord_name||"",landlord_phone:a.landlord_phone||"",exit_date:a.exit_date||""}),c({}))},[a,s]);const u=m.useCallback((g,N)=>{i(b=>({...b,[g]:N})),o[g]&&c(b=>({...b,[g]:void 0}))},[o]),f=()=>{var N,b;const g={};return(N=n.title)!=null&&N.trim()||(g.title="Ï†úÎ™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),(b=n.address)!=null&&b.trim()||(g.address="Ï£ºÏÜåÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),(!n.area||n.area<=0)&&(g.area="Î©¥Ï†ÅÏùÄ 0Î≥¥Îã§ Ïª§Ïïº Ìï©ÎãàÎã§"),(!n.floor||n.floor<1)&&(g.floor="Ï∏µÏàòÎäî 1Ï∏µ Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§"),(!n.total_floors||n.total_floors<(n.floor||1))&&(g.total_floors="Ï†ÑÏ≤¥ Ï∏µÏàòÎäî Ìï¥Îãπ Ï∏µÏàòÎ≥¥Îã§ ÌÅ¨Í±∞ÎÇò Í∞ôÏïÑÏïº Ìï©ÎãàÎã§"),(!n.rooms||n.rooms<1)&&(g.rooms="Î∞© Í∞úÏàòÎäî 1Í∞ú Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§"),(!n.bathrooms||n.bathrooms<1)&&(g.bathrooms="ÌôîÏû•Ïã§ Í∞úÏàòÎäî 1Í∞ú Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§"),n.transaction_type==="Îß§Îß§"&&(!n.price||n.price<=0)&&(g.price="Îß§Îß§Í∞ÄÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),n.transaction_type==="Ï†ÑÏÑ∏"&&(!n.deposit||n.deposit<=0)&&(g.deposit="Ï†ÑÏÑ∏Í∏àÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),n.transaction_type==="ÏõîÏÑ∏"&&((!n.deposit||n.deposit<=0)&&(g.deposit="Î≥¥Ï¶ùÍ∏àÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),(!n.monthly_rent||n.monthly_rent<=0)&&(g.monthly_rent="ÏõîÏÑ∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî")),c(g),Object.keys(g).length===0},j=async g=>{if(g.preventDefault(),!(!f()||d)){h(!0);try{await r(n),alert("‚úÖ Îß§Î¨ºÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§!"),t()}catch(N){console.error("Îß§Î¨º ÏàòÏ†ï Ïã§Ìå®:",N);const b=N instanceof Error?N.message:"Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.";alert(`‚ùå Îß§Î¨º ÏàòÏ†ï Ïã§Ìå®: ${b}`)}finally{h(!1)}}};return s?e.jsx(Ee,{isOpen:s,onClose:t,size:"lg",children:e.jsxs(le,{children:[e.jsx(ve,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Ne,{children:"Îß§Î¨º Ï†ïÎ≥¥ ÏàòÏ†ï"}),e.jsx(U,{variant:"ghost",size:"sm",onClick:t,className:"p-1 h-8 w-8",children:e.jsx(ue,{size:16})})]})}),e.jsx(xe,{children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Í∏∞Î≥∏ Ï†ïÎ≥¥"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(A,{label:"Îß§Î¨º Ï†úÎ™©",value:n.title||"",onChange:g=>u("title",g.target.value),error:o.title,placeholder:"Ïòà: Í∞ïÎÇ®Íµ¨ Ïã†ÏÇ¨Îèô Îü≠ÏÖîÎ¶¨ ÏïÑÌååÌä∏",required:!0})}),e.jsx(he,{label:"Îß§Î¨º Ïú†Ìòï",value:n.type||"",onChange:g=>u("type",g.target.value),options:kn.map(g=>({value:g,label:g})),required:!0}),e.jsx(he,{label:"Í±∞Îûò Ïú†Ìòï",value:n.transaction_type||"",onChange:g=>u("transaction_type",g.target.value),options:En.map(g=>({value:g,label:g})),required:!0}),e.jsx(he,{label:"Îß§Î¨º ÏÉÅÌÉú",value:n.status||"",onChange:g=>u("status",g.target.value),options:Cn.map(g=>({value:g,label:g})),required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ÏúÑÏπò Ï†ïÎ≥¥"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(A,{label:"Ï£ºÏÜå",value:n.address||"",onChange:g=>u("address",g.target.value),error:o.address,placeholder:"Ïòà: ÏÑúÏö∏Ïãú Í∞ïÎÇ®Íµ¨ Ïã†ÏÇ¨Îèô 123-45",required:!0})}),e.jsx(A,{label:"ÏÉÅÏÑ∏ Ï£ºÏÜå",value:n.detailed_address||"",onChange:g=>u("detailed_address",g.target.value),placeholder:"Ïòà: 123Îèô 456Ìò∏"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Îß§Î¨º Ï†ïÎ≥¥"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(A,{label:"Î©¥Ï†Å (m¬≤)",type:"number",value:n.area||"",onChange:g=>u("area",parseFloat(g.target.value)||0),error:o.area,placeholder:"85.0",min:"0",step:"0.1",required:!0}),e.jsx(A,{label:"Ï∏µÏàò",type:"number",value:n.floor||"",onChange:g=>u("floor",parseInt(g.target.value)||1),error:o.floor,placeholder:"15",min:"1",required:!0}),e.jsx(A,{label:"Ï†ÑÏ≤¥ Ï∏µÏàò",type:"number",value:n.total_floors||"",onChange:g=>u("total_floors",parseInt(g.target.value)||1),error:o.total_floors,placeholder:"25",min:"1",required:!0}),e.jsx(A,{label:"Î∞© Í∞úÏàò",type:"number",value:n.rooms||"",onChange:g=>u("rooms",parseInt(g.target.value)||1),error:o.rooms,placeholder:"3",min:"1",required:!0}),e.jsx(A,{label:"ÌôîÏû•Ïã§ Í∞úÏàò",type:"number",value:n.bathrooms||"",onChange:g=>u("bathrooms",parseInt(g.target.value)||1),error:o.bathrooms,placeholder:"2",min:"1",required:!0})]}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:n.parking||!1,onChange:g=>u("parking",g.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ï£ºÏ∞® Í∞ÄÎä•"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:n.elevator||!1,onChange:g=>u("elevator",g.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Í∞ÄÍ≤© Ï†ïÎ≥¥"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.transaction_type==="Îß§Îß§"&&e.jsx(A,{label:"Îß§Îß§Í∞Ä (ÎßåÏõê)",type:"number",value:n.price||"",onChange:g=>u("price",parseInt(g.target.value)||void 0),error:o.price,placeholder:"35000",min:"0",required:!0}),(n.transaction_type==="Ï†ÑÏÑ∏"||n.transaction_type==="ÏõîÏÑ∏")&&e.jsx(A,{label:n.transaction_type==="Ï†ÑÏÑ∏"?"Ï†ÑÏÑ∏Í∏à (ÎßåÏõê)":"Î≥¥Ï¶ùÍ∏à (ÎßåÏõê)",type:"number",value:n.deposit||"",onChange:g=>u("deposit",parseInt(g.target.value)||void 0),error:o.deposit,placeholder:"21000",min:"0",required:!0}),n.transaction_type==="ÏõîÏÑ∏"&&e.jsx(A,{label:"ÏõîÏÑ∏ (ÎßåÏõê)",type:"number",value:n.monthly_rent||"",onChange:g=>u("monthly_rent",parseInt(g.target.value)||void 0),error:o.monthly_rent,placeholder:"65",min:"0",required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ÏûÑÎåÄÏù∏ Ï†ïÎ≥¥"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(A,{label:"ÏûÑÎåÄÏù∏ Ïù¥Î¶Ñ",value:n.landlord_name||"",onChange:g=>u("landlord_name",g.target.value),placeholder:"ÌôçÍ∏∏Îèô"}),e.jsx(A,{label:"ÏûÑÎåÄÏù∏ Ïó∞ÎùΩÏ≤ò",value:n.landlord_phone||"",onChange:g=>u("landlord_phone",g.target.value),placeholder:"010-1234-5678"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Í∏∞ÌÉÄ Ï†ïÎ≥¥"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsx(A,{label:"Ìá¥Ïã§ ÏòàÏ†ïÏùº",type:"date",value:n.exit_date||"",onChange:g=>u("exit_date",g.target.value)})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Îß§Î¨º ÏÑ§Î™Ö"}),e.jsx("textarea",{value:n.description||"",onChange:g=>u("description",g.target.value),placeholder:"Îß§Î¨ºÏóê ÎåÄÌïú ÏÉÅÏÑ∏Ìïú ÏÑ§Î™ÖÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx(U,{type:"button",variant:"outline",onClick:t,disabled:l,children:"Ï∑®ÏÜå"}),e.jsx(U,{type:"submit",variant:"primary",loading:l||d,leftIcon:e.jsx(is,{size:16}),children:"ÏàòÏ†ï ÏôÑÎ£å"})]})]})})]})}):null},Pn=async s=>{const{data:t,error:r}=await E.functions.invoke("send-team-invitation",{body:s});if(r)throw F.error("Email sending failed",{error:r instanceof Error?r.message:"Unknown error",component:"teamService",action:"sendInvitationEmail"}),r;return t},kr=async s=>{try{const{data:t,error:r}=await E.from("user_profiles").select("tenant_id").eq("id",s).single();if(r)throw r;const{data:a,error:l}=await E.from("user_profiles").select(`
        id,
        tenant_id,
        name,
        email,
        phone,
        role,
        status,
        joined_at,
        invited_by,
        company
      `).eq("tenant_id",t.tenant_id).order("joined_at",{ascending:!1});if(l)throw l;return a||[]}catch(t){throw F.error("Failed to fetch team members",{error:t instanceof Error?t.message:"Unknown error",component:"teamService",action:"getTeamMembers"}),t}},Rn=async s=>{try{const{data:t,error:r}=await E.from("user_profiles").select("tenant_id").eq("id",s).single();if(r)throw r;const{data:a,error:l}=await E.from("team_invitations").select(`
        id,
        tenant_id,
        inviter_id,
        email,
        role,
        status,
        invitation_token,
        expires_at,
        created_at
      `).eq("tenant_id",t.tenant_id).order("created_at",{ascending:!1});if(l)throw l;if(a&&a.length>0){const n=[...new Set(a.map(c=>c.inviter_id))],{data:i}=await E.from("user_profiles").select("id, name").in("id",n),o=(i==null?void 0:i.reduce((c,d)=>(c[d.id]=d.name,c),{}))||{};return a.map(c=>({...c,inviter_name:o[c.inviter_id]||"Ïïå Ïàò ÏóÜÎäî ÏÇ¨Ïö©Ïûê"}))}return[]}catch(t){throw F.error("Failed to fetch team invitations",{error:t instanceof Error?t.message:"Unknown error",component:"teamService",action:"getTeamInvitations"}),t}},In=async(s,t)=>{var r;try{const{data:a,error:l}=await E.from("user_profiles").select(`
        tenant_id, 
        role, 
        name,
        tenant:tenant_id(name)
      `).eq("id",s).single();if(l)throw l;if(a.role!=="owner"&&a.role!=="admin")throw new Error("ÌåÄÏõêÏùÑ Ï¥àÎåÄÌï† Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§.");const{data:n}=await E.from("user_profiles").select("id").eq("tenant_id",a.tenant_id).eq("email",t.email).single();if(n)throw new Error("Ïù¥ÎØ∏ ÌåÄÏóê ÏÜçÌïú ÌöåÏõêÏûÖÎãàÎã§.");const{data:i}=await E.from("team_invitations").select("id, status").eq("tenant_id",a.tenant_id).eq("email",t.email).eq("status","pending").single();if(i)throw new Error("Ïù¥ÎØ∏ Ï¥àÎåÄÎêú Ïù¥Î©îÏùºÏûÖÎãàÎã§.");const{data:o,error:c}=await E.from("team_invitations").insert({tenant_id:a.tenant_id,inviter_id:s,email:t.email,role:t.role}).select().single();if(c)throw c;try{await Pn({invitationToken:o.invitation_token,recipientEmail:t.email,inviterName:a.name,teamName:(a&&"tenant"in a&&a.tenant?(r=a.tenant)==null?void 0:r.name:null)||"ÌåÄ",role:t.role,message:t.message})}catch(d){F.warn("Email sending failed but invitation created",{error:d instanceof Error?d.message:"Unknown error",component:"teamService",action:"inviteTeamMember"})}return await E.from("team_activity_logs").insert({tenant_id:a.tenant_id,user_id:s,action:"invitation_sent",details:{invited_email:t.email,role:t.role,message:t.message}}),{...o,inviteUrl:`${typeof window<"u"?window.location.origin:"https://summi3-2mk8sy7pu-daesung75-6440s-projects.vercel.app"}/team/invite?token=${o.invitation_token}`}}catch(a){throw F.error("Failed to invite team member",{error:a instanceof Error?a.message:"Unknown error",component:"teamService",action:"inviteTeamMember"}),a}},Tn=async(s,t)=>{try{const{data:r,error:a}=await E.from("user_profiles").select("tenant_id, role").eq("id",s).single();if(a)throw a;if(r.role!=="owner"&&r.role!=="admin")throw new Error("ÌåÄÏõêÏùÑ Ï∂îÍ∞ÄÌï† Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§.");const{data:l,error:n}=await E.from("user_profiles").select("id, name, email, tenant_id").eq("id",t.user_id).single();if(n)throw new Error("Ï°¥Ïû¨ÌïòÏßÄ ÏïäÎäî ÏÇ¨Ïö©ÏûêÏûÖÎãàÎã§.");if(l.tenant_id===r.tenant_id)throw new Error("Ïù¥ÎØ∏ ÌåÄÏóê ÏÜçÌïú ÌöåÏõêÏûÖÎãàÎã§.");const{data:i,error:o}=await E.from("user_profiles").update({tenant_id:r.tenant_id,role:t.role,invited_by:s,joined_at:new Date().toISOString()}).eq("id",t.user_id).select().single();if(o)throw o;return await E.from("team_activity_logs").insert({tenant_id:r.tenant_id,user_id:s,action:"member_added",details:{added_user_id:t.user_id,added_user_name:l.name,role:t.role,previous_tenant_id:l.tenant_id,transferred_from_team:!!l.tenant_id}}),i}catch(r){throw F.error("Failed to add team member",{error:r instanceof Error?r.message:"Unknown error",component:"teamService",action:"addTeamMember"}),r}},Mn=async(s,t,r)=>{try{const{data:a,error:l}=await E.from("user_profiles").select("tenant_id, role").eq("id",s).single();if(l)throw l;if(a.role!=="owner"&&!(a.role==="admin"&&["member","viewer"].includes(r)))throw new Error("Ïó≠Ìï†ÏùÑ Î≥ÄÍ≤ΩÌï† Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§.");if(s===t)throw new Error("ÏûêÏã†Ïùò Ïó≠Ìï†ÏùÄ Î≥ÄÍ≤ΩÌï† Ïàò ÏóÜÏäµÎãàÎã§.");const{data:n,error:i}=await E.from("user_profiles").update({role:r}).eq("id",t).eq("tenant_id",a.tenant_id).select().single();if(i)throw i;return await E.from("team_activity_logs").insert({tenant_id:a.tenant_id,user_id:s,action:"role_changed",details:{target_user_id:t,new_role:r}}),n}catch(a){throw F.error("Failed to change member role",{error:a instanceof Error?a.message:"Unknown error",component:"teamService",action:"changeMemberRole"}),a}},On=async(s,t)=>{try{const{data:r,error:a}=await E.from("user_profiles").select("tenant_id, role").eq("id",s).single();if(a)throw a;if(r.role!=="owner"&&r.role!=="admin")throw new Error("ÌåÄÏõêÏùÑ Ï†úÍ±∞Ìï† Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§.");if(s===t)throw new Error("ÏûêÏã†ÏùÑ ÌåÄÏóêÏÑú Ï†úÍ±∞Ìï† Ïàò ÏóÜÏäµÎãàÎã§.");const{data:l,error:n}=await E.from("user_profiles").select("name, role").eq("id",t).eq("tenant_id",r.tenant_id).single();if(n)throw new Error("ÌåÄÏóêÏÑú Ìï¥Îãπ Î©§Î≤ÑÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.");if(l.role==="owner")throw new Error("ÌåÄ ÏÜåÏú†ÏûêÎäî Ï†úÍ±∞Ìï† Ïàò ÏóÜÏäµÎãàÎã§.");const{data:i,error:o}=await E.from("tenants").insert({name:`${l.name}Ïùò Î∂ÄÎèôÏÇ∞`}).select().single();if(o)throw o;const{error:c}=await E.from("user_profiles").update({tenant_id:i.id,role:"owner",invited_by:null}).eq("id",t);if(c)throw c;return await E.from("team_activity_logs").insert({tenant_id:r.tenant_id,user_id:s,action:"member_removed",details:{removed_user_id:t,removed_user_name:l.name}}),!0}catch(r){throw F.error("Failed to remove team member",{error:r instanceof Error?r.message:"Unknown error",component:"teamService",action:"removeTeamMember"}),r}},Dn=async(s,t)=>{try{const{data:r,error:a}=await E.from("user_profiles").select("tenant_id, role").eq("id",s).single();if(a)throw a;if(r.role!=="owner"&&r.role!=="admin")throw new Error("Ï¥àÎåÄÎ•º Ï∑®ÏÜåÌï† Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§.");const{error:l}=await E.from("team_invitations").delete().eq("id",t).eq("tenant_id",r.tenant_id);if(l)throw l;return!0}catch(r){throw F.error("Failed to cancel invitation",{error:r instanceof Error?r.message:"Unknown error",component:"teamService",action:"cancelInvitation"}),r}},Ln=async(s,t)=>{try{const{data:r,error:a}=await E.from("user_profiles").select("tenant_id").eq("id",t).single();if(a)throw a;const{data:l,error:n}=await E.from("user_profiles").select("id, name, email, company").or(`name.ilike.%${s}%,email.ilike.%${s}%`).or(`tenant_id.is.null,tenant_id.neq.${r.tenant_id}`).neq("id",t).limit(10);if(n)throw n;return l||[]}catch(r){throw F.error("Failed to search users",{error:r instanceof Error?r.message:"Unknown error",component:"teamService",action:"searchUsers"}),r}},zn=async(s,t,r)=>{try{const{data:a,error:l}=await E.from("user_profiles").select("tenant_id, role").eq("id",s).single();if(l)throw l;if(s!==t&&a.role!=="owner"&&a.role!=="admin")throw new Error("ÌåÄÏõê Ï†ïÎ≥¥Î•º ÏàòÏ†ïÌï† Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§.");const{data:n,error:i}=await E.from("user_profiles").update(r).eq("id",t).eq("tenant_id",a.tenant_id).select().single();if(i)throw i;return s!==t&&await E.from("team_activity_logs").insert({tenant_id:a.tenant_id,user_id:s,action:"member_info_updated",details:{target_user_id:t,updated_fields:Object.keys(r)}}),n}catch(a){throw F.error("Failed to update member info",{error:a instanceof Error?a.message:"Unknown error",component:"teamService",action:"updateMemberInfo"}),a}},$n=async(s,t,r)=>{try{const{data:a,error:l}=await E.from("user_profiles").select("tenant_id, role").eq("id",s).single();if(l)throw l;if(a.role!=="owner"&&a.role!=="admin")throw new Error("ÌåÄÏõê ÏÉÅÌÉúÎ•º Î≥ÄÍ≤ΩÌï† Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§.");if(s===t)throw new Error("ÏûêÏã†Ïùò ÏÉÅÌÉúÎäî Î≥ÄÍ≤ΩÌï† Ïàò ÏóÜÏäµÎãàÎã§.");const{data:n,error:i}=await E.from("user_profiles").update({status:r}).eq("id",t).eq("tenant_id",a.tenant_id).select().single();if(i)throw i;return await E.from("team_activity_logs").insert({tenant_id:a.tenant_id,user_id:s,action:"member_status_changed",details:{target_user_id:t,new_status:r}}),n}catch(a){throw F.error("Failed to change member status",{error:a instanceof Error?a.message:"Unknown error",component:"teamService",action:"changeMemberStatus"}),a}},An=async(s,t=50)=>{try{const{data:r,error:a}=await E.from("user_profiles").select("tenant_id, role").eq("id",s).single();if(a)throw a;if(r.role!=="owner"&&r.role!=="admin")throw new Error("ÌôúÎèô Î°úÍ∑∏Î•º Ï°∞ÌöåÌï† Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§.");const{data:l,error:n}=await E.from("team_activity_logs").select(`
        id,
        action,
        details,
        created_at,
        user_id
      `).eq("tenant_id",r.tenant_id).order("created_at",{ascending:!1}).limit(t);if(n)throw n;if(l&&l.length>0){const i=[...new Set(l.map(d=>d.user_id))],{data:o}=await E.from("user_profiles").select("id, name").in("id",i),c=(o==null?void 0:o.reduce((d,h)=>(d[h.id]=h.name,d),{}))||{};return l.map(d=>({...d,user_name:c[d.user_id]||"Ïïå Ïàò ÏóÜÎäî ÏÇ¨Ïö©Ïûê"}))}return[]}catch(r){throw F.error("Failed to fetch team activity logs",{error:r instanceof Error?r.message:"Unknown error",component:"teamService",action:"getTeamActivityLogs"}),r}},Er=()=>{const s=gs(),{tenant:t}=es(),{user:r}=oe(),{stats:a,loading:l,error:n}=Nn(),{properties:i,loading:o,updateProperty:c,deleteProperty:d,refreshProperties:h}=ps(),[u,f]=m.useState(1),[j,g]=m.useState(!0),[N,b]=m.useState([]),[x,p]=m.useState([]),[v,y]=m.useState(!0),[k,L]=m.useState(null),[z,R]=m.useState(!1),[q,$]=m.useState(!1),[te,ee]=m.useState(!1),[G,Y]=m.useState(null);m.useEffect(()=>{(async()=>{if(r!=null&&r.id)try{g(!0);const D=await kr(r.id);f(D.length)}catch(D){console.error("ÌåÄÏõê Ïàò Ï°∞Ìöå Ïã§Ìå®:",D),f(1)}finally{g(!1)}})()},[r==null?void 0:r.id]),m.useEffect(()=>{(async()=>{if(r!=null&&r.id)try{y(!0);const D=r.id,[Z,J]=await Promise.all([Xe.getTodaySchedules(D,3),Xe.getUpcomingSchedules(D,3)]);b(Z),p(J)}catch(D){console.error("ÏùºÏ†ï Ï°∞Ìöå Ïã§Ìå®:",D),b([]),p([])}finally{y(!1)}})()},[r==null?void 0:r.id]);const O=()=>{s("/schedule")},_=C=>{L(C),R(!0)},P=()=>{R(!1),L(null)},w=async C=>{if(G)try{ee(!0),await c(G.id,C),$(!1),Y(null),await h(),alert("‚úÖ Îß§Î¨ºÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§!")}catch(D){console.error("Îß§Î¨º ÏàòÏ†ï Ïã§Ìå®:",D);const Z=D instanceof Error?D.message:"Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.";throw alert(`‚ùå Îß§Î¨º ÏàòÏ†ï Ïã§Ìå®: ${Z}`),D}finally{ee(!1)}},B=C=>{console.log("üìù ÎåÄÏãúÎ≥¥ÎìúÏóêÏÑú ÏàòÏ†ï Ìèº Ïó¥Í∏∞:",C.title),Y(C),$(!0),R(!1)},H=async C=>{if(console.log("üóëÔ∏è ÎåÄÏãúÎ≥¥ÎìúÏóêÏÑú ÏÇ≠Ï†ú ÏöîÏ≤≠:",C.title),window.confirm(`'${C.title}' Îß§Î¨ºÏùÑ Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?

Ïù¥ ÏûëÏóÖÏùÄ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§.`))try{await d(C.id),R(!1),L(null),await h(),alert("‚úÖ Îß§Î¨ºÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§!")}catch(Z){console.error("Îß§Î¨º ÏÇ≠Ï†ú Ïã§Ìå®:",Z);const J=Z instanceof Error?Z.message:"Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.";alert(`‚ùå Îß§Î¨º ÏÇ≠Ï†ú Ïã§Ìå®: ${J}`)}},K=[{title:"Ï¥ù Îß§Î¨º",value:((a==null?void 0:a.total)??0).toString(),change:"+12%",icon:Ie,color:"text-blue-600"},{title:"ÌôúÏÑ± Îß§Î¨º",value:((a==null?void 0:a.active)??0).toString(),change:"+5%",icon:ws,color:"text-green-600"},{title:"ÌåÄÏõê",value:u.toString(),change:u>1?`+${u-1}`:"0",icon:ke,color:"text-purple-600"},{title:"Ïù¥Î≤à Îã¨ Îì±Î°ù",value:((a==null?void 0:a.this_month)??0).toString(),change:"+18%",icon:je,color:"text-orange-600"}],se=[{id:1,title:"Í∞ïÎÇ®Íµ¨ Ïã†ÏÇ¨Îèô Îü≠ÏÖîÎ¶¨ ÏïÑÌååÌä∏",type:"ÏïÑÌååÌä∏",transactionType:"Îß§Îß§",price:"35Ïñµ",createdAt:"2ÏãúÍ∞Ñ Ï†Ñ"},{id:2,title:"ÏÑ±ÎÇ®Ïãú Î∂ÑÎãπÍµ¨ Ï†ïÏûêÎèô",type:"ÏïÑÌååÌä∏",transactionType:"Ï†ÑÏÑ∏",price:"2Ïñµ 1Ï≤úÎßåÏõê",createdAt:"5ÏãúÍ∞Ñ Ï†Ñ"},{id:3,title:"ÌôçÎåÄ Ïã†Ï∂ï Ïò§ÌîºÏä§ÌÖî",type:"Ïò§ÌîºÏä§ÌÖî",transactionType:"ÏõîÏÑ∏",price:"1000/65ÎßåÏõê",createdAt:"1Ïùº Ï†Ñ"}];return o||l?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-4 sm:space-y-6 pb-20 sm:pb-6",children:[e.jsxs("div",{className:"px-1 sm:px-0",children:[e.jsxs("h1",{className:"text-lg sm:text-2xl font-bold leading-tight",children:["ÏïàÎÖïÌïòÏÑ∏Ïöî, ",(r==null?void 0:r.name)||"ÏÇ¨Ïö©Ïûê","Îãò! üëã"]}),e.jsx("h2",{className:"text-sm sm:text-base text-gray-600 mt-1 lg:hidden",children:(t==null?void 0:t.name)||"Î¶¨Ï≤¥ Îß§Î¨ºÏû•"}),e.jsxs("h2",{className:"hidden lg:block text-2xl font-bold mt-1",children:[(t==null?void 0:t.name)||"Î¶¨Ï≤¥ Îß§Î¨ºÏû•","Ïóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§ üëã"]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-1",children:"Ïò§ÎäòÏùò Îß§Î¨º ÌòÑÌô©ÏùÑ ÌôïÏù∏Ìï¥Î≥¥ÏÑ∏Ïöî"})]}),l?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:[1,2,3,4].map(C=>e.jsx(le,{className:"animate-pulse",children:e.jsx(xe,{className:"p-3 sm:p-4 lg:p-6",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("div",{className:"h-3 sm:h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-6 sm:h-8 bg-gray-200 rounded w-1/2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3 hidden sm:block"})]})})},C))}):n?e.jsx(le,{className:"p-4 sm:p-6",children:e.jsx("p",{className:"text-red-600 text-center text-sm sm:text-base",children:n})}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4 lg:gap-6",children:K.map((C,D)=>e.jsx(wn,{title:C.title,value:C.value,change:C.change,icon:C.icon,color:C.color,loading:C.title==="ÌåÄÏõê"?j:l},D))}),e.jsx("div",{className:"space-y-4 lg:space-y-6",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[e.jsx(je,{className:"w-5 h-5 mr-2 text-blue-600"}),"ÏùºÏ†ï Í¥ÄÎ¶¨"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6",children:[e.jsx(Dt,{title:"Ïò§Îäò ÏùºÏ†ï",schedules:N,loading:v,emptyMessage:"Ïò§Îäò Îì±Î°ùÎêú ÏùºÏ†ïÏù¥ ÏóÜÏäµÎãàÎã§.",onViewAll:O}),e.jsx(Dt,{title:"Îã§Í∞ÄÏò¨ ÏùºÏ†ï",schedules:x,loading:v,emptyMessage:"ÏòàÏ†ïÎêú ÏùºÏ†ïÏù¥ ÏóÜÏäµÎãàÎã§.",onViewAll:O})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"ÏµúÍ∑º Îì±Î°ù Îß§Î¨º"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:(i==null?void 0:i.slice(0,4).map(C=>e.jsx(wr,{property:C,onClick:_},C.id)))||se.map(C=>e.jsxs("div",{className:"card bg-white rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-md transition-all duration-200 cursor-pointer p-4 space-y-3",onClick:()=>{},children:[e.jsx("h3",{className:"font-semibold text-lg line-clamp-1",children:C.title}),e.jsx("div",{className:"flex items-center text-gray-600",children:e.jsx("span",{className:"text-sm",children:"Í∞ïÎÇ®Íµ¨"})}),e.jsx("div",{className:"flex items-center text-gray-900",children:e.jsx("span",{className:"font-bold text-lg",children:C.price})}),e.jsxs("div",{className:"border-t border-gray-100 pt-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:C.type}),e.jsx("span",{className:"text-gray-300",children:"‚Ä¢"}),e.jsx("span",{className:"text-xs text-gray-500",children:C.transactionType})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2 bg-blue-400"}),e.jsx("span",{className:"text-xs font-medium text-blue-600",children:"Îì±Î°ùÎê®"})]})]})]},C.id))})]})}),t&&e.jsx(le,{className:"bg-gradient-to-r from-primary-50 to-blue-50 border-primary-200",children:e.jsx(xe,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold",children:[t.plan?t.plan.charAt(0).toUpperCase()+t.plan.slice(1):"Í∏∞Î≥∏"," ","ÌîåÎûú"]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Îß§Î¨º ",t.limits.max_properties,"Í∞ú ¬∑ ÌåÄÏõê"," ",t.limits.max_users,"Î™Ö ¬∑ Ïä§ÌÜ†Î¶¨ÏßÄ"," ",t.limits.max_storage_gb,"GB"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(Se,{variant:"tenant",size:"lg",children:t.status==="trial"?"Ï≤¥Ìóò Ï§ë":"ÌôúÏÑ±"}),t.trial_ends_at&&e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Ï≤¥Ìóò Ï¢ÖÎ£å:"," ",new Date(t.trial_ends_at).toLocaleDateString()]})]})]})})}),e.jsx(_r,{property:k,isOpen:z,onClose:P,onEdit:B,onDelete:H}),G&&e.jsx(Sr,{isOpen:q,onClose:()=>{$(!1),Y(null)},onSubmit:w,property:G,loading:te})]})},Un=["ÏïÑÌååÌä∏","Ïò§ÌîºÏä§ÌÖî","ÏõêÎ£∏","ÎπåÎùº","Îã®ÎèÖÏ£ºÌÉù","ÏÉÅÍ∞Ä","ÏÇ¨Î¨¥Ïã§","Í∏∞ÌÉÄ"],Fn=["Îß§Îß§","Ï†ÑÏÑ∏","ÏõîÏÑ∏","Îã®Í∏∞ÏûÑÎåÄ"],qn=["Í±∞ÎûòÏ§ë","Í±∞ÎûòÏôÑÎ£å"],Vn=[{value:"1",label:"1Í∞ú"},{value:"2",label:"2Í∞ú"},{value:"3",label:"3Í∞ú"},{value:"4",label:"4Í∞ú"},{value:"5",label:"5Í∞ú"},{value:"6",label:"6Í∞ú"},{value:"7",label:"7Í∞ú"}],Bn=({isOpen:s,onClose:t,onSubmit:r,loading:a=!1})=>{var b;const[l,n]=m.useState({title:"",type:"ÏïÑÌååÌä∏",transaction_type:"Îß§Îß§",status:"Í±∞ÎûòÏ§ë",address:"",area:0,floor:1,total_floors:1,rooms:1,bathrooms:1,parking:!1,elevator:!1}),[i,o]=m.useState({}),[c,d]=m.useState(!1),h=m.useCallback((x,p)=>{n(v=>({...v,[x]:p})),i[x]&&o(v=>({...v,[x]:void 0}))},[i]),u=m.useMemo(()=>Un.map(x=>({value:x,label:x})),[]),f=m.useMemo(()=>Fn.map(x=>({value:x,label:x})),[]),j=m.useMemo(()=>qn.map(x=>({value:x,label:x})),[]),g=()=>{var p,v;const x={};return(p=l.title)!=null&&p.trim()||(x.title="Ï†úÎ™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),(v=l.address)!=null&&v.trim()||(x.address="Ï£ºÏÜåÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),l.transaction_type==="Îß§Îß§"&&(!l.price||l.price<=0)&&(x.price="Îß§Îß§Í∞ÄÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),l.transaction_type==="Ï†ÑÏÑ∏"&&(!l.deposit||l.deposit<=0)&&(x.deposit="Ï†ÑÏÑ∏Í∏àÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),l.transaction_type==="ÏõîÏÑ∏"&&((!l.deposit||l.deposit<=0)&&(x.deposit="Î≥¥Ï¶ùÍ∏àÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),(!l.monthly_rent||l.monthly_rent<=0)&&(x.monthly_rent="ÏõîÏÑ∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî")),l.total_floors&&l.floor&&l.total_floors<l.floor&&(x.total_floors="Ï†ÑÏ≤¥ Ï∏µÏàòÎäî Ìï¥Îãπ Ï∏µÏàòÎ≥¥Îã§ ÌÅ¨Í±∞ÎÇò Í∞ôÏïÑÏïº Ìï©ÎãàÎã§"),(!l.area||l.area<=0)&&(x.area="Î©¥Ï†ÅÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),o(x),Object.keys(x).length===0},N=async x=>{x.preventDefault(),console.log("üöÄ Îß§Î¨º Îì±Î°ù Ìèº Ï†úÏ∂ú ÏãúÏûë"),console.log("üìã Ìèº Îç∞Ïù¥ÌÑ∞:",l),console.log("‚úÖ Ìèº Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨ ÏãúÏûë...");const p=g();if(console.log("üìä Ìèº Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨ Í≤∞Í≥º:",p),console.log("‚ùå ÏóêÎü¨ Î™©Î°ù:",i),!p){console.log("‚ùå Ìèº Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨ Ïã§Ìå® - Ï†úÏ∂ú Ï§ëÎã®");return}if(c){console.log("‚è≥ Ïù¥ÎØ∏ Ï†úÏ∂ú Ï§ë - Ï§ëÎ≥µ Ï†úÏ∂ú Î∞©ÏßÄ");return}console.log("üîÑ Îß§Î¨º Îì±Î°ù ÏöîÏ≤≠ ÏãúÏûë..."),d(!0);try{console.log("üì° onSubmit Ìï®Ïàò Ìò∏Ï∂ú Ï§ë..."),await r(l),console.log("‚úÖ Îß§Î¨º Îì±Î°ù ÏÑ±Í≥µ!"),console.log("üßπ Ìèº Ï¥àÍ∏∞Ìôî Ï§ë..."),n({title:"",type:"ÏïÑÌååÌä∏",transaction_type:"Îß§Îß§",status:"Í±∞ÎûòÏ§ë",address:"",area:0,floor:1,total_floors:1,rooms:1,bathrooms:1,parking:!1,elevator:!1}),o({}),console.log("üö™ Ìèº Îã´Í∏∞..."),t()}catch(v){console.error("üí• Îß§Î¨º Îì±Î°ù Ïã§Ìå®:",v),console.error("üí• ÏóêÎü¨ ÌÉÄÏûÖ:",typeof v),console.error("üí• ÏóêÎü¨ ÏÉÅÏÑ∏:",v instanceof Error?{name:v.name,message:v.message,stack:v.stack}:v),alert(`Îß§Î¨º Îì±Î°ùÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§: ${v instanceof Error?v.message:"Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò"}`)}finally{console.log("üèÅ Îß§Î¨º Îì±Î°ù ÌîÑÎ°úÏÑ∏Ïä§ ÏôÑÎ£å"),d(!1)}};return s?e.jsx(Ee,{isOpen:s,onClose:t,size:"xl",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[95vh] flex flex-col",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-4 sm:px-6 py-3 sm:py-4 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-1.5 sm:p-2 bg-white/20 rounded-lg flex-shrink-0",children:e.jsx(Ie,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white truncate",children:"ÏÉà Îß§Î¨º Îì±Î°ù"}),e.jsx("p",{className:"text-blue-100 text-xs sm:text-sm hidden sm:block",children:"Îß§Î¨º Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"})]})]}),e.jsx(U,{variant:"ghost",size:"sm",onClick:t,className:"text-white hover:bg-white/20 active:scale-95 p-2 h-8 w-8 sm:h-10 sm:w-10 rounded-lg flex-shrink-0 ml-2",children:e.jsx(ue,{size:18,className:"sm:w-5 sm:h-5"})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("form",{onSubmit:N,className:"p-3 sm:p-4",children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-3 sm:p-4 border border-blue-100",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-blue-600 rounded-md",children:e.jsx(Me,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Í∏∞Î≥∏ Ï†ïÎ≥¥"}),e.jsx("p",{className:"text-xs text-gray-600 hidden sm:block",children:"Îß§Î¨ºÏùò Í∏∞Î≥∏Ï†ÅÏù∏ Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsx(A,{label:"Îß§Î¨º Ï†úÎ™©",value:l.title,onChange:x=>h("title",x.target.value),error:i.title,placeholder:"Ïòà: Í∞ïÎÇ®Íµ¨ Ïã†ÏÇ¨Îèô Îü≠ÏÖîÎ¶¨ ÏïÑÌååÌä∏",required:!0,className:"text-sm sm:text-base h-11 sm:h-12"})}),e.jsxs("div",{className:"space-y-3 sm:space-y-0 sm:grid sm:grid-cols-3 sm:gap-3",children:[e.jsx(he,{label:"Îß§Î¨º Ïú†Ìòï",value:l.type,onChange:x=>h("type",x.target.value),options:u,className:"text-sm sm:text-base h-11 sm:h-12"}),e.jsx(he,{label:"Í±∞Îûò Ïú†Ìòï",value:l.transaction_type,onChange:x=>h("transaction_type",x.target.value),options:f,className:"text-sm sm:text-base h-11 sm:h-12"}),e.jsx(he,{label:"Îß§Î¨º ÏÉÅÌÉú",value:l.status,onChange:x=>h("status",x.target.value),options:j,className:"text-sm sm:text-base h-11 sm:h-12"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-3 sm:p-4 border border-green-100",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-green-600 rounded-md",children:e.jsx(be,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"ÏúÑÏπò Ï†ïÎ≥¥"}),e.jsx("p",{className:"text-xs text-gray-600 hidden sm:block",children:"Îß§Î¨ºÏùò Ï†ïÌôïÌïú ÏúÑÏπòÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsx(A,{label:"Ï£ºÏÜå",value:l.address,onChange:x=>h("address",x.target.value),error:i.address,placeholder:"Ïòà: ÏÑúÏö∏Ïãú Í∞ïÎÇ®Íµ¨ Ïã†ÏÇ¨Îèô 123-45",required:!0,className:"text-sm sm:text-base h-11 sm:h-12"})}),e.jsx("div",{children:e.jsx(A,{label:"ÏÉÅÏÑ∏ Ï£ºÏÜå",value:l.detailed_address||"",onChange:x=>h("detailed_address",x.target.value),placeholder:"Ïòà: 123Îèô 456Ìò∏",className:"text-sm sm:text-base h-11 sm:h-12"})})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 rounded-lg p-3 sm:p-4 border border-purple-100",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-purple-600 rounded-md",children:e.jsx(Ie,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Îß§Î¨º Ï†ïÎ≥¥"}),e.jsx("p",{className:"text-xs text-gray-600 hidden sm:block",children:"Îß§Î¨ºÏùò ÏÉÅÏÑ∏ Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3 sm:space-y-0 sm:grid sm:grid-cols-2 md:grid-cols-3 sm:gap-3",children:[e.jsx(A,{label:"Î©¥Ï†Å (m¬≤)",type:"number",value:l.area||"",onChange:x=>h("area",parseFloat(x.target.value)||0),error:i.area,placeholder:"85.0",min:"0",step:"0.1",required:!0,className:"text-sm sm:text-base h-11 sm:h-12"}),e.jsx(A,{label:"Ï∏µÏàò",type:"number",value:l.floor||"",onChange:x=>h("floor",parseInt(x.target.value)||1),error:i.floor,placeholder:"15",min:"1",className:"text-sm sm:text-base h-11 sm:h-12"}),e.jsx(A,{label:"Ï†ÑÏ≤¥ Ï∏µÏàò",type:"number",value:l.total_floors||"",onChange:x=>h("total_floors",parseInt(x.target.value)||1),error:i.total_floors,placeholder:"25",min:"1",className:"text-sm sm:text-base h-11 sm:h-12 sm:col-span-2 md:col-span-1"})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-0 sm:grid sm:grid-cols-2 sm:gap-3",children:[e.jsx(he,{label:"Î∞© Í∞úÏàò",value:((b=l.rooms)==null?void 0:b.toString())||"1",onChange:x=>h("rooms",parseInt(x.target.value)||1),error:i.rooms,options:Vn,className:"text-sm sm:text-base h-11 sm:h-12"}),e.jsx(A,{label:"ÌôîÏû•Ïã§ Í∞úÏàò",type:"number",value:l.bathrooms||"",onChange:x=>h("bathrooms",parseInt(x.target.value)||1),error:i.bathrooms,placeholder:"2",min:"1",className:"text-sm sm:text-base h-11 sm:h-12"})]}),e.jsxs("div",{className:"bg-white/60 rounded-lg p-3 border border-purple-200",children:[e.jsx("h4",{className:"text-xs sm:text-sm font-semibold text-gray-900 mb-2",children:"Ìé∏ÏùòÏãúÏÑ§"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:gap-3",children:[e.jsxs("label",{className:"flex items-center space-x-2 bg-white rounded-md px-2 sm:px-3 py-2 border border-gray-200 hover:border-purple-300 active:scale-95 transition-all cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.parking,onChange:x=>h("parking",x.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500 w-4 h-4 sm:w-3 sm:h-3"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"üöó Ï£ºÏ∞®"})]}),e.jsxs("label",{className:"flex items-center space-x-2 bg-white rounded-md px-2 sm:px-3 py-2 border border-gray-200 hover:border-purple-300 active:scale-95 transition-all cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.elevator,onChange:x=>h("elevator",x.target.checked),className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500 w-4 h-4 sm:w-3 sm:h-3"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"üè¢ ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞"})]})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 rounded-lg p-3 sm:p-4 border border-orange-100",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-orange-600 rounded-md",children:e.jsx(qt,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Í∞ÄÍ≤© Ï†ïÎ≥¥"}),e.jsx("p",{className:"text-xs text-gray-600 hidden sm:block",children:"Í±∞Îûò Ïú†ÌòïÏóê ÎßûÎäî Í∞ÄÍ≤©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"})]})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-0 sm:grid sm:grid-cols-1 md:grid-cols-3 sm:gap-3",children:[l.transaction_type==="Îß§Îß§"&&e.jsx(A,{label:"Îß§Îß§Í∞Ä (ÎßåÏõê)",type:"number",value:l.price||"",onChange:x=>h("price",parseInt(x.target.value)||void 0),error:i.price,placeholder:"35000",min:"0",required:!0,className:"text-sm sm:text-base h-11 sm:h-12"}),(l.transaction_type==="Ï†ÑÏÑ∏"||l.transaction_type==="ÏõîÏÑ∏")&&e.jsx(A,{label:l.transaction_type==="Ï†ÑÏÑ∏"?"Ï†ÑÏÑ∏Í∏à (ÎßåÏõê)":"Î≥¥Ï¶ùÍ∏à (ÎßåÏõê)",type:"number",value:l.deposit||"",onChange:x=>h("deposit",parseInt(x.target.value)||void 0),error:i.deposit,placeholder:"21000",min:"0",required:!0,className:"text-sm sm:text-base h-11 sm:h-12"}),l.transaction_type==="ÏõîÏÑ∏"&&e.jsx(A,{label:"ÏõîÏÑ∏ (ÎßåÏõê)",type:"number",value:l.monthly_rent||"",onChange:x=>h("monthly_rent",parseInt(x.target.value)||void 0),error:i.monthly_rent,placeholder:"65",min:"0",required:!0,className:"text-sm sm:text-base h-11 sm:h-12"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-rose-50 to-pink-50 rounded-lg p-3 sm:p-4 border border-rose-100",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-rose-600 rounded-md",children:e.jsx(ie,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"ÏûÑÎåÄÏù∏ Ï†ïÎ≥¥"}),e.jsx("p",{className:"text-xs text-gray-600 hidden sm:block",children:"ÏûÑÎåÄÏù∏Ïùò Ïó∞ÎùΩÏ≤ò Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"})]})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-0 sm:grid sm:grid-cols-2 sm:gap-3",children:[e.jsx(A,{label:"ÏûÑÎåÄÏù∏ Ïù¥Î¶Ñ",value:l.landlord_name||"",onChange:x=>h("landlord_name",x.target.value),placeholder:"ÌôçÍ∏∏Îèô",className:"text-sm sm:text-base h-11 sm:h-12"}),e.jsx(A,{label:"ÏûÑÎåÄÏù∏ Ïó∞ÎùΩÏ≤ò",value:l.landlord_phone||"",onChange:x=>h("landlord_phone",x.target.value),placeholder:"010-1234-5678",className:"text-sm sm:text-base h-11 sm:h-12"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg p-3 sm:p-4 border border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 sm:mb-4",children:[e.jsx("div",{className:"p-1.5 bg-gray-600 rounded-md",children:e.jsx(Es,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"Í∏∞ÌÉÄ Ï†ïÎ≥¥"}),e.jsx("p",{className:"text-xs text-gray-600 hidden sm:block",children:"Ï∂îÍ∞ÄÏ†ÅÏù∏ Îß§Î¨º Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-2",children:"Îß§Î¨º ÏÑ§Î™Ö"}),e.jsx("textarea",{value:l.description||"",onChange:x=>h("description",x.target.value),placeholder:`Îß§Î¨ºÏóê ÎåÄÌïú ÏÉÅÏÑ∏Ìïú ÏÑ§Î™ÖÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî
Ïòà: ÎÇ®Ìñ•, ÌíÄÏòµÏÖò, ÍµêÌÜµ Ìé∏Î¶¨, ÌïôÍµ∞ Ï¢ãÏùå Îì±`,rows:3,className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-gray-500 text-xs sm:text-sm resize-none transition-colors"})]})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-end space-y-reverse space-y-3 sm:space-y-0 sm:space-x-3 pt-4 border-t border-gray-200 mt-4",children:[e.jsx(U,{type:"button",variant:"outline",onClick:t,disabled:a,className:"w-full sm:w-auto px-4 sm:px-6 py-3 sm:py-2 text-sm sm:text-base active:scale-95",children:"Ï∑®ÏÜå"}),e.jsx(U,{type:"submit",variant:"primary",loading:a,leftIcon:e.jsx(is,{size:16}),className:"w-full sm:w-auto px-4 sm:px-6 py-3 sm:py-2 text-sm sm:text-base bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 active:scale-95",children:"Îß§Î¨º Îì±Î°ù"})]})]})})})]})}):null},Cr=()=>{const{user:s}=oe(),{tenant:t}=es(),[r,a]=ar(),[l,n]=m.useState(""),[i,o]=m.useState(""),[c,d]=m.useState(!1),[h,u]=m.useState("Ï†ÑÏ≤¥"),[f,j]=m.useState("Ï†ÑÏ≤¥"),[g,N]=m.useState("Ï†ÑÏ≤¥"),[b,x]=m.useState("card"),[p,v]=m.useState(!1),[y,k]=m.useState(null),[L,z]=m.useState(!1),[R,q]=m.useState(!1),[$,te]=m.useState(!1),[ee,G]=m.useState(!1),[Y,O]=m.useState(null),[_,P]=m.useState(null);m.useEffect(()=>{if(c)return;const I=setTimeout(()=>{o(l)},300);return()=>clearTimeout(I)},[l,c]),m.useEffect(()=>{if(r.get("create")==="true"){z(!0);const I=new URLSearchParams(r);I.delete("create"),a(I,{replace:!0})}},[r,a]);const w=m.useMemo(()=>{const I={};return i&&(I.search=i),h!=="Ï†ÑÏ≤¥"&&(I.transaction_type=h),f!=="Ï†ÑÏ≤¥"&&(I.property_type=f),g!=="Ï†ÑÏ≤¥"&&(I.property_status=g),I},[i,h,f,g]),{properties:B,loading:H,error:K,refreshProperties:se,createProperty:C,updateProperty:D,deleteProperty:Z}=ps(w),J=m.useMemo(()=>B?[...B].sort((I,Q)=>I.status==="Í±∞ÎûòÏôÑÎ£å"&&Q.status!=="Í±∞ÎûòÏôÑÎ£å"?1:I.status!=="Í±∞ÎûòÏôÑÎ£å"&&Q.status==="Í±∞ÎûòÏôÑÎ£å"?-1:I.created_at&&Q.created_at?new Date(Q.created_at).getTime()-new Date(I.created_at).getTime():0):[],[B]),W=[{value:"Ï†ÑÏ≤¥",label:"Ï†ÑÏ≤¥"},{value:"Îß§Îß§",label:"Îß§Îß§"},{value:"Ï†ÑÏÑ∏",label:"Ï†ÑÏÑ∏"},{value:"ÏõîÏÑ∏",label:"ÏõîÏÑ∏"}],ce=[{value:"Ï†ÑÏ≤¥",label:"Ï†ÑÏ≤¥"},{value:"ÏïÑÌååÌä∏",label:"ÏïÑÌååÌä∏"},{value:"Ïò§ÌîºÏä§ÌÖî",label:"Ïò§ÌîºÏä§ÌÖî"},{value:"ÏõêÎ£∏",label:"ÏõêÎ£∏"},{value:"ÎπåÎùº",label:"ÎπåÎùº"}],we=[{value:"Ï†ÑÏ≤¥",label:"Ï†ÑÏ≤¥"},{value:"Í±∞ÎûòÏ§ë",label:"Í±∞ÎûòÏ§ë"},{value:"Í±∞ÎûòÏôÑÎ£å",label:"Í±∞ÎûòÏôÑÎ£å"}],fe=()=>{const I=[];return h!=="Ï†ÑÏ≤¥"&&I.push(h),f!=="Ï†ÑÏ≤¥"&&I.push(f),g!=="Ï†ÑÏ≤¥"&&I.push(g),I.length===0?"Îß§Î¨ºÎ™Ö, Ï£ºÏÜåÎ°ú Í≤ÄÏÉâÌïòÏÑ∏Ïöî...":`${I.join(" ¬∑ ")} Îß§Î¨º Í≤ÄÏÉâ...`},de=()=>{const I=[];return h!=="Ï†ÑÏ≤¥"&&I.push(`Í±∞Îûò: ${h}`),f!=="Ï†ÑÏ≤¥"&&I.push(`Ïú†Ìòï: ${f}`),g!=="Ï†ÑÏ≤¥"&&I.push(`ÏÉÅÌÉú: ${g}`),I},ye=async()=>{if(y)try{await Z(y.id),v(!1),k(null)}catch(I){console.error("Delete failed:",I)}},rs=()=>{n(""),u("Ï†ÑÏ≤¥"),j("Ï†ÑÏ≤¥"),N("Ï†ÑÏ≤¥")},Os=async I=>{console.log("üè† PropertiesPageNew.handleCreateProperty ÏãúÏûë"),console.log("üìä Î∞õÏùÄ Îç∞Ïù¥ÌÑ∞:",I),console.log("üë§ ÌòÑÏû¨ ÏÇ¨Ïö©Ïûê:",{user:s==null?void 0:s.id,tenant:t==null?void 0:t.id});try{console.log("‚è≥ Î°úÎî© ÏÉÅÌÉú ÏÑ§Ï†ï..."),q(!0),console.log("üìû createProperty ÌõÖ Ìò∏Ï∂ú Ï§ë...");const Q=await C(I);console.log("‚úÖ createProperty ÏÑ±Í≥µ:",Q),console.log("üîÑ Îß§Î¨º Î™©Î°ù ÏÉàÎ°úÍ≥†Ïπ®...")}catch(Q){throw console.error("‚ùå PropertiesPageNew.handleCreateProperty Ïã§Ìå®:",Q),console.error("‚ùå ÏóêÎü¨ ÌÉÄÏûÖ:",typeof Q),console.error("‚ùå ÏóêÎü¨ ÏÉÅÏÑ∏:",Q instanceof Error?{name:Q.name,message:Q.message,stack:Q.stack}:Q),Q}finally{console.log("üèÅ PropertiesPageNew.handleCreateProperty ÏôÑÎ£å"),q(!1)}},Ds=async I=>{if(Y)try{G(!0),await D(Y.id,I),te(!1),O(null)}catch(Q){throw console.error("Îß§Î¨º ÏàòÏ†ï Ïã§Ìå®:",Q),Q}finally{G(!1)}},Ls=I=>{console.log("üìù ÏàòÏ†ï Ìèº Ïó¥Í∏∞ ÏöîÏ≤≠:",I.title);try{O(I),te(!0),P(null),console.log("‚úÖ ÏàòÏ†ï Ìèº ÏÉÅÌÉú ÏÑ§Ï†ï ÏôÑÎ£å")}catch(Q){console.error("‚ùå ÏàòÏ†ï Ìèº Ïó¥Í∏∞ Ïã§Ìå®:",Q),alert("ÏàòÏ†ï ÌèºÏùÑ Ïó¥ Ïàò ÏóÜÏäµÎãàÎã§. Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.")}},zs=I=>{console.log("üóëÔ∏è ÏÇ≠Ï†ú ÌôïÏù∏ ÏöîÏ≤≠:",I.title);try{window.confirm(`'${I.title}' Îß§Î¨ºÏùÑ Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?

Ïù¥ ÏûëÏóÖÏùÄ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§.`)?(k(I),v(!0),P(null),console.log("‚úÖ ÏÇ≠Ï†ú ÌôïÏù∏ ÏÉÅÌÉú ÏÑ§Ï†ï ÏôÑÎ£å")):console.log("‚ùå ÏÇ¨Ïö©ÏûêÍ∞Ä ÏÇ≠Ï†úÎ•º Ï∑®ÏÜåÌñàÏäµÎãàÎã§")}catch(Q){console.error("‚ùå ÏÇ≠Ï†ú ÌôïÏù∏ Ïã§Ìå®:",Q),alert("ÏÇ≠Ï†ú ÌôïÏù∏ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.")}};return H?e.jsx("div",{className:"flex items-center justify-center min-h-96",children:e.jsx(Ae,{size:"lg",text:"Îß§Î¨ºÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë..."})}):K?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-600 mb-4",children:K}),e.jsx(U,{onClick:se,children:"Îã§Ïãú ÏãúÎèÑ"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-3 sm:p-6 border border-blue-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsx("div",{className:"p-1.5 bg-blue-600 rounded-lg",children:e.jsx(Me,{className:"w-4 h-4 sm:w-6 sm:h-6 text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-baseline space-x-2",children:[e.jsx("h1",{className:"text-base sm:text-2xl lg:text-3xl font-bold text-gray-900",children:"Îß§Î¨º Í¥ÄÎ¶¨"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-sm sm:text-lg font-bold text-blue-600",children:J.length}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"Í∞ú"})]})]}),e.jsx("p",{className:"text-xs sm:text-sm text-blue-700 font-medium truncate",children:t==null?void 0:t.name})]})]}),e.jsxs("button",{onClick:()=>z(!0),className:"flex items-center justify-center w-9 h-9 sm:w-auto sm:h-auto sm:px-4 sm:py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-200 shadow-md active:scale-95",children:[e.jsx(ds,{size:16,className:"sm:w-5 sm:h-5 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline font-medium",children:"ÏÉà Îß§Î¨º Îì±Î°ù"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:e.jsxs("div",{className:"p-3 sm:p-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3 sm:mb-6",children:[e.jsx("div",{className:"p-1 bg-gray-100 rounded",children:e.jsx(os,{className:"w-3 h-3 sm:w-5 sm:h-5 text-gray-600"})}),e.jsx("h2",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:"Í≤ÄÏÉâ & ÌïÑÌÑ∞"}),e.jsx("p",{className:"text-xs text-gray-500 hidden sm:block",children:"ÏõêÌïòÎäî Îß§Î¨ºÏùÑ Îπ†Î•¥Í≤å Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöî"})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(A,{placeholder:fe(),value:l,onChange:I=>n(I.target.value),onCompositionStart:()=>d(!0),onCompositionEnd:()=>d(!1),leftIcon:e.jsx(os,{size:16}),className:"text-sm h-10 sm:h-14 text-gray-700 bg-gray-50 border-gray-200 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"}),de().length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 flex flex-wrap gap-1 z-10",children:de().map((I,Q)=>e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded font-medium",children:I},Q))})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 md:grid-cols-3 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-gray-700 block sm:text-sm",children:"Í±∞ÎûòÏú†Ìòï"}),e.jsx(he,{options:W,value:h,onChange:I=>u(I.target.value),className:"w-full h-9 sm:h-12 text-xs sm:text-base bg-gray-50 border-gray-200 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-gray-700 block sm:text-sm",children:"Îß§Î¨ºÏú†Ìòï"}),e.jsx(he,{options:ce,value:f,onChange:I=>j(I.target.value),className:"w-full h-9 sm:h-12 text-xs sm:text-base bg-gray-50 border-gray-200 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium text-gray-700 block sm:text-sm",children:"Îß§Î¨ºÏÉÅÌÉú"}),e.jsx(he,{options:we,value:g,onChange:I=>N(I.target.value),className:"w-full h-9 sm:h-12 text-xs sm:text-base bg-gray-50 border-gray-200 rounded-lg focus:bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700 mr-2 sm:text-sm",children:"Î≥¥Í∏∞:"}),e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-0.5",children:[e.jsxs("button",{onClick:()=>x("card"),className:`flex items-center justify-center px-2 py-1.5 rounded transition-all duration-200 text-xs font-medium ${b==="card"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(Cs,{size:12,className:"mr-1"}),"Ïπ¥Îìú"]}),e.jsxs("button",{onClick:()=>x("list"),className:`flex items-center justify-center px-2 py-1.5 rounded transition-all duration-200 text-xs font-medium ${b==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(Vt,{size:12,className:"mr-1"}),"Î¶¨Ïä§Ìä∏"]})]})]}),e.jsx(U,{variant:"outline",onClick:rs,size:"sm",leftIcon:e.jsx(Me,{size:12}),className:"text-xs font-medium px-3 py-1.5 bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100 rounded-lg transition-all duration-200",children:"Ï¥àÍ∏∞Ìôî"})]})]})]})]})}),J.length===0?e.jsxs(le,{className:"p-12 text-center",children:[e.jsx("div",{className:"text-gray-400 mb-4",children:e.jsx(os,{size:48,className:"mx-auto"})}),e.jsx("p",{className:"text-gray-500",children:"Í≤ÄÏÉâ Ï°∞Í±¥Ïóê ÎßûÎäî Îß§Î¨ºÏù¥ ÏóÜÏäµÎãàÎã§."})]}):b==="card"?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:J.map(I=>e.jsx(wr,{property:I,onClick:()=>P(I)},I.id))}):e.jsx(Wn,{properties:J,onView:I=>P(I)}),e.jsx(Bn,{isOpen:L,onClose:()=>z(!1),onSubmit:Os,loading:R}),_&&e.jsx(_r,{property:_,isOpen:!0,onClose:()=>{console.log("üîí ÏÉÅÏÑ∏ Î™®Îã¨ Îã´Í∏∞"),P(null)},onEdit:I=>{console.log("üîß Î™®Îã¨ÏóêÏÑú ÏàòÏ†ï ÏöîÏ≤≠ Î∞õÏùå:",I.title),Ls(I)},onDelete:I=>{console.log("üîß Î™®Îã¨ÏóêÏÑú ÏÇ≠Ï†ú ÏöîÏ≤≠ Î∞õÏùå:",I.title),zs(I)}}),Y&&e.jsx(Sr,{isOpen:$,onClose:()=>{te(!1),O(null)},onSubmit:Ds,property:Y,loading:ee}),e.jsx(Ee,{isOpen:p,onClose:()=>v(!1),title:"Îß§Î¨º ÏÇ≠Ï†ú",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-gray-600",children:["'",y==null?void 0:y.title,"' Îß§Î¨ºÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?",e.jsx("br",{}),"Ïù¥ ÏûëÏóÖÏùÄ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§."]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(U,{variant:"outline",onClick:()=>v(!1),children:"Ï∑®ÏÜå"}),e.jsx(U,{variant:"destructive",onClick:ye,children:"ÏÇ≠Ï†ú"})]})]})})]})},Wn=({properties:s,onView:t})=>e.jsxs(le,{children:[e.jsx("div",{className:"hidden lg:block bg-gray-50 border-b border-gray-200 px-4 py-3",children:e.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs font-medium text-gray-700",children:[e.jsx("div",{className:"col-span-1",children:"Í±∞ÎûòÏú†Ìòï"}),e.jsx("div",{className:"col-span-3",children:"Îß§Î¨ºÏ†ïÎ≥¥"}),e.jsx("div",{className:"col-span-3",children:"Í∞ÄÍ≤©Ï†ïÎ≥¥"}),e.jsx("div",{className:"col-span-2",children:"ÏûÑÎåÄÏù∏Ï†ïÎ≥¥"}),e.jsx("div",{className:"col-span-1",children:"Ìá¥Ïã§ÏòàÏ†ïÏùº"}),e.jsx("div",{className:"col-span-2",children:"Ï∂îÍ∞ÄÏ†ïÎ≥¥"})]})}),e.jsx("div",{children:s.map(r=>e.jsxs("div",{className:"border-b border-gray-100 hover:bg-blue-50 transition-colors cursor-pointer touch-target relative",onClick:()=>t(r),children:[r.status==="Í±∞ÎûòÏôÑÎ£å"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-10",children:e.jsx("div",{className:"w-full h-0.5 bg-red-500 opacity-60"})}),e.jsx("div",{className:"hidden lg:block px-4 py-3",children:e.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center text-sm",children:[e.jsx("div",{className:"col-span-1",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx(Se,{size:"sm",variant:r.transaction_type==="Îß§Îß§"?"sale":r.transaction_type==="Ï†ÑÏÑ∏"?"jeonse":"monthly",children:r.transaction_type}),e.jsx(us,{status:r.status})]})}),e.jsxs("div",{className:"col-span-3",children:[e.jsx("div",{className:"font-medium text-gray-900 truncate text-sm mb-1",children:r.title}),e.jsxs("div",{className:"text-xs text-gray-600 truncate mb-1",children:["üìç ",r.address]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[r.type," ‚Ä¢ ",r.area,"m¬≤(",Math.floor(r.area/3.3),"Ìèâ) ‚Ä¢ ",r.floor,"/",r.total_floors,"Ï∏µ ‚Ä¢ ",r.rooms,"Î£∏"," ",r.bathrooms,"ÏöïÏã§"]})]}),e.jsxs("div",{className:"col-span-3",children:[e.jsx("div",{className:"font-bold text-gray-900 text-sm break-words",children:Is(r)}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Îì±Î°ù:"," ",r.created_at&&new Date(r.created_at).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})]})]}),e.jsx("div",{className:"col-span-2",children:r.landlord_name?e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-medium text-gray-700 truncate",children:r.landlord_name}),r.landlord_phone&&e.jsx("div",{className:"text-gray-500 truncate",children:r.landlord_phone})]}):e.jsx("div",{className:"text-xs text-gray-400",children:"Ï†ïÎ≥¥ ÏóÜÏùå"})}),e.jsx("div",{className:"col-span-1",children:r.exit_date?e.jsxs("div",{className:"text-xs",children:[e.jsx("div",{className:"font-medium text-gray-700",children:new Date(r.exit_date).toLocaleDateString("ko-KR")}),e.jsx("div",{className:"text-gray-500",children:"Ìá¥Ïã§ÏòàÏ†ï"})]}):e.jsx("div",{className:"text-xs text-gray-400",children:"ÎØ∏Ï†ï"})}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsxs("span",{className:`${r.parking?"text-green-600":"text-gray-400"}`,children:["üöó",r.parking?"Ï£ºÏ∞®":"Ï£ºÏ∞®X"]}),e.jsxs("span",{className:`${r.elevator?"text-green-600":"text-gray-400"}`,children:["üè¢",r.elevator?"ÏóòÎ≤†":"ÏóòÎ≤†X"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Ï°∞Ìöå: ",r.view_count||0]})]})]})}),e.jsx("div",{className:"lg:hidden px-4 py-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Se,{size:"sm",variant:r.transaction_type==="Îß§Îß§"?"sale":r.transaction_type==="Ï†ÑÏÑ∏"?"jeonse":"monthly",children:r.transaction_type}),e.jsx(us,{status:r.status})]}),e.jsx("div",{className:"font-bold text-primary-600 text-base",children:Is(r)})]}),e.jsx("div",{className:"font-medium text-gray-900 text-base",children:r.title}),e.jsxs("div",{className:"text-sm text-gray-600",children:["üìç ",r.address]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[r.type," ‚Ä¢ ",r.area,"m¬≤ (",Math.floor(r.area/3.3),"Ìèâ) ‚Ä¢ ",r.floor,"/",r.total_floors,"Ï∏µ ‚Ä¢ ",r.rooms,"Î£∏"," ",r.bathrooms,"ÏöïÏã§"]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:`${r.parking?"text-green-600":"text-gray-400"}`,children:["üöó",r.parking?"Ï£ºÏ∞®":"Ï£ºÏ∞®X"]}),e.jsxs("span",{className:`${r.elevator?"text-green-600":"text-gray-400"}`,children:["üè¢",r.elevator?"ÏóòÎ≤†":"ÏóòÎ≤†X"]}),r.exit_date&&e.jsxs("span",{className:"text-orange-600",children:["Ìá¥Ïã§:"," ",new Date(r.exit_date).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})]})]}),e.jsxs("div",{children:["Îì±Î°ù:"," ",r.created_at&&new Date(r.created_at).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})]})]})]})})]},r.id))})]}),Gn=({isOpen:s,onClose:t,onSubmit:r,initialData:a,selectedDate:l})=>{const{user:n,loading:i,session:o,getCurrentUser:c}=oe(),{properties:d}=ps(),[h,u]=m.useState(!1),[f,j]=m.useState(null),[g,N]=m.useState({title:"",description:"",start_date:"",end_date:"",all_day:!1,category:"other",priority:"medium",property_id:"",attendees:[],location:""});m.useEffect(()=>{if(a)N({title:a.title,description:a.description||"",start_date:a.start_date,end_date:a.end_date,all_day:a.all_day,category:a.category,priority:a.priority,property_id:a.property_id||"",attendees:a.attendees||[],location:a.location||""});else{const y=new Date;let k,L;if(l){k=new Date(l);const q=y.getHours(),$=y.getMinutes();l.toDateString()===y.toDateString()?k.setHours(q+($>0?1:0),0,0,0):k.setHours(9,0,0,0)}else k=new Date(y),k.setHours(y.getHours()+1,0,0,0);L=new Date(k),L.setHours(k.getHours()+1);const z=k.toISOString().slice(0,16),R=L.toISOString().slice(0,16);console.log("üïê Í∏∞Î≥∏ ÏãúÍ∞Ñ ÏÑ§Ï†ï:",{selectedDate:l==null?void 0:l.toISOString(),clickedDate:l==null?void 0:l.toDateString(),currentDate:y.toDateString(),isToday:(l==null?void 0:l.toDateString())===y.toDateString(),startDateTime:z,endDateTime:R}),N(q=>({...q,start_date:z,end_date:R}))}},[a,l]);const b=async y=>{var k,L,z,R,q;if(y.preventDefault(),console.log("üöÄ handleSubmit Ìï®Ïàò Ïã§ÌñâÎê®!"),console.log("üìã ÌòÑÏû¨ formData:",g),console.log("üîç ÌòÑÏû¨ Ïù∏Ï¶ù ÏÉÅÌÉú:",{authLoading:i,hasUser:!!n,userId:n==null?void 0:n.id,hasSession:!!o}),i){j("Ïù∏Ï¶ù ÏÉÅÌÉúÎ•º ÌôïÏù∏ÌïòÎäî Ï§ëÏûÖÎãàÎã§. Ïû†Ïãú ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.");return}if(!g.title.trim()){j("ÏùºÏ†ï Ï†úÎ™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");return}if(!g.start_date){j("ÏãúÏûë ÏùºÏãúÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.");return}if(!g.end_date){j("Ï¢ÖÎ£å ÏùºÏãúÎ•º ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.");return}if(new Date(g.start_date)>=new Date(g.end_date)){j("Ï¢ÖÎ£å ÏùºÏãúÎäî ÏãúÏûë ÏùºÏãúÎ≥¥Îã§ Îí§Ïó¨Ïïº Ìï©ÎãàÎã§.");return}console.log("‚úÖ Ìèº Ïú†Ìö®ÏÑ± Í≤ÄÏÇ¨ ÌÜµÍ≥º"),u(!0),j(null);try{console.log("üîê Ïù∏Ï¶ù ÏÇ¨Ïö©Ïûê ÌôïÏù∏ Ï§ë...");let $=null;const te=await c();if(!te){console.error("‚ùå ÏÇ¨Ïö©Ïûê Ïù∏Ï¶ù Ïã§Ìå®"),j("ÏÇ¨Ïö©Ïûê Ïù∏Ï¶ùÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§. ÌéòÏù¥ÏßÄÎ•º ÏÉàÎ°úÍ≥†Ïπ®ÌïòÍ±∞ÎÇò Îã§Ïãú Î°úÍ∑∏Ïù∏Ìï¥Ï£ºÏÑ∏Ïöî.");return}$={id:te.id,email:te.email},console.log("‚úÖ Ïù∏Ï¶ùÎêú ÏÇ¨Ïö©Ïûê:",{id:$.id,email:$.email});const ee=$.id;console.log("üè¢ ÌÖåÎÑåÌä∏ ID:",ee);const G={...g};(!G.property_id||G.property_id.trim()==="")&&delete G.property_id,Array.isArray(G.attendees)&&G.attendees.length===0&&delete G.attendees,console.log("üßπ Ï†ïÎ¶¨Îêú Ìèº Îç∞Ïù¥ÌÑ∞:",G);let Y;if(a){if(console.log("üîÑ ÏùºÏ†ï ÏàòÏ†ï Ï§ë...",{scheduleId:a.id,tenantId:ee,currentUserId:$.id,originalTenantId:a.tenant_id,originalCreatedBy:a.created_by}),a.tenant_id!==ee||a.created_by!==$.id){console.error("‚ùå ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ Í∂åÌïú ÌôïÏù∏ Ïã§Ìå®"),j("Ïù¥ ÏùºÏ†ïÏùÑ ÏàòÏ†ïÌï† Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§.");return}Y=await Xe.updateSchedule(a.id,G,$.id)}else console.log("‚ûï ÏùºÏ†ï ÏÉùÏÑ± Ï§ë..."),Y=await Xe.createSchedule(ee,$.id,G);console.log("‚úÖ ÏùºÏ†ï Ï†ÄÏû• ÏÑ±Í≥µ:",Y),r(Y),t()}catch($){console.error("‚ùå ÏùºÏ†ï Ï†ÄÏû• Ïã§Ìå®:",$),console.error("‚ùå Ïò§Î•ò ÏÉÅÏÑ∏:",{message:$.message,stack:$.stack,name:$.name,code:$.code}),(k=$.message)!=null&&k.includes("JWT")||(L=$.message)!=null&&L.includes("Ïù∏Ï¶ùÏù¥ ÌïÑÏöîÌï©ÎãàÎã§")?j("ÏÑ∏ÏÖòÏù¥ ÎßåÎ£åÎêòÏóàÏäµÎãàÎã§. ÌéòÏù¥ÏßÄÎ•º ÏÉàÎ°úÍ≥†Ïπ®ÌïòÍ±∞ÎÇò Îã§Ïãú Î°úÍ∑∏Ïù∏Ìï¥Ï£ºÏÑ∏Ïöî."):(z=$.message)!=null&&z.includes("permission")||(R=$.message)!=null&&R.includes("Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§")?j("Ïù¥ ÏùºÏ†ïÏùÑ ÏàòÏ†ïÌï† Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§. Î≥∏Ïù∏Ïù¥ ÏûëÏÑ±Ìïú ÏùºÏ†ïÎßå ÏàòÏ†ï Í∞ÄÎä•Ìï©ÎãàÎã§."):(q=$.message)!=null&&q.includes("Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§")?j("ÏùºÏ†ïÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§. Ïù¥ÎØ∏ ÏÇ≠Ï†úÎêòÏóàÍ±∞ÎÇò Í∂åÌïúÏù¥ ÏóÜÏùÑ Ïàò ÏûàÏäµÎãàÎã§."):j($.message||"ÏùºÏ†ï Ï†ÄÏû• Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}finally{u(!1)}},x=(y,k)=>{if(N(L=>({...L,[y]:k})),y==="all_day"&&k){const L=g.start_date.split("T")[0],z=g.end_date.split("T")[0];N(R=>({...R,start_date:`${L}T00:00`,end_date:`${z}T23:59`}))}},p=[{value:"property_viewing",label:"Îß§Î¨º Î≥¥Í∏∞",icon:e.jsx(be,{className:"w-4 h-4"})},{value:"contract_signing",label:"Í≥ÑÏïΩ Ï≤¥Í≤∞",icon:e.jsx(Je,{className:"w-4 h-4"})},{value:"maintenance",label:"Ïú†ÏßÄÎ≥¥Ïàò",icon:e.jsx(qe,{className:"w-4 h-4"})},{value:"client_meeting",label:"Í≥†Í∞ù ÎØ∏ÌåÖ",icon:e.jsx(ke,{className:"w-4 h-4"})},{value:"team_meeting",label:"ÌåÄ ÌöåÏùò",icon:e.jsx(ke,{className:"w-4 h-4"})},{value:"personal",label:"Í∞úÏù∏ ÏùºÏ†ï",icon:e.jsx(je,{className:"w-4 h-4"})},{value:"other",label:"Í∏∞ÌÉÄ",icon:e.jsx(Je,{className:"w-4 h-4"})}],v=[{value:"low",label:"ÎÇÆÏùå",color:"text-gray-600"},{value:"medium",label:"Î≥¥ÌÜµ",color:"text-blue-600"},{value:"high",label:"ÎÜíÏùå",color:"text-orange-600"},{value:"urgent",label:"Í∏¥Í∏â",color:"text-red-600"}];return e.jsx(Ee,{isOpen:s,onClose:t,title:a?"ÏùºÏ†ï ÏàòÏ†ï":"ÏÉà ÏùºÏ†ï Îì±Î°ù",size:"lg",children:e.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[f&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-red-600",children:f})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ÏùºÏ†ï Ï†úÎ™© *"}),e.jsx(A,{value:g.title,onChange:y=>x("title",y.target.value),placeholder:"ÏùºÏ†ï Ï†úÎ™©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ÏÑ§Î™Ö"}),e.jsx("textarea",{value:g.description,onChange:y=>x("description",y.target.value),placeholder:"ÏùºÏ†ïÏóê ÎåÄÌïú ÏûêÏÑ∏Ìïú ÏÑ§Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm resize-none h-20"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ïπ¥ÌÖåÍ≥†Î¶¨ *"}),e.jsx("select",{value:g.category,onChange:y=>x("category",y.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",required:!0,children:p.map(y=>e.jsx("option",{value:y.value,children:y.label},y.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ïö∞ÏÑ†ÏàúÏúÑ"}),e.jsx("select",{value:g.priority,onChange:y=>x("priority",y.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:v.map(y=>e.jsx("option",{value:y.value,children:y.label},y.value))})]}),(g.category==="property_viewing"||g.category==="contract_signing")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ïó∞Í¥Ä Îß§Î¨º"}),e.jsxs("select",{value:g.property_id,onChange:y=>x("property_id",y.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{value:"",children:"Îß§Î¨º ÏÑ†ÌÉù (ÏÑ†ÌÉùÏÇ¨Ìï≠)"}),d.map(y=>e.jsxs("option",{value:y.id,children:[y.title," - ",y.address]},y.id))]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"all_day",checked:g.all_day,onChange:y=>x("all_day",y.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"all_day",className:"text-sm text-gray-700",children:"Ï¢ÖÏùº ÏùºÏ†ï"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ÏãúÏûë ÏùºÏãú *"}),e.jsx(A,{type:g.all_day?"date":"datetime-local",value:g.all_day?g.start_date.split("T")[0]:g.start_date,onChange:y=>{const k=g.all_day?`${y.target.value}T00:00`:y.target.value;x("start_date",k)},required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ï¢ÖÎ£å ÏùºÏãú *"}),e.jsx(A,{type:g.all_day?"date":"datetime-local",value:g.all_day?g.end_date.split("T")[0]:g.end_date,onChange:y=>{const k=g.all_day?`${y.target.value}T23:59`:y.target.value;x("end_date",k)},required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ïû•ÏÜå"}),e.jsx(A,{value:g.location,onChange:y=>x("location",y.target.value),placeholder:"ÏùºÏ†ï Ïû•ÏÜåÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî",leftIcon:e.jsx(be,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200",children:[e.jsx(U,{type:"button",onClick:t,variant:"outline",disabled:h||i,children:"Ï∑®ÏÜå"}),e.jsx(U,{type:"submit",variant:"tenant",disabled:h||i,onClick:()=>console.log("üîò Îì±Î°ù Î≤ÑÌäº ÌÅ¥Î¶≠Îê®!"),children:i?"Ïù∏Ï¶ù ÌôïÏù∏ Ï§ë...":h?"Ï†ÄÏû• Ï§ë...":a?"ÏàòÏ†ï":"Îì±Î°ù"})]})]})})},Hn=({isOpen:s,onClose:t,schedule:r,onEdit:a,onDelete:l})=>{const n=ht(),[i,o]=m.useState(!1);if(!r)return null;const c={property_viewing:{label:"Îß§Î¨º Î≥¥Í∏∞",color:"bg-blue-500",icon:e.jsx(be,{className:"w-4 h-4"})},contract_signing:{label:"Í≥ÑÏïΩ Ï≤¥Í≤∞",color:"bg-green-500",icon:e.jsx(Je,{className:"w-4 h-4"})},maintenance:{label:"Ïú†ÏßÄÎ≥¥Ïàò",color:"bg-yellow-500",icon:e.jsx(qe,{className:"w-4 h-4"})},client_meeting:{label:"Í≥†Í∞ù ÎØ∏ÌåÖ",color:"bg-purple-500",icon:e.jsx(ie,{className:"w-4 h-4"})},team_meeting:{label:"ÌåÄ ÌöåÏùò",color:"bg-indigo-500",icon:e.jsx(ie,{className:"w-4 h-4"})},personal:{label:"Í∞úÏù∏ ÏùºÏ†ï",color:"bg-pink-500",icon:e.jsx(je,{className:"w-4 h-4"})},other:{label:"Í∏∞ÌÉÄ",color:"bg-gray-500",icon:e.jsx(Je,{className:"w-4 h-4"})}},d={low:{label:"ÎÇÆÏùå",color:"text-gray-600 bg-gray-100"},medium:{label:"Î≥¥ÌÜµ",color:"text-blue-600 bg-blue-100"},high:{label:"ÎÜíÏùå",color:"text-orange-600 bg-orange-100"},urgent:{label:"Í∏¥Í∏â",color:"text-red-600 bg-red-100"}},h={scheduled:{label:"ÏòàÏ†ïÎê®",color:"text-blue-600 bg-blue-100"},in_progress:{label:"ÏßÑÌñâ Ï§ë",color:"text-yellow-600 bg-yellow-100"},completed:{label:"ÏôÑÎ£åÎê®",color:"text-green-600 bg-green-100"},cancelled:{label:"Ï∑®ÏÜåÎê®",color:"text-red-600 bg-red-100"},postponed:{label:"Ïó∞Í∏∞Îê®",color:"text-gray-600 bg-gray-100"}},u=(b,x)=>{const p=new Date(b);return x?p.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"}):p.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"2-digit",minute:"2-digit"})},f=async()=>{if(confirm("Ï†ïÎßêÎ°ú Ïù¥ ÏùºÏ†ïÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?")){o(!0);try{await l(r.id),t()}catch(b){console.error("ÏùºÏ†ï ÏÇ≠Ï†ú Ïã§Ìå®:",b)}finally{o(!1)}}},j=c[r.category],g=d[r.priority],N=h[r.status];return e.jsx(Ee,{isOpen:s,onClose:t,title:"",size:"lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:r.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-white text-xs font-medium ${j.color}`,children:[j.icon,e.jsx("span",{className:"ml-1",children:j.label})]}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${g.color}`,children:g.label}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${N.color}`,children:N.label})]})]}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 ml-4",children:e.jsx(ue,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-gray-700 mb-2",children:[e.jsx(je,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"ÏãúÏûë"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:u(r.start_date,r.all_day)}),e.jsxs("div",{className:"flex items-center text-gray-700 mb-2",children:[e.jsx(nt,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Ï¢ÖÎ£å"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:u(r.end_date,r.all_day)}),r.all_day&&e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-600",children:"Ï¢ÖÏùº ÏùºÏ†ï"})})]}),r.description&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"ÏÉÅÏÑ∏ ÎÇ¥Ïö©"}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:r.description})})]}),r.location&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center text-gray-700 mb-2",children:[e.jsx(be,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"Ïû•ÏÜå"})]}),e.jsx("p",{className:"text-gray-600 ml-7",children:r.location})]}),e.jsxs("div",{className:"mb-6 pt-4 border-t border-gray-200",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:["ÏÉùÏÑ±Ïùº: ",new Date(r.created_at).toLocaleDateString("ko-KR")]}),r.updated_at!==r.created_at&&e.jsxs("p",{className:"text-xs text-gray-500",children:["ÏàòÏ†ïÏùº: ",new Date(r.updated_at).toLocaleDateString("ko-KR")]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200",children:[e.jsx(U,{onClick:t,variant:"outline",size:n?"sm":"md",children:"Îã´Í∏∞"}),e.jsx(U,{onClick:()=>{a(r),t()},variant:"primary",leftIcon:e.jsx(ms,{className:"w-4 h-4"}),size:n?"sm":"md",children:"ÏàòÏ†ï"}),e.jsx(U,{onClick:f,variant:"danger",leftIcon:e.jsx(Ye,{className:"w-4 h-4"}),disabled:i,size:n?"sm":"md",children:i?"ÏÇ≠Ï†ú Ï§ë...":"ÏÇ≠Ï†ú"})]})]})})},Pr=()=>{const s=ht(),{user:t}=oe(),[r,a]=m.useState(new Date),[l,n]=m.useState("month"),[i,o]=m.useState(null),[c,d]=m.useState(!1),[h,u]=m.useState(!1),[f,j]=m.useState(!1),[g,N]=m.useState(null),[b,x]=m.useState(null),[p,v]=m.useState([]),[y,k]=m.useState("all"),L={property_viewing:"bg-blue-500",contract_signing:"bg-green-500",maintenance:"bg-yellow-500",client_meeting:"bg-purple-500",team_meeting:"bg-indigo-500",personal:"bg-pink-500",other:"bg-gray-500"},z={property_viewing:"Îß§Î¨º Î≥¥Í∏∞",contract_signing:"Í≥ÑÏïΩ Ï≤¥Í≤∞",maintenance:"Ïú†ÏßÄÎ≥¥Ïàò",client_meeting:"Í≥†Í∞ù ÎØ∏ÌåÖ",team_meeting:"ÌåÄ ÌöåÏùò",personal:"Í∞úÏù∏ ÏùºÏ†ï",other:"Í∏∞ÌÉÄ"};m.useEffect(()=>{(async()=>{if(!t){console.log("‚è≥ ÏÇ¨Ïö©Ïûê Ïù∏Ï¶ù ÎåÄÍ∏∞ Ï§ë...");return}try{console.log("üìÖ Ïä§ÏºÄÏ§Ñ Îç∞Ïù¥ÌÑ∞ Î°úÎìú ÏãúÏûë:",{userId:t.id,tenantId:t.id});const _=await Xe.getSchedules(t.id);console.log("üìÖ Î°úÎìúÎêú Ïä§ÏºÄÏ§Ñ:",_.length,"Í∞ú"),v(_)}catch(_){console.error("‚ùå Ïä§ÏºÄÏ§Ñ Î°úÎìú Ïã§Ìå®:",_),v([])}finally{}})()},[t]);const R=O=>{v(_=>_.find(w=>w.id===O.id)?_.map(w=>w.id===O.id?O:w):[..._,O])},q=O=>{N(O),j(!0)},$=O=>{console.log("üìù Ïä§ÏºÄÏ§Ñ ÏàòÏ†ï ÏöîÏ≤≠:",{id:O.id,title:O.title,tenant_id:O.tenant_id,created_by:O.created_by,currentUserId:t==null?void 0:t.id}),x(O),d(!0)},te=async O=>{try{console.log("üóëÔ∏è Ïä§ÏºÄÏ§Ñ ÏÇ≠Ï†ú ÏöîÏ≤≠:",{scheduleId:O,currentUserId:t==null?void 0:t.id}),await Xe.deleteSchedule(O,t==null?void 0:t.id),v(_=>_.filter(P=>P.id!==O)),console.log("‚úÖ Ïä§ÏºÄÏ§Ñ ÏÇ≠Ï†ú ÏôÑÎ£å:",O)}catch(_){throw console.error("‚ùå Ïä§ÏºÄÏ§Ñ ÏÇ≠Ï†ú Ïã§Ìå®:",_),_}},ee=()=>{d(!1),x(null),o(null)},G=()=>{const O=r.getFullYear(),_=r.getMonth(),P=new Date(O,_,1),w=new Date(O,_+1,0),B=new Date(P);B.setDate(B.getDate()-P.getDay());const H=new Date(w);H.setDate(H.getDate()+(6-w.getDay()));const K=[],se=new Date(B);for(;se<=H;)K.push(new Date(se)),se.setDate(se.getDate()+1);const C=[];for(let D=0;D<K.length;D+=7)C.push(K.slice(D,D+7));return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:e.jsx("div",{className:"grid grid-cols-7 text-center text-sm font-medium text-gray-500 py-3",children:["Ïùº","Ïõî","Ìôî","Ïàò","Î™©","Í∏à","ÌÜ†"].map(D=>e.jsx("div",{children:D},D))})}),e.jsx("div",{className:"divide-y divide-gray-200",children:C.map((D,Z)=>e.jsx("div",{className:"grid grid-cols-7",children:D.map((J,W)=>{const ce=J.toDateString()===new Date().toDateString(),we=J.getMonth()===_,fe=p.filter(de=>new Date(de.start_date).toDateString()===J.toDateString());return e.jsxs("div",{className:`min-h-[60px] sm:min-h-[80px] p-1 sm:p-2 border-r border-gray-100 last:border-r-0 cursor-pointer hover:bg-gray-50 transition-colors ${we?"":"bg-gray-25 text-gray-400"}`,onClick:()=>{o(J),d(!0)},children:[e.jsx("div",{className:`text-xs sm:text-sm mb-1 ${ce?"w-5 h-5 sm:w-6 sm:h-6 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-xs":"font-medium"}`,children:J.getDate()}),e.jsxs("div",{className:"space-y-1",children:[fe.slice(0,s?1:3).map((de,ye)=>e.jsx("div",{className:`text-xs px-1 py-0.5 sm:px-2 sm:py-1 rounded text-white truncate cursor-pointer hover:opacity-80 touch-target ${L[de.category]}`,onClick:rs=>{rs.stopPropagation(),q(de)},title:`${de.title} - ÌÅ¥Î¶≠ÌïòÏó¨ ÏÉÅÏÑ∏Î≥¥Í∏∞`,children:de.title},ye)),fe.length>(s?1:3)&&e.jsxs("div",{className:"text-xs text-gray-500",children:["+",fe.length-(s?1:3),"Í∞ú Îçî"]})]})]},W)})},Z))})]})},Y=()=>{const O=p.filter(_=>y==="all"||_.category===y);return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"ÏùºÏ†ï Î™©Î°ù"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:O.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(je,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"Îì±Î°ùÎêú ÏùºÏ†ïÏù¥ ÏóÜÏäµÎãàÎã§."})]}):O.map(_=>e.jsx("div",{className:"p-4 hover:bg-blue-50 cursor-pointer transition-all duration-200 border-l-4 border-transparent hover:border-blue-400 hover:shadow-sm",onClick:()=>q(_),role:"button",tabIndex:0,onKeyDown:P=>{(P.key==="Enter"||P.key===" ")&&(P.preventDefault(),q(_))},"aria-label":`${_.title} ÏùºÏ†ï ÏÉÅÏÑ∏Î≥¥Í∏∞`,title:"ÌÅ¥Î¶≠ÌïòÏó¨ ÏùºÏ†ï ÏÉÅÏÑ∏Î≥¥Í∏∞",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mt-1 ${L[_.category]} flex-shrink-0`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:_.title}),_.priority==="urgent"&&e.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-red-100 text-red-600",children:"Í∏¥Í∏â"}),_.priority==="high"&&e.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-orange-100 text-orange-600",children:"ÎÜíÏùå"})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:z[_.category]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-400 mb-1",children:[e.jsx(je,{className:"w-4 h-4 mr-1"}),new Date(_.start_date).toLocaleDateString("ko-KR",{month:"short",day:"numeric",hour:_.all_day?void 0:"2-digit",minute:_.all_day?void 0:"2-digit"}),_.location&&e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"w-3 h-3 ml-3 mr-1"}),e.jsx("span",{className:"truncate",children:_.location})]})]}),_.description&&e.jsx("p",{className:"text-xs text-gray-400 mt-1 line-clamp-2",children:_.description})]})]}),e.jsx("div",{className:"flex-shrink-0 ml-2",children:e.jsx(Ke,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-500"})})]})},_.id))})]})};return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ÏùºÏ†ï Í¥ÄÎ¶¨"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Ï∫òÎ¶∞ÎçîÎ°ú ÏùºÏ†ïÏùÑ Í¥ÄÎ¶¨ÌïòÏÑ∏Ïöî"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{onClick:()=>d(!0),leftIcon:e.jsx(ds,{className:"w-4 h-4"}),variant:"tenant",size:s?"sm":"md",children:s?"Îì±Î°ù":"ÏùºÏ†ï Îì±Î°ù"}),e.jsx(U,{onClick:()=>u(!0),leftIcon:e.jsx(Hr,{className:"w-4 h-4"}),variant:"outline",size:s?"sm":"md",children:"ÌïÑÌÑ∞"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{onClick:()=>{const O=new Date(r);O.setMonth(O.getMonth()-1),a(O)},variant:"outline",size:"sm",children:e.jsx(Yr,{className:"w-4 h-4"})}),e.jsx("h2",{className:"text-lg font-semibold min-w-[120px] text-center",children:r.toLocaleDateString("ko-KR",{year:"numeric",month:"long"})}),e.jsx(U,{onClick:()=>{const O=new Date(r);O.setMonth(O.getMonth()+1),a(O)},variant:"outline",size:"sm",children:e.jsx(Hs,{className:"w-4 h-4"})})]}),e.jsx(U,{onClick:()=>a(new Date),variant:"outline",size:"sm",children:"Ïò§Îäò"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{onClick:()=>n("month"),variant:l==="month"?"primary":"outline",size:"sm",leftIcon:e.jsx(Cs,{className:"w-4 h-4"}),children:"ÏõîÍ∞Ñ"}),e.jsx(U,{onClick:()=>n("agenda"),variant:l==="agenda"?"primary":"outline",size:"sm",leftIcon:e.jsx(Kr,{className:"w-4 h-4"}),children:"Î™©Î°ù"})]})]}),l==="month"?G():Y(),e.jsx(Gn,{isOpen:c,onClose:ee,onSubmit:R,initialData:b,selectedDate:i||void 0}),e.jsx(Hn,{isOpen:f,onClose:()=>j(!1),schedule:g,onEdit:$,onDelete:te}),e.jsx(Ee,{isOpen:h,onClose:()=>u(!1),title:"ÏùºÏ†ï ÌïÑÌÑ∞",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ïπ¥ÌÖåÍ≥†Î¶¨"}),e.jsxs("select",{value:y,onChange:O=>k(O.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[e.jsx("option",{value:"all",children:"Ï†ÑÏ≤¥"}),e.jsx("option",{value:"property_viewing",children:"Îß§Î¨º Î≥¥Í∏∞"}),e.jsx("option",{value:"contract_signing",children:"Í≥ÑÏïΩ Ï≤¥Í≤∞"}),e.jsx("option",{value:"maintenance",children:"Ïú†ÏßÄÎ≥¥Ïàò"}),e.jsx("option",{value:"client_meeting",children:"Í≥†Í∞ù ÎØ∏ÌåÖ"}),e.jsx("option",{value:"team_meeting",children:"ÌåÄ ÌöåÏùò"}),e.jsx("option",{value:"personal",children:"Í∞úÏù∏ ÏùºÏ†ï"}),e.jsx("option",{value:"other",children:"Í∏∞ÌÉÄ"})]})]})}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[e.jsx(U,{onClick:()=>u(!1),variant:"outline",children:"Ï∑®ÏÜå"}),e.jsx(U,{onClick:()=>u(!1),variant:"tenant",children:"Ï†ÅÏö©"})]})]})})]})},He={owner:"ÌåÄ ÏÜåÏú†Ïûê",admin:"Í¥ÄÎ¶¨Ïûê",member:"Î©§Î≤Ñ",viewer:"Î∑∞Ïñ¥"},Yn={active:"ÌôúÏÑ±",inactive:"ÎπÑÌôúÏÑ±",suspended:"Ï†ïÏßÄÎê®"},Kn={pending:"ÎåÄÍ∏∞Ï§ë",accepted:"ÏàòÎùΩÎê®",declined:"Í±∞Ï†àÎê®",expired:"ÎßåÎ£åÎê®"},Jn=({member:s,isOpen:t,onClose:r,onUpdate:a,onRoleChange:l,onStatusChange:n,currentUserRole:i,canEdit:o})=>{const[c,d]=m.useState("info"),[h,u]=m.useState(!1),[f,j]=m.useState({name:s.name||"",email:s.email||"",phone:s.phone||"",company:s.company||""});if(!t)return null;const g=async()=>{try{u(!0),await a(s.id,f),r()}catch(y){alert(y.message||"Ï†ïÎ≥¥ ÏóÖÎç∞Ïù¥Ìä∏Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{u(!1)}},N=async y=>{if(confirm(`${s.name}ÎãòÏùò Ïó≠Ìï†ÏùÑ ${He[y]}Î°ú Î≥ÄÍ≤ΩÌïòÏãúÍ≤†ÏäµÎãàÍπå?`))try{u(!0),await l(s.id,y),r()}catch(k){alert(k.message||"Ïó≠Ìï† Î≥ÄÍ≤ΩÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{u(!1)}},b=async y=>{if(confirm(`${s.name}ÎãòÏùò ÏÉÅÌÉúÎ•º Î≥ÄÍ≤ΩÌïòÏãúÍ≤†ÏäµÎãàÍπå?`))try{u(!0),await n(s.id,y),r()}catch(k){alert(k.message||"ÏÉÅÌÉú Î≥ÄÍ≤ΩÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{u(!1)}},x=y=>{switch(y){case"owner":return e.jsx(Bt,{className:"w-4 h-4 text-yellow-500"});case"admin":return e.jsx(it,{className:"w-4 h-4 text-blue-500"});case"member":return e.jsx(ie,{className:"w-4 h-4 text-green-500"});case"viewer":return e.jsx(Ke,{className:"w-4 h-4 text-gray-500"});default:return e.jsx(ie,{className:"w-4 h-4"})}},p=y=>!!(i==="owner"||i==="admin"&&["member","viewer"].includes(y)),v=i==="owner"||i==="admin";return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ie,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:s.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[x(s.role),e.jsx("span",{className:"text-sm text-gray-600",children:He[s.role]})]})]})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsx(ue,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex",children:[e.jsx("button",{onClick:()=>d("info"),className:`px-6 py-3 text-sm font-medium ${c==="info"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Í∏∞Î≥∏ Ï†ïÎ≥¥"}),o&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>d("role"),className:`px-6 py-3 text-sm font-medium ${c==="role"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Ïó≠Ìï† Í¥ÄÎ¶¨"}),e.jsx("button",{onClick:()=>d("status"),className:`px-6 py-3 text-sm font-medium ${c==="status"?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"ÏÉÅÌÉú Í¥ÄÎ¶¨"})]})]})}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[c==="info"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ïù¥Î¶Ñ"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",value:f.name,onChange:y=>j({...f,name:y.target.value}),className:"w-full pl-10 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî",readOnly:!o})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ïù¥Î©îÏùº"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"email",value:f.email,onChange:y=>j({...f,email:y.target.value}),className:"w-full pl-10 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ïù¥Î©îÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî",readOnly:!o})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ï†ÑÌôîÎ≤àÌò∏"}),e.jsxs("div",{className:"relative",children:[e.jsx(Jr,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"tel",value:f.phone,onChange:y=>j({...f,phone:y.target.value}),className:"w-full pl-10 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ï†ÑÌôîÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî",readOnly:!o})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ÌöåÏÇ¨Î™Ö"}),e.jsxs("div",{className:"relative",children:[e.jsx(lt,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",value:f.company,onChange:y=>j({...f,company:y.target.value}),className:"w-full pl-10 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"ÌöåÏÇ¨Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî",readOnly:!o})]})]}),e.jsx("div",{className:"text-sm text-gray-500",children:e.jsxs("p",{children:["Í∞ÄÏûÖÏùº:"," ",new Date(s.joined_at).toLocaleDateString("ko-KR")]})})]}),c==="role"&&o&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["ÌòÑÏû¨ Ïó≠Ìï†:"," ",e.jsx("span",{className:"font-medium",children:He[s.role]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:["viewer","member","admin","owner"].map(y=>e.jsx("button",{onClick:()=>N(y),disabled:!p(y)||s.role===y||h,className:`p-4 border rounded-lg text-left transition-colors ${s.role===y?"border-blue-500 bg-blue-50":p(y)?"border-gray-200 hover:border-gray-300 hover:bg-gray-50":"border-gray-100 bg-gray-50 text-gray-400 cursor-not-allowed"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[x(y),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:He[y]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[y==="owner"&&"Î™®Îì† Í∂åÌïúÏùÑ Í∞ÄÏßÄÎ©∞ ÌåÄÏùÑ Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.",y==="admin"&&"ÌåÄÏõêÏùÑ Í¥ÄÎ¶¨ÌïòÍ≥† Îß§Î¨ºÏùÑ Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§.",y==="member"&&"Îß§Î¨ºÏùÑ Îì±Î°ùÌïòÍ≥† ÏàòÏ†ïÌï† Ïàò ÏûàÏäµÎãàÎã§.",y==="viewer"&&"Îß§Î¨ºÏùÑ Ï°∞ÌöåÎßå Ìï† Ïàò ÏûàÏäµÎãàÎã§."]})]})]})},y))})]}),c==="status"&&o&&v&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["ÌòÑÏû¨ ÏÉÅÌÉú:"," ",e.jsx("span",{className:"font-medium",children:s.status==="active"?"ÌôúÏÑ±":s.status==="inactive"?"ÎπÑÌôúÏÑ±":"Ï†ïÏßÄ"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsx("button",{onClick:()=>b("active"),disabled:s.status==="active"||h,className:`p-4 border rounded-lg text-left transition-colors ${s.status==="active"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"ÌôúÏÑ±"}),e.jsx("div",{className:"text-sm text-gray-500",children:"ÌåÄÏõêÏù¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú ÌôúÎèôÌï† Ïàò ÏûàÏäµÎãàÎã§."})]})]})}),e.jsx("button",{onClick:()=>b("inactive"),disabled:s.status==="inactive"||h,className:`p-4 border rounded-lg text-left transition-colors ${s.status==="inactive"?"border-gray-500 bg-gray-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"ÎπÑÌôúÏÑ±"}),e.jsx("div",{className:"text-sm text-gray-500",children:"ÌåÄÏõêÏù¥ ÏùºÏãúÏ†ÅÏúºÎ°ú ÎπÑÌôúÏÑ± ÏÉÅÌÉúÏûÖÎãàÎã§."})]})]})}),e.jsx("button",{onClick:()=>b("suspended"),disabled:s.status==="suspended"||h,className:`p-4 border rounded-lg text-left transition-colors ${s.status==="suspended"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Ï†ïÏßÄ"}),e.jsx("div",{className:"text-sm text-gray-500",children:"ÌåÄÏõêÏùò Ï†ëÍ∑ºÏù¥ Ï†ïÏßÄÎê©ÎãàÎã§."})]})]})})]})]})]}),c==="info"&&o&&e.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 flex justify-end space-x-3",children:[e.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Ï∑®ÏÜå"}),e.jsx("button",{onClick:g,disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?"Ï†ÄÏû• Ï§ë...":"Ï†ÄÏû•"})]})]})})},zt={invitation_sent:"ÌåÄÏõê Ï¥àÎåÄ",invitation_accepted:"Ï¥àÎåÄ ÏàòÎùΩ",invitation_declined:"Ï¥àÎåÄ Í±∞Ï†à",invitation_cancelled:"Ï¥àÎåÄ Ï∑®ÏÜå",member_added:"ÌåÄÏõê Ï∂îÍ∞Ä",member_removed:"ÌåÄÏõê Ï†úÍ±∞",role_changed:"Ïó≠Ìï† Î≥ÄÍ≤Ω",member_info_updated:"Ï†ïÎ≥¥ ÏàòÏ†ï",member_status_changed:"ÏÉÅÌÉú Î≥ÄÍ≤Ω"},Xn=({isOpen:s,onClose:t})=>{const{user:r}=oe(),[a,l]=m.useState([]),[n,i]=m.useState(!0),[o,c]=m.useState(null);m.useEffect(()=>{s&&(r!=null&&r.id)&&d()},[s,r==null?void 0:r.id]);const d=async()=>{try{i(!0);const f=await An(r.id);l(f)}catch(f){console.error("ÌôúÎèô Î°úÍ∑∏ Ï°∞Ìöå Ïã§Ìå®:",f)}finally{i(!1)}},h=f=>{const j=new Date(f),N=Math.floor((new Date().getTime()-j.getTime())/1e3);return N<60?"Î∞©Í∏à Ï†Ñ":N<3600?`${Math.floor(N/60)}Î∂Ñ Ï†Ñ`:N<86400?`${Math.floor(N/3600)}ÏãúÍ∞Ñ Ï†Ñ`:N<2592e3?`${Math.floor(N/86400)}Ïùº Ï†Ñ`:j.toLocaleDateString("ko-KR")},u=f=>{const j=zt[f.action]||f.action;switch(f.action){case"role_changed":return`${f.details.target_user_name||"ÌåÄÏõê"}Ïùò Ïó≠Ìï†ÏùÑ Î≥ÄÍ≤ΩÌñàÏäµÎãàÎã§`;case"member_status_changed":return`${f.details.target_user_name||"ÌåÄÏõê"}Ïùò ÏÉÅÌÉúÎ•º Î≥ÄÍ≤ΩÌñàÏäµÎãàÎã§`;case"member_info_updated":return`${f.details.target_user_name||"ÌåÄÏõê"}Ïùò Ï†ïÎ≥¥Î•º ÏàòÏ†ïÌñàÏäµÎãàÎã§`;case"member_removed":return`${f.details.target_user_name||"ÌåÄÏõê"}ÏùÑ ÌåÄÏóêÏÑú Ï†úÍ±∞ÌñàÏäµÎãàÎã§`;case"invitation_sent":return`${f.details.email}Î°ú Ï¥àÎåÄÎ•º Î∞úÏÜ°ÌñàÏäµÎãàÎã§`;default:return j}};return s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl mx-4 max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_s,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"ÌåÄ ÌôúÎèô Î°úÍ∑∏"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ÌåÄÏùò Î™®Îì† ÌôúÎèôÏùÑ ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§"})]})]}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:"√ó"})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[70vh]",children:n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_s,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"ÌôúÎèô Î°úÍ∑∏Í∞Ä ÏóÜÏäµÎãàÎã§."})]}):e.jsx("div",{className:"space-y-4",children:a.map(f=>e.jsxs("div",{className:"border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>c(o===f.id?null:f.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(_s,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:u(f)}),e.jsxs("p",{className:"text-sm text-gray-500",children:[f.user_name," ‚Ä¢ ",h(f.created_at)]})]})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:zt[f.action]||f.action}),o===f.id?e.jsx(Ys,{className:"w-4 h-4 text-gray-400"}):e.jsx(at,{className:"w-4 h-4 text-gray-400"})]})]})}),o===f.id&&e.jsx("div",{className:"border-t border-gray-100 px-4 py-3 bg-gray-50",children:e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{className:"font-medium mb-2",children:"ÏÉÅÏÑ∏ Ï†ïÎ≥¥:"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{children:["‚Ä¢ ÏãúÍ∞Ñ:"," ",new Date(f.created_at).toLocaleString("ko-KR")]}),e.jsxs("p",{children:["‚Ä¢ Ïã§ÌñâÏûê: ",f.user_name]}),f.details&&Object.keys(f.details).length>0&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"font-medium",children:"Ï∂îÍ∞Ä Ï†ïÎ≥¥:"}),e.jsx("div",{className:"mt-1 pl-4 space-y-1",children:Object.entries(f.details).map(([j,g])=>e.jsxs("p",{className:"text-xs",children:["‚Ä¢ ",j,":"," ",typeof g=="object"?JSON.stringify(g):String(g)]},j))})]})]})]})})]},f.id))})}),e.jsx("div",{className:"border-t border-gray-200 px-6 py-4 flex justify-end",children:e.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Îã´Í∏∞"})})]})}):null},Qn=({isOpen:s,onClose:t,inviteData:r})=>{const[a,l]=m.useState(!1);if(!s)return null;const n=async()=>{try{await navigator.clipboard.writeText(r.inviteUrl),l(!0),setTimeout(()=>l(!1),2e3)}catch(c){console.error("ÌÅ¥Î¶ΩÎ≥¥Îìú Î≥µÏÇ¨ Ïã§Ìå®:",c)}},i=()=>{const c=`[${r.teamName||"ÌåÄ"}] Ï¥àÎåÄ - ${o(r.role)} Ïó≠Ìï†`,d=`ÏïàÎÖïÌïòÏÑ∏Ïöî!

${r.teamName||"ÌåÄ"}ÏóêÏÑú ${o(r.role)} Ïó≠Ìï†Î°ú Ï¥àÎåÄÎìúÎ¶ΩÎãàÎã§.

ÏïÑÎûò ÎßÅÌÅ¨Î•º ÌÅ¥Î¶≠ÌïòÏó¨ Ï¥àÎåÄÎ•º ÏàòÎùΩÌï¥Ï£ºÏÑ∏Ïöî:
${r.inviteUrl}

Í∞êÏÇ¨Ìï©ÎãàÎã§.`,h=`mailto:${r.email}?subject=${encodeURIComponent(c)}&body=${encodeURIComponent(d)}`;window.open(h)},o=c=>({admin:"Í¥ÄÎ¶¨Ïûê",member:"Î©§Î≤Ñ",viewer:"Î∑∞Ïñ¥"})[c]||c;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md mx-4",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Ï¥àÎåÄ ÎßÅÌÅ¨ ÏÉùÏÑ± ÏôÑÎ£å"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ÌåÄÏõêÏóêÍ≤å ÎßÅÌÅ¨Î•º Ï†ÑÏÜ°Ìï¥Ï£ºÏÑ∏Ïöî"})]}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:e.jsx(ue,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ue,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium text-blue-900",children:"Ï¥àÎåÄ Ï†ïÎ≥¥"})]}),e.jsxs("div",{className:"text-sm text-blue-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Ïù¥Î©îÏùº:"})," ",r.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Ïó≠Ìï†:"})," ",o(r.role)]}),r.teamName&&e.jsxs("p",{children:[e.jsx("strong",{children:"ÌåÄ:"})," ",r.teamName]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ï¥àÎåÄ ÎßÅÌÅ¨"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:r.inviteUrl,readOnly:!0,className:"flex-1 p-3 border border-gray-300 rounded-l-lg bg-gray-50 text-sm"}),e.jsx("button",{onClick:n,className:`px-4 py-3 border border-l-0 border-gray-300 rounded-r-lg transition-colors ${a?"bg-green-100 text-green-700 border-green-300":"bg-gray-50 text-gray-700 hover:bg-gray-100"}`,title:"ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨",children:a?e.jsx(Wt,{className:"w-4 h-4"}):e.jsx(Xr,{className:"w-4 h-4"})})]}),a&&e.jsx("p",{className:"text-sm text-green-600 mt-1",children:"‚úÖ ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"text-yellow-600",children:"‚ö†Ô∏è"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"ÎßÅÌÅ¨ Î≥¥Ïïà ÏïàÎÇ¥"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"‚Ä¢ Ïù¥ ÎßÅÌÅ¨Îäî 7Ïùº ÌõÑ ÎßåÎ£åÎê©ÎãàÎã§"}),e.jsx("li",{children:"‚Ä¢ Ï¥àÎåÄÎ∞õÏùÄ Ïù¥Î©îÏùº Í≥ÑÏ†ïÏúºÎ°úÎßå ÏàòÎùΩ Í∞ÄÎä•Ìï©ÎãàÎã§"}),e.jsx("li",{children:"‚Ä¢ ÏïàÏ†ÑÌïú Î∞©Î≤ïÏúºÎ°ú Ï†ÑÎã¨Ìï¥Ï£ºÏÑ∏Ïöî"})]})]})]})})]})}),e.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 flex space-x-3",children:[e.jsxs("button",{onClick:i,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[e.jsx(Ue,{className:"w-4 h-4"}),e.jsx("span",{children:"Ïù¥Î©îÏùºÎ°ú Ï†ÑÏÜ°"})]}),e.jsx("button",{onClick:t,className:"px-6 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"ÏôÑÎ£å"})]})]})})},Zn=()=>{var gt;const{user:s}=oe(),[t,r]=m.useState([]),[a,l]=m.useState([]),[n,i]=m.useState(!0),[o,c]=m.useState(!1),[d,h]=m.useState("email"),[u,f]=m.useState(""),[j,g]=m.useState("member"),[N,b]=m.useState(""),[x,p]=m.useState(""),[v,y]=m.useState([]),[k,L]=m.useState(null),[z,R]=m.useState("member"),[q,$]=m.useState(!1),[te,ee]=m.useState(null),[G,Y]=m.useState(!1),[O,_]=m.useState(!1),[P,w]=m.useState(null),[B,H]=m.useState(!1),[K,se]=m.useState(null),[C,D]=m.useState(!1),[Z,J]=m.useState(null),W=(gt=t.find(S=>S.id===(s==null?void 0:s.id)))==null?void 0:gt.role;m.useEffect(()=>{s!=null&&s.id&&ce()},[s==null?void 0:s.id]),m.useEffect(()=>{const S=()=>{w(null)};if(P)return document.addEventListener("click",S),()=>document.removeEventListener("click",S)},[P]);const ce=async()=>{try{i(!0);const[S,me]=await Promise.all([kr(s.id),Rn(s.id)]);r(S),l(me)}catch(S){console.error("ÌåÄ Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:",S),alert("ÌåÄ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{i(!1)}},we=async()=>{if(!u.trim()){alert("Ïù¥Î©îÏùºÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");return}try{$(!0);const S=await In(s.id,{email:u,role:j,message:N});se({email:u,inviteUrl:S.inviteUrl,role:j,teamName:"Î¶¨Ï≤¥ Îß§Î¨ºÏû•"}),H(!0),c(!1),Ds(),ce()}catch(S){alert(S.message||"Ï¥àÎåÄ Î∞úÏÜ°Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{$(!1)}},fe=async()=>{if(!k){alert("Ï∂îÍ∞ÄÌï† ÌöåÏõêÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.");return}try{$(!0),await Tn(s.id,{user_id:k.id,role:z}),alert("ÌåÄÏõêÏù¥ Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§."),c(!1),Ls(),ce()}catch(S){alert(S.message||"ÌåÄÏõê Ï∂îÍ∞ÄÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{$(!1)}},de=async S=>{if(!S.trim()||S.length<2){y([]);return}try{const me=await Ln(S,s.id);y(me)}catch(me){console.error("ÏÇ¨Ïö©Ïûê Í≤ÄÏÉâ Ïã§Ìå®:",me)}},ye=(S,me)=>{const ft=t.find(Ur=>Ur.id===S);if(!ft){alert("ÏÇ≠Ï†úÌï† ÌåÄÏõêÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.");return}if(ft.role==="owner"){alert("OwnerÎäî ÌåÄÏóêÏÑú Ï†úÍ±∞Ìï† Ïàò ÏóÜÏäµÎãàÎã§.");return}if(S===(s==null?void 0:s.id)){alert("ÏûêÏã†ÏùÑ ÌåÄÏóêÏÑú Ï†úÍ±∞Ìï† Ïàò ÏóÜÏäµÎãàÎã§.");return}if(W!=="owner"&&W!=="admin"){alert("ÌåÄÏõêÏùÑ Ï†úÍ±∞Ìï† Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§.");return}J({id:S,name:me}),D(!0)},rs=async()=>{if(Z)try{$(!0),await On(s.id,Z.id),alert(`‚úÖ ${Z.name}ÎãòÏù¥ ÌåÄÏóêÏÑú Ï†úÍ±∞ÎêòÏóàÏäµÎãàÎã§.`),ce(),D(!1),J(null)}catch(S){console.error("ÌåÄÏõê Ï†úÍ±∞ Ïã§Ìå®:",S),alert(`‚ùå ÌåÄÏõê Ï†úÍ±∞Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.

Ïò§Î•ò: ${S.message||"Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò"}`)}finally{$(!1)}},Os=async S=>{if(confirm("Ï¥àÎåÄÎ•º Ï∑®ÏÜåÌïòÏãúÍ≤†ÏäµÎãàÍπå?"))try{$(!0),await Dn(s.id,S),alert("Ï¥àÎåÄÍ∞Ä Ï∑®ÏÜåÎêòÏóàÏäµÎãàÎã§."),ce()}catch(me){alert(me.message||"Ï¥àÎåÄ Ï∑®ÏÜåÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{$(!1)}},Ds=()=>{f(""),g("member"),b("")},Ls=()=>{p(""),y([]),L(null),R("member")},zs=S=>{ee(S),Y(!0),w(null)},I=async(S,me)=>{await zn(s.id,S,me),ce()},Q=async(S,me)=>{await Mn(s.id,S,me),ce()},Ar=async(S,me)=>{await $n(s.id,S,me),ce()},ut=S=>{switch(S){case"owner":return e.jsx(Bt,{className:"w-4 h-4 text-yellow-500"});case"admin":return e.jsx(it,{className:"w-4 h-4 text-blue-500"});case"member":return e.jsx(ie,{className:"w-4 h-4 text-green-500"});case"viewer":return e.jsx(Ke,{className:"w-4 h-4 text-gray-500"});default:return e.jsx(ie,{className:"w-4 h-4"})}},$s=W==="owner"||W==="admin";return n?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"ÌåÄ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ë..."})]})}):e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ke,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"ÌåÄ Í¥ÄÎ¶¨"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ÌåÄÏõê Ï¥àÎåÄ Î∞è Í¥ÄÎ¶¨"})]})]}),$s&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>_(!0),className:"text-gray-600 hover:text-gray-800 px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors flex items-center space-x-2",children:[e.jsx(_s,{className:"w-4 h-4"}),e.jsx("span",{children:"ÌôúÎèô Î°úÍ∑∏"})]}),e.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[e.jsx(Qr,{className:"w-4 h-4"}),e.jsx("span",{children:"ÌåÄÏõê Ï¥àÎåÄ"})]})]})]})}),e.jsxs("div",{className:"px-6 py-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["ÌåÄÏõê (",t.length,"Î™Ö)"]})}),e.jsx("div",{className:"space-y-3",children:t.map(S=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(ie,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:S.name}),ut(S.role),e.jsx("span",{className:"text-sm text-gray-600",children:He[S.role]})]}),S.email&&e.jsx("p",{className:"text-sm text-gray-500",children:S.email}),e.jsxs("p",{className:"text-xs text-gray-400",children:[new Date(S.joined_at).toLocaleDateString("ko-KR")," ","Í∞ÄÏûÖ"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.status==="active"?"bg-green-100 text-green-800":S.status==="inactive"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:Yn[S.status]}),e.jsx("button",{onClick:()=>zs(S),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ï†ïÎ≥¥ ÏàòÏ†ï",children:e.jsx(ms,{className:"w-4 h-4"})}),(W==="owner"||W==="admin")&&S.role!=="owner"&&S.id!==(s==null?void 0:s.id)?e.jsx("button",{onClick:()=>ye(S.id,S.name),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"ÌåÄÏóêÏÑú Ï†úÍ±∞",disabled:q,children:e.jsx(Ye,{className:"w-4 h-4"})}):!1,e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>w(P===S.id?null:S.id),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"Ï∂îÍ∞Ä ÏòµÏÖò",children:e.jsx(bt,{className:"w-4 h-4"})}),P===S.id&&e.jsx("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:e.jsx("div",{className:"py-1",children:e.jsxs("button",{onClick:()=>{w(null),alert("Ï∂îÍ∞Ä Í∏∞Îä•ÏùÄ Ï§ÄÎπÑ Ï§ëÏûÖÎãàÎã§.")},className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{children:"Ï∂îÍ∞Ä ÏòµÏÖò"})]})})})]})]})]},S.id))})]}),a.length>0&&e.jsxs("div",{className:"border-t border-gray-200 px-6 py-4",children:[e.jsxs("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:["ÎåÄÍ∏∞ Ï§ëÏù∏ Ï¥àÎåÄ (",a.length,"Í∞ú)"]}),e.jsx("div",{className:"space-y-3",children:a.map(S=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:e.jsx(Ue,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:S.email}),ut(S.role),e.jsx("span",{className:"text-sm text-gray-600",children:He[S.role]})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[S.inviter_name,"ÎãòÏù¥ Ï¥àÎåÄ ‚Ä¢"," ",new Date(S.created_at).toLocaleDateString("ko-KR")]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["ÎßåÎ£åÏùº:"," ",new Date(S.expires_at).toLocaleDateString("ko-KR")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.status==="pending"?"bg-yellow-100 text-yellow-800":S.status==="accepted"?"bg-green-100 text-green-800":S.status==="declined"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:Kn[S.status]}),$s&&S.status==="pending"&&e.jsx("button",{onClick:()=>Os(S.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Ï¥àÎåÄ Ï∑®ÏÜå",children:e.jsx(ue,{className:"w-4 h-4"})})]})]},S.id))})]})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md mx-4",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"ÌåÄÏõê Ï¥àÎåÄ"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ue,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"px-6 py-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Ï¥àÎåÄ Î∞©Ïãù ÏÑ†ÌÉù"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:`flex items-center p-4 border rounded-lg cursor-pointer transition-colors ${d==="email"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"radio",name:"inviteType",value:"email",checked:d==="email",onChange:S=>h(S.target.value),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"üìß Ïù¥Î©îÏùº Ï¥àÎåÄ"}),e.jsx("div",{className:"text-xs text-gray-600",children:"ÏÉàÎ°úÏö¥ ÏÇ¨Ïö©ÏûêÎ•º Ï¥àÎåÄ"})]})]}),e.jsxs("label",{className:`flex items-center p-4 border rounded-lg cursor-pointer transition-colors ${d==="existing"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:bg-gray-50"}`,children:[e.jsx("input",{type:"radio",name:"inviteType",value:"existing",checked:d==="existing",onChange:S=>h(S.target.value),className:"mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"üë• Í∏∞Ï°¥ ÌöåÏõê Ï∂îÍ∞Ä"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Ïù¥ÎØ∏ Í∞ÄÏûÖÌïú ÌöåÏõê Í≤ÄÏÉâ"})]})]})]})]}),d==="email"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ïù¥Î©îÏùº"}),e.jsx("input",{type:"email",value:u,onChange:S=>f(S.target.value),placeholder:"Ï¥àÎåÄÌï† Ïù¥Î©îÏùºÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ïó≠Ìï†"}),e.jsxs("select",{value:j,onChange:S=>g(S.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"member",children:"Î©§Î≤Ñ - Îß§Î¨º Í¥ÄÎ¶¨ Í∞ÄÎä•"}),e.jsx("option",{value:"admin",children:"Í¥ÄÎ¶¨Ïûê - ÌåÄÏõê Í¥ÄÎ¶¨ Î∞è Îß§Î¨º Í¥ÄÎ¶¨ Í∞ÄÎä•"}),e.jsx("option",{value:"viewer",children:"Î∑∞Ïñ¥ - Îß§Î¨º Ï°∞ÌöåÎßå Í∞ÄÎä•"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ï¥àÎåÄ Î©îÏãúÏßÄ (ÏÑ†ÌÉù)"}),e.jsx("textarea",{value:N,onChange:S=>b(S.target.value),placeholder:"Ï¥àÎåÄ Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî",rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ÌöåÏõê Í≤ÄÏÉâ"}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"text-blue-600 mt-0.5",children:"üí°"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium",children:"Í∏∞Ï°¥ ÌöåÏõê Ï∂îÍ∞Ä:"}),e.jsx("p",{children:"‚Ä¢ Ïù¥Î¶Ñ ÎòêÎäî Ïù¥Î©îÏùºÏùÑ 2Í∏ÄÏûê Ïù¥ÏÉÅ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"}),e.jsx("p",{children:"‚Ä¢ Ïù¥ÎØ∏ Îã§Î•∏ ÌåÄÏóê ÏÜçÌïú ÌöåÏõêÎèÑ Ï∂îÍ∞ÄÌï† Ïàò ÏûàÏäµÎãàÎã§"}),e.jsx("p",{children:"‚Ä¢ Ìï¥Îãπ ÌöåÏõêÏùÄ Ïù¥ ÌåÄÏúºÎ°ú Ïù¥ÎèôÌïòÍ≤å Îê©ÎãàÎã§"})]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx(os,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),e.jsx("input",{type:"text",value:x,onChange:S=>{p(S.target.value),de(S.target.value)},placeholder:"Ïù¥Î¶Ñ ÎòêÎäî Ïù¥Î©îÏùºÎ°ú Í≤ÄÏÉâ (2Í∏ÄÏûê Ïù¥ÏÉÅ ÏûÖÎ†•)",className:"w-full pl-10 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),v.length>0&&e.jsx("div",{className:"mt-2 border border-gray-200 rounded-lg max-h-40 overflow-y-auto",children:v.map(S=>e.jsxs("button",{onClick:()=>{L(S),p(S.name),y([])},className:"w-full text-left p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium",children:S.name}),S.email&&e.jsx("div",{className:"text-sm text-gray-500",children:S.email}),S.company&&e.jsx("div",{className:"text-xs text-gray-400",children:S.company})]},S.id))}),k&&e.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"font-medium text-blue-900",children:["ÏÑ†ÌÉùÎê®: ",k.name]}),k.email&&e.jsx("div",{className:"text-sm text-blue-700",children:k.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ïó≠Ìï†"}),e.jsxs("select",{value:z,onChange:S=>R(S.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"member",children:"Î©§Î≤Ñ - Îß§Î¨º Í¥ÄÎ¶¨ Í∞ÄÎä•"}),e.jsx("option",{value:"admin",children:"Í¥ÄÎ¶¨Ïûê - ÌåÄÏõê Í¥ÄÎ¶¨ Î∞è Îß§Î¨º Í¥ÄÎ¶¨ Í∞ÄÎä•"}),e.jsx("option",{value:"viewer",children:"Î∑∞Ïñ¥ - Îß§Î¨º Ï°∞ÌöåÎßå Í∞ÄÎä•"})]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>c(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Ï∑®ÏÜå"}),e.jsx("button",{onClick:d==="email"?we:fe,disabled:q||(d==="email"?!u.trim():!k),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:q?"Ï≤òÎ¶¨Ï§ë...":d==="email"?"Ï¥àÎåÄ Î∞úÏÜ°":"ÌåÄÏõê Ï∂îÍ∞Ä"})]})]})}),te&&e.jsx(Jn,{member:te,isOpen:G,onClose:()=>{Y(!1),ee(null)},onUpdate:I,onRoleChange:Q,onStatusChange:Ar,currentUserRole:W||"viewer",canEdit:$s||te.id===(s==null?void 0:s.id)}),e.jsx(Xn,{isOpen:O,onClose:()=>_(!1)}),K&&e.jsx(Qn,{isOpen:B,onClose:()=>{H(!1),se(null)},inviteData:K}),C&&Z&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md mx-4",children:[e.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Ye,{className:"w-4 h-4 text-red-600"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"ÌåÄÏõê Ï†úÍ±∞ ÌôïÏù∏"})]}),e.jsx("button",{onClick:()=>{D(!1),J(null)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ue,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-red-50 rounded-lg mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(ie,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-red-900",children:Z.name}),e.jsx("p",{className:"text-sm text-red-700",children:"Ï†úÍ±∞Ìï† ÌåÄÏõê"})]})]}),e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-yellow-400 text-lg",children:"‚ö†Ô∏è"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm text-yellow-800",children:e.jsx("strong",{children:"Ï£ºÏùòÏÇ¨Ìï≠:"})}),e.jsxs("ul",{className:"mt-2 text-sm text-yellow-700 list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Ï†úÍ±∞Îêú ÌåÄÏõêÏùÄ Îçî Ïù¥ÏÉÅ Ïù¥ ÌåÄÏùò Îç∞Ïù¥ÌÑ∞Ïóê Ï†ëÍ∑ºÌï† Ïàò ÏóÜÏäµÎãàÎã§."}),e.jsx("li",{children:"Ïù¥ ÏûëÏóÖÏùÄ ÎêòÎèåÎ¶¥ Ïàò ÏóÜÏäµÎãàÎã§."}),e.jsx("li",{children:"ÌïÑÏöîÏãú ÎÇòÏ§ëÏóê Îã§Ïãú Ï¥àÎåÄÌï† Ïàò ÏûàÏäµÎãàÎã§."})]})]})]})}),e.jsxs("p",{className:"text-gray-600 text-center",children:[e.jsxs("strong",{children:[Z.name,"Îãò"]}),"ÏùÑ Ï†ïÎßêÎ°ú ÌåÄÏóêÏÑú Ï†úÍ±∞ÌïòÏãúÍ≤†ÏäµÎãàÍπå?"]})]})}),e.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>{D(!1),J(null)},className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",disabled:q,children:"Ï∑®ÏÜå"}),e.jsx("button",{onClick:rs,disabled:q,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2",children:q?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Ï†úÍ±∞Ï§ë..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"w-4 h-4"}),e.jsx("span",{children:"ÌåÄÏóêÏÑú Ï†úÍ±∞"})]})})]})]})})]})},Rr=()=>e.jsx(Zn,{}),Ir=async(s,t,r)=>{const a=[],l=[];for(let n=0;n<s.length;n++){const i=s[n];try{const o=ei(i,n+1);if(o){a.push(o);continue}const{data:c,error:d}=await E.from("properties").insert({tenant_id:t,created_by:r,...i,view_count:0,inquiry_count:0,is_featured:!1,is_urgent:!1,is_favorite:!1}).select().single();if(d){a.push({row:n+1,message:`Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïò§Î•ò: ${d.message}`,data:i});continue}c&&l.push(c)}catch(o){a.push({row:n+1,message:`Ï≤òÎ¶¨ Ï§ë Ïò§Î•ò: ${o instanceof Error?o.message:"Ïïå Ïàò ÏóÜÎäî Ïò§Î•ò"}`,data:i})}}return{success:l.length,failed:s.length-l.length,errors:a,importedProperties:l}},Tr=(s,t)=>{const r={title:"Îß§Î¨ºÎ™Ö",type:"Îß§Î¨ºÏú†Ìòï",transaction_type:"Í±∞ÎûòÏú†Ìòï",status:"Îß§Î¨ºÏÉÅÌÉú",address:"Ï£ºÏÜå",detailed_address:"ÏÉÅÏÑ∏Ï£ºÏÜå",area:"Î©¥Ï†Å(m¬≤)",floor:"Ï∏µ",total_floors:"Ï¥ùÏ∏µÏàò",rooms:"Î∞©Ïàò",bathrooms:"ÌôîÏû•Ïã§Ïàò",parking:"Ï£ºÏ∞®Í∞ÄÎä•",elevator:"ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞",price:"Îß§Îß§Í∞Ä(ÎßåÏõê)",deposit:"Î≥¥Ï¶ùÍ∏à(ÎßåÏõê)",monthly_rent:"ÏõîÏÑ∏(ÎßåÏõê)",maintenance_fee:"Í¥ÄÎ¶¨ÎπÑ(ÎßåÏõê)",landlord_name:"ÏûÑÎåÄÏù∏Î™Ö",landlord_phone:"ÏûÑÎåÄÏù∏ Ïó∞ÎùΩÏ≤ò",landlord_email:"ÏûÑÎåÄÏù∏ Ïù¥Î©îÏùº",exit_date:"Ìá¥Ïã§ÎÇ†Ïßú",available_from:"ÏûÖÏ£ºÍ∞ÄÎä•Ïùº",description:"ÏÑ§Î™Ö",view_count:"Ï°∞ÌöåÏàò",inquiry_count:"Î¨∏ÏùòÏàò",created_at:"Îì±Î°ùÏùº",updated_at:"ÏàòÏ†ïÏùº"},a=t.map(n=>r[n]||n),l=s.map(n=>t.map(i=>{const o=Or(n,i);return`"${String(o).replace(/"/g,'""')}"`}));return[a,...l].map(n=>n.join(",")).join(`
`)},Mr=(s,t)=>{const r={title:"Îß§Î¨ºÎ™Ö",type:"Îß§Î¨ºÏú†Ìòï",transaction_type:"Í±∞ÎûòÏú†Ìòï",status:"Îß§Î¨ºÏÉÅÌÉú",address:"Ï£ºÏÜå",detailed_address:"ÏÉÅÏÑ∏Ï£ºÏÜå",area:"Î©¥Ï†Å",floor:"Ï∏µ",total_floors:"Ï¥ùÏ∏µÏàò",rooms:"Î∞©Ïàò",bathrooms:"ÌôîÏû•Ïã§Ïàò",parking:"Ï£ºÏ∞®Í∞ÄÎä•",elevator:"ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞",price:"Îß§Îß§Í∞Ä",deposit:"Î≥¥Ï¶ùÍ∏à",monthly_rent:"ÏõîÏÑ∏",maintenance_fee:"Í¥ÄÎ¶¨ÎπÑ",landlord_name:"ÏûÑÎåÄÏù∏Î™Ö",landlord_phone:"ÏûÑÎåÄÏù∏ Ïó∞ÎùΩÏ≤ò",landlord_email:"ÏûÑÎåÄÏù∏ Ïù¥Î©îÏùº",exit_date:"Ìá¥Ïã§ÎÇ†Ïßú",available_from:"ÏûÖÏ£ºÍ∞ÄÎä•Ïùº",description:"ÏÑ§Î™Ö",view_count:"Ï°∞ÌöåÏàò",inquiry_count:"Î¨∏ÏùòÏàò",created_at:"Îì±Î°ùÏùº",updated_at:"ÏàòÏ†ïÏùº"},a=s.map(l=>{const n={};return t.forEach(i=>{const o=r[i]||i;n[o]=Or(l,i)}),n});return JSON.stringify({exportDate:new Date().toISOString(),totalRecords:a.length,data:a},null,2)},Or=(s,t)=>{const r=s[t];if(r==null)return"";switch(t){case"parking":case"elevator":return typeof r=="boolean"?r?"ÏûàÏùå":"ÏóÜÏùå":"";case"price":case"deposit":case"monthly_rent":case"maintenance_fee":return typeof r=="number"?r.toLocaleString():"";case"created_at":case"updated_at":case"exit_date":case"available_from":return typeof r=="string"?new Date(r).toLocaleDateString("ko-KR"):"";default:return typeof r=="object"&&r!==null?Array.isArray(r)?r.join(", "):JSON.stringify(r):typeof r=="string"||typeof r=="number"||typeof r=="boolean"?r:String(r)}},ei=(s,t)=>{const r=["title","type","transaction_type","address","area","floor","total_floors","rooms","bathrooms"];for(const i of r){const o=s[i];if(o==null||o==="")return{row:t,field:i,message:`ÌïÑÏàò ÌïÑÎìú '${i}'Í∞Ä ÎàÑÎùΩÎêòÏóàÏäµÎãàÎã§.`}}const a=["area","floor","total_floors","rooms","bathrooms","price","deposit","monthly_rent"];for(const i of a){const o=s[i];if(o!=null&&o!==""&&(typeof o!="number"||isNaN(o)||o<0))return{row:t,field:i,message:`'${i}'Îäî Ïú†Ìö®Ìïú ÏñëÏàòÏó¨Ïïº Ìï©ÎãàÎã§.`}}const l=["ÏïÑÌååÌä∏","Ïò§ÌîºÏä§ÌÖî","ÏõêÎ£∏","ÎπåÎùº","Îã®ÎèÖÏ£ºÌÉù","ÏÉÅÍ∞Ä","ÏÇ¨Î¨¥Ïã§","Í∏∞ÌÉÄ"];if(!l.includes(s.type))return{row:t,field:"type",message:`Îß§Î¨º Ïú†ÌòïÏùÄ Îã§Ïùå Ï§ë ÌïòÎÇòÏó¨Ïïº Ìï©ÎãàÎã§: ${l.join(", ")}`};const n=["Îß§Îß§","Ï†ÑÏÑ∏","ÏõîÏÑ∏","Îã®Í∏∞ÏûÑÎåÄ"];if(!n.includes(s.transaction_type))return{row:t,field:"transaction_type",message:`Í±∞Îûò Ïú†ÌòïÏùÄ Îã§Ïùå Ï§ë ÌïòÎÇòÏó¨Ïïº Ìï©ÎãàÎã§: ${n.join(", ")}`};if(s.exit_date){const i=new Date(s.exit_date);if(isNaN(i.getTime()))return{row:t,field:"exit_date",message:"Ìá¥Ïã§ÎÇ†ÏßúÎäî Ïú†Ìö®Ìïú ÎÇ†Ïßú ÌòïÏãùÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§. (Ïòà: 2024-12-31)"}}return null},Dr=(s,t=10)=>{const r=t*1024*1024;return s.size<=r},Lr=s=>{const t=["text/csv","application/vnd.ms-excel","text/tab-separated-values"],r=[".csv",".tsv",".txt"];return t.includes(s.type)||r.some(a=>s.name.toLowerCase().endsWith(a))},si=()=>[["Îß§Î¨ºÎ™Ö","Îß§Î¨ºÏú†Ìòï","Í±∞ÎûòÏú†Ìòï","Ï£ºÏÜå","ÏÉÅÏÑ∏Ï£ºÏÜå","Î©¥Ï†Å","Ï∏µ","Ï¥ùÏ∏µÏàò","Î∞©Ïàò","ÌôîÏû•Ïã§Ïàò","Ï£ºÏ∞®","ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞","Îß§Îß§Í∞Ä","Î≥¥Ï¶ùÍ∏à","ÏõîÏÑ∏","ÏûÑÎåÄÏù∏Î™Ö","Ïó∞ÎùΩÏ≤ò","Ìá¥Ïã§Ïùº","ÏÑ§Î™Ö"],["Í∞ïÎÇ® Ïã†Ï∂ï ÏïÑÌååÌä∏","ÏïÑÌååÌä∏","Ï†ÑÏÑ∏","ÏÑúÏö∏Ïãú Í∞ïÎÇ®Íµ¨ Ïó≠ÏÇºÎèô","123-45","84.5","15","25","3","2","ÏûàÏùå","ÏûàÏùå","","50000","","ÌôçÍ∏∏Îèô","010-1234-5678","2024-12-31","Ïó≠ÏÑ∏Í∂å 3Î∂ÑÍ±∞Î¶¨ Ïã†Ï∂ïÏïÑÌååÌä∏"]].map(r=>r.map(a=>`"${a}"`).join(",")).join(`
`),ti=Object.freeze(Object.defineProperty({__proto__:null,formatAsCSV:Tr,formatAsJSON:Mr,generateTemplateCSV:si,importProperties:Ir,validateFileFormat:Lr,validateFileSize:Dr},Symbol.toStringTag,{value:"Module"})),ri=["title","type","transaction_type","address","area","floor","total_floors","rooms","bathrooms"],ai={Îß§Î¨ºÎ™Ö:"title",Ï†úÎ™©:"title",Îß§Î¨ºÏú†Ìòï:"type",Ïú†Ìòï:"type",Í±∞ÎûòÏú†Ìòï:"transaction_type",Í±∞Îûò:"transaction_type",Ï£ºÏÜå:"address",ÏÉÅÏÑ∏Ï£ºÏÜå:"detailed_address",Î©¥Ï†Å:"area",Ï†ÑÏö©Î©¥Ï†Å:"area",Ï∏µ:"floor",Ìï¥ÎãπÏ∏µ:"floor",Ï¥ùÏ∏µÏàò:"total_floors",Ï†ÑÏ≤¥Ï∏µ:"total_floors",Î∞©Ïàò:"rooms",Î∞©:"rooms",ÌôîÏû•Ïã§Ïàò:"bathrooms",ÌôîÏû•Ïã§:"bathrooms",Ï£ºÏ∞®:"parking",Ï£ºÏ∞®Í∞ÄÎä•:"parking",ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞:"elevator",ÏóòÎ≤†:"elevator",Îß§Îß§Í∞Ä:"price",Í∞ÄÍ≤©:"price",Î≥¥Ï¶ùÍ∏à:"deposit",ÏõîÏÑ∏:"monthly_rent",ÏõîÏûÑÎåÄÎ£å:"monthly_rent",ÏûÑÎåÄÏù∏Î™Ö:"landlord_name",ÏûÑÎåÄÏù∏:"landlord_name",Ïó∞ÎùΩÏ≤ò:"landlord_phone",Ï†ÑÌôîÎ≤àÌò∏:"landlord_phone",Ìá¥Ïã§Ïùº:"exit_date",Ìá¥Ïã§ÎÇ†Ïßú:"exit_date",ÏÑ§Î™Ö:"description",ÎπÑÍ≥†:"description"},$t=["ÏïÑÌååÌä∏","Ïò§ÌîºÏä§ÌÖî","ÏõêÎ£∏","ÎπåÎùº","Îã®ÎèÖÏ£ºÌÉù","ÏÉÅÍ∞Ä","ÏÇ¨Î¨¥Ïã§","Í∏∞ÌÉÄ"],At=["Îß§Îß§","Ï†ÑÏÑ∏","ÏõîÏÑ∏","Îã®Í∏∞ÏûÑÎåÄ"],li=({isOpen:s,onClose:t,onImportComplete:r})=>{var O;const{user:a}=oe();let l=a!=null&&a.id?{id:a.id,name:"PropertyDesk"}:null,n=!1;try{const _=es();(O=_==null?void 0:_.tenant)!=null&&O.id&&(l=_.tenant,n=(_==null?void 0:_.isLoading)||!1)}catch(_){console.log("TenantContext Ïò§Î•ò, ÏÇ¨Ïö©Ïûê IDÎ•º ÌÖåÎÑåÌä∏ IDÎ°ú ÏÇ¨Ïö©:",_)}const i=m.useRef(null),[o,c]=m.useState("upload"),[d,h]=m.useState(null),[u,f]=m.useState([]),[j,g]=m.useState(null),[N,b]=m.useState(!1),[x,p]=m.useState(null),v=_=>{var w;const P=(w=_.target.files)==null?void 0:w[0];if(P){if(!Dr(P,10)){p("ÌååÏùº ÌÅ¨Í∏∞Îäî 10MBÎ•º Ï¥àÍ≥ºÌï† Ïàò ÏóÜÏäµÎãàÎã§.");return}if(!Lr(P)){p("CSV ÌååÏùºÎßå ÏßÄÏõêÌï©ÎãàÎã§.");return}h(P),p(null),y(P)}},y=async _=>{b(!0),p(null);try{const P=await _.text();let w;if(_.name.endsWith(".csv"))w=k(P);else if(_.name.endsWith(".tsv")||_.name.endsWith(".txt"))w=L(P);else throw new Error("ÏßÄÏõêÌïòÏßÄ ÏïäÎäî ÌååÏùº ÌòïÏãùÏûÖÎãàÎã§. CSV ÌååÏùºÎßå ÏßÄÏõêÌï©ÎãàÎã§.");if(w.length<2)throw new Error("Îç∞Ïù¥ÌÑ∞Í∞Ä Î∂ÄÏ°±Ìï©ÎãàÎã§. Ìó§ÎçîÏôÄ ÏµúÏÜå 1Í∞úÏùò Îç∞Ïù¥ÌÑ∞ ÌñâÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.");const B=w[0].map(se=>se.trim()),H=w.slice(1);console.log("üìä ÌååÏã±Îêú Ìó§Îçî:",B),console.log("üìä Îç∞Ïù¥ÌÑ∞ Ìñâ Ïàò:",H.length);const K=H.map((se,C)=>z(se,B,C+2));f(K),c("preview")}catch(P){const w=P instanceof Error?P.message:"ÌååÏùº ÌååÏã± Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.";p(w),console.error("ÌååÏùº ÌååÏã± Ïò§Î•ò:",P)}finally{b(!1)}},k=_=>{const P=[],w=_.split(/\r?\n/);for(const B of w)if(B.trim()){const H=[];let K="",se=!1;for(let C=0;C<B.length;C++){const D=B[C];D==='"'?se=!se:D===","&&!se?(H.push(K.trim()),K=""):K+=D}H.push(K.trim()),P.push(H)}return P},L=_=>_.split(/\r?\n/).filter(P=>P.trim()).map(P=>P.split("	").map(w=>w.trim())),z=(_,P,w)=>{const B=[],H={status:"Í±∞ÎûòÏ§ë"};return P.forEach((K,se)=>{var Z;const C=(Z=_[se])==null?void 0:Z.trim();if(!C)return;const D=ai[K];if(D)try{switch(D){case"type":$t.includes(C)?H.type=C:B.push(`Îß§Î¨ºÏú†Ìòï '${C}'Îäî Ïú†Ìö®ÌïòÏßÄ ÏïäÏäµÎãàÎã§. (${$t.join(", ")})`);break;case"transaction_type":At.includes(C)?H.transaction_type=C:B.push(`Í±∞ÎûòÏú†Ìòï '${C}'Îäî Ïú†Ìö®ÌïòÏßÄ ÏïäÏäµÎãàÎã§. (${At.join(", ")})`);break;case"area":case"floor":case"total_floors":case"rooms":case"bathrooms":case"price":case"deposit":case"monthly_rent":const J=parseFloat(C.replace(/[,\s]/g,""));!isNaN(J)&&J>0?H[D]=J:B.push(`${K} '${C}'Îäî Ïú†Ìö®Ìïú Ïà´ÏûêÍ∞Ä ÏïÑÎãôÎãàÎã§.`);break;case"parking":case"elevator":const W=["true","1","yes","y","ÏûàÏùå","Í∞ÄÎä•","o","O"].includes(C.toLowerCase());H[D]=W;break;case"exit_date":R(C)?H.exit_date=q(C):B.push(`Ìá¥Ïã§Ïùº '${C}'Îäî Ïú†Ìö®Ìïú ÎÇ†Ïßú ÌòïÏãùÏù¥ ÏïÑÎãôÎãàÎã§. (YYYY-MM-DD ÌòïÏãù ÏÇ¨Ïö©)`);break;default:H[D]=C;break}}catch(J){B.push(`${K} Ï≤òÎ¶¨ Ï§ë Ïò§Î•ò: ${J}`)}}),ri.forEach(K=>{H[K]||B.push(`ÌïÑÏàò ÌïÑÎìú '${K}'Í∞Ä ÎàÑÎùΩÎêòÏóàÏäµÎãàÎã§.`)}),{row:w,data:H,errors:B}},R=_=>{const P=new Date(_);return!isNaN(P.getTime())},q=_=>new Date(_).toISOString().split("T")[0],$=async()=>{if(n){console.log("ÌÖåÎÑåÌä∏ Î°úÎî© Ï§ëÏûÖÎãàÎã§.");return}if(!(l!=null&&l.id)||!(a!=null&&a.id)){p("Ïù∏Ï¶ù Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§.");return}c("importing"),b(!0);try{const _=u.filter(w=>w.errors.length===0).map(w=>w.data),P=await Ir(_,l.id,a.id);g(P),c("complete"),P.importedProperties.length>0&&r(P.importedProperties)}catch(_){const P=_ instanceof Error?_.message:"Í∞ÄÏ†∏Ïò§Í∏∞ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.";p(P),console.error("Import error:",_)}finally{b(!1)}},te=()=>{Br(async()=>{const{generateTemplateCSV:_}=await Promise.resolve().then(()=>ti);return{generateTemplateCSV:_}},void 0).then(({generateTemplateCSV:_})=>{const P=_(),w=new Blob(["\uFEFF"+P],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a");B.href=URL.createObjectURL(w),B.download="Îß§Î¨º_Í∞ÄÏ†∏Ïò§Í∏∞_ÌÖúÌîåÎ¶ø.csv",B.click(),URL.revokeObjectURL(B.href)})},ee=()=>{c("upload"),h(null),f([]),g(null),p(null),b(!1),i.current&&(i.current.value="")},G=()=>{ee(),t()},Y=()=>{switch(o){case"upload":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Ps,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Îß§Î¨º Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞"}),e.jsx("p",{className:"text-gray-600",children:"CSV ÌååÏùºÏùÑ ÏóÖÎ°úÎìúÌïòÏó¨ Ïó¨Îü¨ Îß§Î¨ºÏùÑ ÌïúÎ≤àÏóê Îì±Î°ùÌïòÏÑ∏Ïöî"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[e.jsx("input",{ref:i,type:"file",accept:".csv,.tsv,.txt",onChange:v,className:"hidden"}),e.jsx(U,{onClick:()=>{var w;return(w=i.current)==null?void 0:w.click()},leftIcon:e.jsx(Es,{size:20}),size:"lg",disabled:N,children:N?"ÌååÏùº Î∂ÑÏÑù Ï§ë...":"CSV ÌååÏùº ÏÑ†ÌÉù"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"CSV ÌååÏùºÎßå ÏßÄÏõêÌï©ÎãàÎã§ (ÏµúÎåÄ 10MB)"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(U,{variant:"outline",onClick:te,leftIcon:e.jsx(De,{size:18}),children:"ÌÖúÌîåÎ¶ø Îã§Ïö¥Î°úÎìú"})})]}),d&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Es,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900",children:d.name}),e.jsxs("p",{className:"text-sm text-blue-600",children:["ÌÅ¨Í∏∞: ",(d.size/1024).toFixed(1),"KB"]})]})]})}),x&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(qe,{className:"h-5 w-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-900",children:"Ïò§Î•ò"}),e.jsx("p",{className:"text-sm text-red-600",children:x})]})]})}),N&&e.jsx("div",{className:"text-center py-4",children:e.jsx(Ae,{size:"md",text:"ÌååÏùºÏùÑ Î∂ÑÏÑùÌïòÍ≥† ÏûàÏäµÎãàÎã§..."})})]});case"preview":const _=u.filter(w=>w.errors.length===0),P=u.filter(w=>w.errors.length>0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(cs,{className:"mx-auto h-12 w-12 text-green-600 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Îç∞Ïù¥ÌÑ∞ ÎØ∏Î¶¨Î≥¥Í∏∞"}),e.jsxs("p",{className:"text-gray-600",children:[u.length,"Í∞ú ÌñâÏùÑ Î∂ÑÏÑùÌñàÏäµÎãàÎã§"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:_.length}),e.jsx("div",{className:"text-sm text-green-800",children:"Í∞ÄÏ†∏Ïò¨ Ïàò ÏûàÎäî Îß§Î¨º"})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:P.length}),e.jsx("div",{className:"text-sm text-red-800",children:"Ïò§Î•òÍ∞Ä ÏûàÎäî Îß§Î¨º"})]})]}),P.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-red-900",children:"Ïò§Î•ò ÎÇ¥Ïó≠:"}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 max-h-40 overflow-y-auto",children:[P.slice(0,10).map((w,B)=>e.jsxs("div",{className:"text-sm text-red-800 mb-2",children:[e.jsxs("strong",{children:["Ìñâ ",w.row,":"]})," ",w.errors.join(", ")]},B)),P.length>10&&e.jsxs("div",{className:"text-sm text-red-600",children:["...Ïô∏ ",P.length-10,"Í∞ú Ïò§Î•ò"]})]})]}),e.jsxs("div",{className:"flex justify-between space-x-3",children:[e.jsx(U,{variant:"outline",onClick:()=>c("upload"),children:"Îã§Ïãú ÏÑ†ÌÉù"}),e.jsx(U,{onClick:$,disabled:_.length===0||N||n,leftIcon:N?e.jsx(Ae,{size:"sm"}):e.jsx(Ps,{size:18}),children:n?"ÌÖåÎÑåÌä∏ Ï†ïÎ≥¥ Î°úÎî© Ï§ë...":`${_.length}Í∞ú Îß§Î¨º Í∞ÄÏ†∏Ïò§Í∏∞`})]})]});case"importing":return e.jsxs("div",{className:"space-y-6 text-center py-8",children:[e.jsx(Ae,{size:"lg"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Îß§Î¨ºÏùÑ Í∞ÄÏ†∏Ïò§Îäî Ï§ë..."}),e.jsx("p",{className:"text-gray-600",children:"Ïû†ÏãúÎßå Í∏∞Îã§Î†§Ï£ºÏÑ∏Ïöî. Îß§Î¨º Îç∞Ïù¥ÌÑ∞Î•º Ï≤òÎ¶¨ÌïòÍ≥† ÏûàÏäµÎãàÎã§."})]})]});case"complete":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(cs,{className:"mx-auto h-12 w-12 text-green-600 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Í∞ÄÏ†∏Ïò§Í∏∞ ÏôÑÎ£å"})]}),j&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:j.success}),e.jsx("div",{className:"text-sm text-green-800",children:"ÏÑ±Í≥µ"})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:j.failed}),e.jsx("div",{className:"text-sm text-red-800",children:"Ïã§Ìå®"})]})]}),j.errors.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-red-900",children:"Ïò§Î•ò ÎÇ¥Ïó≠:"}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 max-h-40 overflow-y-auto",children:[j.errors.slice(0,10).map((w,B)=>e.jsxs("div",{className:"text-sm text-red-800 mb-2",children:[e.jsxs("strong",{children:["Ìñâ ",w.row,":"]})," ",w.message]},B)),j.errors.length>10&&e.jsxs("div",{className:"text-sm text-red-600",children:["...Ïô∏ ",j.errors.length-10,"Í∞ú Ïò§Î•ò"]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(U,{onClick:G,children:"ÏôÑÎ£å"})})]});default:return null}};return e.jsx(Ee,{isOpen:s,onClose:G,title:"Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞",size:"lg",children:Y()})},ni={format:"csv",includeFields:["title","type","transaction_type","status","address","area","floor","total_floors","rooms","bathrooms","parking","elevator","price","deposit","monthly_rent","landlord_name","landlord_phone","exit_date","created_at"],dateRange:"all",propertyStatus:"all",propertyType:"all"},ii=[{id:"title",label:"Îß§Î¨ºÎ™Ö",required:!0},{id:"type",label:"Îß§Î¨ºÏú†Ìòï",required:!0},{id:"transaction_type",label:"Í±∞ÎûòÏú†Ìòï",required:!0},{id:"status",label:"Îß§Î¨ºÏÉÅÌÉú",required:!1},{id:"address",label:"Ï£ºÏÜå",required:!0},{id:"detailed_address",label:"ÏÉÅÏÑ∏Ï£ºÏÜå",required:!1},{id:"area",label:"Î©¥Ï†Å(m¬≤)",required:!0},{id:"floor",label:"Ï∏µ",required:!0},{id:"total_floors",label:"Ï¥ùÏ∏µÏàò",required:!0},{id:"rooms",label:"Î∞©Ïàò",required:!0},{id:"bathrooms",label:"ÌôîÏû•Ïã§Ïàò",required:!0},{id:"parking",label:"Ï£ºÏ∞®Í∞ÄÎä•",required:!1},{id:"elevator",label:"ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞",required:!1},{id:"price",label:"Îß§Îß§Í∞Ä(ÎßåÏõê)",required:!1},{id:"deposit",label:"Î≥¥Ï¶ùÍ∏à(ÎßåÏõê)",required:!1},{id:"monthly_rent",label:"ÏõîÏÑ∏(ÎßåÏõê)",required:!1},{id:"maintenance_fee",label:"Í¥ÄÎ¶¨ÎπÑ(ÎßåÏõê)",required:!1},{id:"landlord_name",label:"ÏûÑÎåÄÏù∏Î™Ö",required:!1},{id:"landlord_phone",label:"ÏûÑÎåÄÏù∏ Ïó∞ÎùΩÏ≤ò",required:!1},{id:"landlord_email",label:"ÏûÑÎåÄÏù∏ Ïù¥Î©îÏùº",required:!1},{id:"exit_date",label:"Ìá¥Ïã§ÎÇ†Ïßú",required:!1},{id:"available_from",label:"ÏûÖÏ£ºÍ∞ÄÎä•Ïùº",required:!1},{id:"description",label:"ÏÑ§Î™Ö",required:!1},{id:"view_count",label:"Ï°∞ÌöåÏàò",required:!1},{id:"inquiry_count",label:"Î¨∏ÏùòÏàò",required:!1},{id:"created_at",label:"Îì±Î°ùÏùº",required:!1},{id:"updated_at",label:"ÏàòÏ†ïÏùº",required:!1}],oi=({isOpen:s,onClose:t})=>{var x;const{user:r}=oe();let a=r!=null&&r.id?{id:r.id,name:"PropertyDesk"}:null,l=!1;try{const p=es();(x=p==null?void 0:p.tenant)!=null&&x.id&&(a=p.tenant,l=(p==null?void 0:p.isLoading)||!1)}catch(p){console.log("TenantContext Ïò§Î•ò, ÏÇ¨Ïö©Ïûê IDÎ•º ÌÖåÎÑåÌä∏ IDÎ°ú ÏÇ¨Ïö©:",p)}const{properties:n}=ps(),[i,o]=m.useState(ni),[c,d]=m.useState(!1),[h,u]=m.useState(null);console.log("DataExportModal - ÌÖåÎÑåÌä∏ Ï†ïÎ≥¥:",{tenant:a==null?void 0:a.id,tenantName:a==null?void 0:a.name,tenantLoading:l,isOpen:s,userId:r==null?void 0:r.id});const f=p=>{o(v=>({...v,...p}))},j=()=>n?n.filter(p=>{if(i.propertyStatus!=="all"&&p.status!==i.propertyStatus||i.propertyType!=="all"&&p.type!==i.propertyType)return!1;if(i.dateRange!=="all"){const v=new Date(p.created_at),y=new Date;switch(i.dateRange){case"thisMonth":if(v.getMonth()!==y.getMonth()||v.getFullYear()!==y.getFullYear())return!1;break;case"lastMonth":const k=new Date(y.getFullYear(),y.getMonth()-1);if(v.getMonth()!==k.getMonth()||v.getFullYear()!==k.getFullYear())return!1;break;case"custom":if(i.customDateFrom&&v<new Date(i.customDateFrom)||i.customDateTo&&v>new Date(i.customDateTo+"T23:59:59"))return!1;break}}return!0}):[],g=(p,v,y)=>{const k=new Blob(["\uFEFF"+p],{type:`${y};charset=utf-8;`}),L=document.createElement("a");L.href=URL.createObjectURL(k),L.download=v,L.click(),URL.revokeObjectURL(L.href)},N=async()=>{if(l){console.log("ÌÖåÎÑåÌä∏ Î°úÎî© Ï§ëÏûÖÎãàÎã§.");return}if(!(a!=null&&a.id)){console.log("ÌÖåÎÑåÌä∏ Ï†ïÎ≥¥ ÌôïÏù∏:",{tenant:a}),u("ÌÖåÎÑåÌä∏ Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§. ÌéòÏù¥ÏßÄÎ•º ÏÉàÎ°úÍ≥†Ïπ® ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.");return}d(!0),u(null);try{console.log("ÎÇ¥Î≥¥ÎÇ¥Í∏∞ ÏãúÏûë:",{tenant:a==null?void 0:a.id,options:i});const p=j();if(console.log("ÎÇ¥Î≥¥ÎÇº Îß§Î¨º Ïàò:",p.length),p.length===0){u("ÏÑ†ÌÉùÌïú Ï°∞Í±¥Ïóê ÎßûÎäî Îß§Î¨ºÏù¥ ÏóÜÏäµÎãàÎã§. ÌïÑÌÑ∞ Ï°∞Í±¥ÏùÑ ÌôïÏù∏Ìï¥Î≥¥ÏÑ∏Ïöî.");return}const v=new Date().toISOString().slice(0,19).replace(/[:-]/g,"").replace("T","_");let y,k,L;switch(i.format){case"csv":case"excel":k=Tr(p,i.includeFields),y=`Îß§Î¨ºÎç∞Ïù¥ÌÑ∞_${v}.csv`,L="text/csv";break;case"json":k=Mr(p,i.includeFields),y=`Îß§Î¨ºÎç∞Ïù¥ÌÑ∞_${v}.json`,L="application/json";break;default:throw new Error("ÏßÄÏõêÌïòÏßÄ ÏïäÎäî ÌååÏùº ÌòïÏãùÏûÖÎãàÎã§.")}g(k,y,L),setTimeout(()=>{t()},1e3)}catch(p){const v=p instanceof Error?p.message:"ÎÇ¥Î≥¥ÎÇ¥Í∏∞ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.";u(v),console.error("Export error:",p)}finally{d(!1)}},b=j();return l?e.jsx(Ee,{isOpen:s,onClose:t,title:"Îç∞Ïù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞",size:"lg",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[e.jsx(Ae,{size:"lg"}),e.jsx("p",{className:"text-gray-600",children:"ÌÖåÎÑåÌä∏ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ë..."})]})}):e.jsx(Ee,{isOpen:s,onClose:t,title:"Îç∞Ïù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(De,{className:"mx-auto h-12 w-12 text-blue-600 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Îß§Î¨º Îç∞Ïù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞"}),e.jsx("p",{className:"text-gray-600",children:"ÌïÑÏöîÌïú Îß§Î¨º Ï†ïÎ≥¥Î•º ÏÑ†ÌÉùÌïòÏó¨ ÌååÏùºÎ°ú ÎÇ¥Î≥¥ÎÇ¥ÏÑ∏Ïöî"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"ÌååÏùº ÌòïÏãù"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"csv",label:"CSV",desc:"ÏóëÏÖÄÏóêÏÑú Ïó¥Í∏∞ Í∞ÄÎä•"},{value:"json",label:"JSON",desc:"ÌîÑÎ°úÍ∑∏ÎûòÎ∞çÏö©"},{value:"excel",label:"Excel",desc:"ÎßàÏù¥ÌÅ¨Î°úÏÜåÌîÑÌä∏ ÏóëÏÖÄ"}].map(p=>e.jsxs("button",{onClick:()=>f({format:p.value}),className:`p-3 border-2 rounded-lg text-center transition-all ${i.format===p.value?"border-blue-500 bg-blue-50 text-blue-900":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"font-medium",children:p.label}),e.jsx("div",{className:"text-xs text-gray-500",children:p.desc})]},p.value))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"ÎÇ†Ïßú Î≤îÏúÑ"}),e.jsx(he,{value:i.dateRange,onChange:p=>f({dateRange:p.target.value}),options:[{value:"all",label:"Ï†ÑÏ≤¥ Í∏∞Í∞Ñ"},{value:"thisMonth",label:"Ïù¥Î≤à Îã¨"},{value:"lastMonth",label:"ÏßÄÎÇú Îã¨"},{value:"custom",label:"ÏÇ¨Ïö©Ïûê ÏßÄÏ†ï"}]}),i.dateRange==="custom"&&e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"ÏãúÏûëÏùº"}),e.jsx("input",{type:"date",value:i.customDateFrom||"",onChange:p=>f({customDateFrom:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ï¢ÖÎ£åÏùº"}),e.jsx("input",{type:"date",value:i.customDateTo||"",onChange:p=>f({customDateTo:p.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Îß§Î¨º ÏÉÅÌÉú"}),e.jsx(he,{value:i.propertyStatus,onChange:p=>f({propertyStatus:p.target.value}),options:[{value:"all",label:"Ï†ÑÏ≤¥"},{value:"Í±∞ÎûòÏ§ë",label:"Í±∞ÎûòÏ§ë"},{value:"Í±∞ÎûòÏôÑÎ£å",label:"Í±∞ÎûòÏôÑÎ£å"}]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Îß§Î¨º Ïú†Ìòï"}),e.jsx(he,{value:i.propertyType,onChange:p=>f({propertyType:p.target.value}),options:[{value:"all",label:"Ï†ÑÏ≤¥"},{value:"ÏïÑÌååÌä∏",label:"ÏïÑÌååÌä∏"},{value:"Ïò§ÌîºÏä§ÌÖî",label:"Ïò§ÌîºÏä§ÌÖî"},{value:"ÏõêÎ£∏",label:"ÏõêÎ£∏"},{value:"ÎπåÎùº",label:"ÎπåÎùº"},{value:"Í∏∞ÌÉÄ",label:"Í∏∞ÌÉÄ"}]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Ìè¨Ìï®Ìï† Ï†ïÎ≥¥ ÏÑ†ÌÉù"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-48 overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-2 gap-2",children:ii.map(p=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i.includeFields.includes(p.id),disabled:p.required,onChange:v=>{v.target.checked?f({includeFields:[...i.includeFields,p.id]}):f({includeFields:i.includeFields.filter(y=>y!==p.id)})},className:"rounded text-blue-600"}),e.jsxs("span",{className:`text-sm ${p.required?"font-medium text-gray-900":"text-gray-700"}`,children:[p.label,p.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]},p.id))})}),e.jsx("p",{className:"text-xs text-gray-500",children:"* ÌëúÏãúÎäî ÌïÑÏàò ÌïÑÎìúÎ°ú Ìï≠ÏÉÅ Ìè¨Ìï®Îê©ÎãàÎã§"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Es,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900",children:"ÎÇ¥Î≥¥ÎÇ¥Í∏∞ ÎØ∏Î¶¨Î≥¥Í∏∞"}),e.jsxs("div",{className:"text-sm text-blue-800 mt-1 space-y-1",children:[e.jsxs("p",{children:["‚Ä¢ Ï¥ù Îß§Î¨º Ïàò: ",b.length,"Í∞ú"]}),e.jsxs("p",{children:["‚Ä¢ ÏÑ†ÌÉùÎêú ÌïÑÎìú: ",i.includeFields.length,"Í∞ú"]}),e.jsxs("p",{children:["‚Ä¢ ÌååÏùº ÌòïÏãù: ",i.format.toUpperCase()]})]})]})]})}),h&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(qe,{className:"h-5 w-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-900",children:"Ïò§Î•ò"}),e.jsx("p",{className:"text-sm text-red-600",children:h})]})]})})]}),e.jsxs("div",{className:"flex justify-between space-x-3",children:[e.jsx(U,{variant:"outline",onClick:t,children:"Ï∑®ÏÜå"}),e.jsx(U,{onClick:N,disabled:c||l||!(a!=null&&a.id)||b.length===0,leftIcon:c?e.jsx(Ae,{size:"sm"}):e.jsx(De,{size:18}),children:c?"ÎÇ¥Î≥¥ÎÇ¥Îäî Ï§ë...":l?"ÌÖåÎÑåÌä∏ Ï†ïÎ≥¥ Î°úÎî© Ï§ë...":a!=null&&a.id?`${b.length}Í∞ú Îß§Î¨º ÎÇ¥Î≥¥ÎÇ¥Í∏∞`:"ÌÖåÎÑåÌä∏ Ï†ïÎ≥¥ ÏóÜÏùå"})]})]})})},zr=()=>{const{tenant:s}=es(),{refreshProperties:t}=ps(),[r,a]=m.useState("general"),[l,n]=m.useState(!1),[i,o]=m.useState(!1),[c,d]=m.useState(!1),[h,u]=m.useState(!1),f=[{id:"general",label:"ÏùºÎ∞ò ÏÑ§Ï†ï",icon:it},{id:"billing",label:"Í≤∞Ï†ú Î∞è ÏöîÍ∏àÏ†ú",icon:Ss},{id:"branding",label:"Î∏åÎûúÎî©",icon:Zr},{id:"notifications",label:"ÏïåÎ¶º ÏÑ§Ï†ï",icon:Ge}],j=[{value:"starter",label:"Ïä§ÌÉÄÌÑ∞ (19,000Ïõê/Ïõî)",price:19e3},{value:"professional",label:"ÌîÑÎ°úÌéòÏÖîÎÑê (39,000Ïõê/Ïõî)",price:39e3},{value:"business",label:"ÎπÑÏ¶àÎãàÏä§ (69,000Ïõê/Ïõî)",price:69e3},{value:"enterprise",label:"ÏóîÌÑ∞ÌîÑÎùºÏù¥Ï¶à (99,000Ïõê/Ïõî)",price:99e3}],g=async()=>{if(!(s!=null&&s.id)){alert("ÌÖåÎÑåÌä∏ Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§.");return}try{o(!0),console.log("üßπ ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî ÏãúÏûë:",s.id),console.log("üóëÔ∏è Î°úÏª¨ Ï†ÄÏû•ÏÜå ÏÉÅÌÉú Ï†ïÎ≥¥ ÏÇ≠Ï†ú Ï§ë..."),Object.keys(localStorage).forEach(k=>{k.startsWith("property_status_")&&(localStorage.removeItem(k),console.log("ÏÇ≠Ï†úÎêú ÌÇ§:",k))});const{data:p,error:v}=await E.from("properties").select("id").eq("tenant_id",s.id);if(v)throw console.error("‚ùå Îß§Î¨º Ï°∞Ìöå Ïã§Ìå®:",v),new Error(`Îß§Î¨º Ï°∞Ìöå Ïã§Ìå®: ${v.message}`);if(console.log("üìä ÏÇ≠Ï†úÌï† Îß§Î¨º Í∞úÏàò:",(p==null?void 0:p.length)||0),!p||p.length===0){alert("ÏÇ≠Ï†úÌï† Îß§Î¨ºÏù¥ ÏóÜÏäµÎãàÎã§."),n(!1);return}console.log("üóëÔ∏è SupabaseÏóêÏÑú Îß§Î¨º Îç∞Ïù¥ÌÑ∞ ÏÇ≠Ï†ú Ï§ë...");const{error:y}=await E.from("properties").delete().eq("tenant_id",s.id);if(y)throw console.error("‚ùå Îß§Î¨º ÏÇ≠Ï†ú Ïã§Ìå®:",y),new Error(`Îß§Î¨º ÏÇ≠Ï†ú Ïã§Ìå®: ${y.message}`);console.log("‚úÖ Îß§Î¨º Îç∞Ïù¥ÌÑ∞ ÏÇ≠Ï†ú ÏôÑÎ£å"),console.log("üîÑ Îç∞Ïù¥ÌÑ∞ ÏÉàÎ°úÍ≥†Ïπ® Ï§ë..."),await t(),n(!1),alert(`‚úÖ ${p.length}Í∞úÏùò ÏÉòÌîå Îß§Î¨ºÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§!`)}catch(x){console.error("üí• Ï¥àÍ∏∞Ìôî Ïã§Ìå®:",x);const p=x instanceof Error?x.message:"Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.";alert(`‚ùå Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî Ïã§Ìå®: ${p}`)}finally{o(!1)}},N=x=>{console.log("Í∞ÄÏ†∏Ïò§Í∏∞ ÏôÑÎ£å:",x.length,"Í∞ú Îß§Î¨º"),t()},b=()=>{switch(r){case"general":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 sm:p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Í∏∞Î≥∏ Ï†ïÎ≥¥"}),e.jsx(U,{leftIcon:e.jsx(is,{size:18}),size:"lg",className:"h-12 px-6 text-base",children:"Î≥ÄÍ≤ΩÏÇ¨Ìï≠ Ï†ÄÏû•"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3",children:"ÌöåÏÇ¨Î™Ö"}),e.jsx(A,{defaultValue:(s==null?void 0:s.name)||"PropertyDesk",placeholder:"ÌöåÏÇ¨Î™ÖÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî",className:"text-base h-12 bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3",children:"ÎèÑÎ©îÏù∏ Ï£ºÏÜå"}),e.jsx(A,{defaultValue:(s==null?void 0:s.slug)||"propertydesk",placeholder:"ÎèÑÎ©îÏù∏ Ï£ºÏÜå",readOnly:!0,className:"bg-gray-100 text-base h-12"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3",children:"ÌöåÏÇ¨ ÏÜåÍ∞ú"}),e.jsx("textarea",{className:"w-full p-4 sm:p-5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none text-base bg-white",rows:4,placeholder:"ÌöåÏÇ¨ ÏÜåÍ∞úÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî",defaultValue:"Î∂ÄÎèôÏÇ∞ Ï†ÑÎ¨∏ Í¥ÄÎ¶¨ ÏÜîÎ£®ÏÖò PropertyDeskÏûÖÎãàÎã§."})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3",children:"ÎåÄÌëú Ï†ÑÌôîÎ≤àÌò∏"}),e.jsx(A,{placeholder:"02-1234-5678",defaultValue:"02-1234-5678",className:"text-base h-12 bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3",children:"ÎåÄÌëú Ïù¥Î©îÏùº"}),e.jsx(A,{type:"email",placeholder:"contact@propertydesk.com",defaultValue:"contact@propertydesk.com",className:"text-base h-12 bg-white"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 sm:p-8 border border-blue-200",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6",children:"Ïï± ÏÑ§Ïπò"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg p-6 border border-blue-300",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl text-gray-900 mb-3",children:"PCÏóê Î∞îÎ°úÍ∞ÄÍ∏∞ ÎßåÎì§Í∏∞"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-700 leading-relaxed",children:"Î¶¨Ï≤¥ Îß§Î¨ºÏû•ÏùÑ PC Î∞îÌÉïÌôîÎ©¥Ïóê ÏÑ§ÏπòÌïòÏó¨ Îçî Ìé∏Î¶¨ÌïòÍ≤å ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî."})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Xl,{})})]})}),e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-blue-300",children:[e.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-4",children:"üí° PWA ÏÑ§Ïπò ÌòúÌÉù"}),e.jsxs("ul",{className:"space-y-3 text-base text-gray-700",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Î∏åÎùºÏö∞Ï†Ä ÏóÜÏù¥ ÎèÖÎ¶Ω Ïã§Ìñâ"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Îçî Îπ†Î•∏ Î°úÎî© ÏÜçÎèÑ"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Ïò§ÌîÑÎùºÏù∏ ÏùºÎ∂Ä Í∏∞Îä• ÏÇ¨Ïö©"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"Ìë∏Ïãú ÏïåÎ¶º ÏàòÏã† Í∞ÄÎä•"})]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 sm:p-8",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6",children:"Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsx(U,{variant:"outline",leftIcon:e.jsx(Ps,{size:20}),size:"lg",onClick:()=>d(!0),className:"h-16 text-base font-semibold bg-white hover:bg-green-50 border-2 hover:border-green-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{children:"Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Excel, CSV ÌååÏùº ÏßÄÏõê"})]})}),e.jsx(U,{variant:"outline",leftIcon:e.jsx(De,{size:20}),size:"lg",onClick:()=>u(!0),className:"h-16 text-base font-semibold bg-white hover:bg-blue-50 border-2 hover:border-blue-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{children:"Îç∞Ïù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Î∞±ÏóÖ Î∞è Î∂ÑÏÑùÏö©"})]})}),e.jsx(U,{variant:"destructive",leftIcon:e.jsx(js,{size:20}),onClick:()=>n(!0),size:"lg",className:"h-16 text-base font-semibold",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{children:"ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî"}),e.jsx("div",{className:"text-xs text-red-100 mt-1",children:"Î≥µÍµ¨ Î∂àÍ∞ÄÎä•"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-blue-100 border-l-4 border-blue-500 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-blue-600 text-2xl",children:"üí°"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg text-blue-900 mb-2",children:"ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî"}),e.jsx("p",{className:"text-base text-blue-800 leading-relaxed",children:"ÌöåÏõêÍ∞ÄÏûÖ Ïãú Ï†úÍ≥µÎêú ÏÉòÌîå Îß§Î¨º Îç∞Ïù¥ÌÑ∞Î•º Î™®Îëê ÏÇ≠Ï†úÌïòÏó¨ Íπ®ÎÅóÌïú ÏÉÅÌÉúÏóêÏÑú ÏãúÏûëÌï† Ïàò ÏûàÏäµÎãàÎã§."})]})]})}),e.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-yellow-600 text-2xl",children:"‚ö†Ô∏è"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg text-yellow-900 mb-2",children:"Ï§ëÏöî Ï£ºÏùòÏÇ¨Ìï≠"}),e.jsx("p",{className:"text-base text-yellow-800 leading-relaxed",children:"Ï¥àÍ∏∞ÌôîÎêú Îç∞Ïù¥ÌÑ∞Îäî Î≥µÍµ¨Ìï† Ïàò ÏóÜÏäµÎãàÎã§. Ïã§Ï†ú Îß§Î¨º Îç∞Ïù¥ÌÑ∞Î•º Îì±Î°ùÌïòÍ∏∞ Ï†ÑÏóê ÏßÑÌñâÌï¥Ï£ºÏÑ∏Ïöî."})]})]})})]})]})]})]});case"billing":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary-50 via-blue-50 to-indigo-50 rounded-xl p-6 sm:p-8 border border-primary-200",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6",children:"ÌòÑÏû¨ ÌîåÎûú"}),s&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg p-6 border border-primary-300 shadow-sm",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:[s.plan.charAt(0).toUpperCase()+s.plan.slice(1)," ","ÌîåÎûú"]}),e.jsxs("p",{className:"text-base sm:text-lg text-gray-700",children:["Îß§Î¨º ",s.limits.max_properties,"Í∞ú ¬∑ ÌåÄÏõê"," ",s.limits.max_users,"Î™Ö ¬∑ Ïä§ÌÜ†Î¶¨ÏßÄ"," ",s.limits.max_storage_gb,"GB"]})]}),e.jsxs("div",{className:"text-left lg:text-right",children:[e.jsx(Se,{variant:"tenant",size:"lg",className:"text-base px-4 py-2",children:s.status==="trial"?"Ï≤¥Ìóò Ï§ë":"ÌôúÏÑ± ÏÉÅÌÉú"}),s.trial_ends_at&&e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:["Ï≤¥Ìóò Ï¢ÖÎ£å:"," ",new Date(s.trial_ends_at).toLocaleDateString()]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-6 sm:p-8 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-primary-600 mb-2",children:"156"}),e.jsx("p",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-1",children:"ÏÇ¨Ïö© Ï§ëÏù∏ Îß§Î¨º"}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-500",children:["/ ",s.limits.max_properties,"Í∞ú Ï†úÌïú"]}),e.jsx("div",{className:"mt-3 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${156/s.limits.max_properties*100}%`}})})]}),e.jsxs("div",{className:"text-center p-6 sm:p-8 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-green-600 mb-2",children:"8"}),e.jsx("p",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-1",children:"ÌåÄÏõê Ïàò"}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-500",children:["/ ",s.limits.max_users,"Î™Ö Ï†úÌïú"]}),e.jsx("div",{className:"mt-3 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${8/s.limits.max_users*100}%`}})})]}),e.jsxs("div",{className:"text-center p-6 sm:p-8 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-600 mb-2",children:"2.3"}),e.jsx("p",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-1",children:"Ïä§ÌÜ†Î¶¨ÏßÄ ÏÇ¨Ïö©Îüâ"}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-500",children:["/ ",s.limits.max_storage_gb,"GB Ï†úÌïú"]}),e.jsx("div",{className:"mt-3 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${2.3/s.limits.max_storage_gb*100}%`}})})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 sm:p-8",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6",children:"ÌîåÎûú Î≥ÄÍ≤Ω"}),e.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:j.map(x=>e.jsxs("div",{className:`p-6 sm:p-8 border-2 rounded-xl cursor-pointer transition-all duration-200 bg-white ${(s==null?void 0:s.plan)===x.value?"border-primary-500 shadow-lg ring-2 ring-primary-100":"border-gray-200 hover:border-primary-300 hover:shadow-md"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-bold text-xl sm:text-2xl text-gray-900",children:x.label.split(" (")[0]}),(s==null?void 0:s.plan)===x.value&&e.jsx(Se,{variant:"primary",size:"lg",className:"text-sm px-3 py-1",children:"ÌòÑÏû¨ ÌîåÎûú"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("span",{className:"text-3xl sm:text-4xl font-bold text-gray-900",children:[x.price.toLocaleString(),"Ïõê"]}),e.jsx("span",{className:"text-lg text-gray-500 ml-1",children:"/Ïõî"})]}),(s==null?void 0:s.plan)!==x.value&&e.jsx(U,{size:"lg",variant:"outline",className:"w-full h-12 text-base font-semibold",children:"Ïù¥ ÌîåÎûúÏúºÎ°ú Î≥ÄÍ≤Ω"})]},x.value))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 sm:p-8",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6",children:"Í≤∞Ï†ú Ï†ïÎ≥¥"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white p-6 sm:p-8 rounded-lg border border-gray-200 shadow-sm",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded flex items-center justify-center",children:e.jsx(Ss,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[e.jsx("span",{className:"font-bold text-lg text-gray-900",children:"Îì±Î°ùÎêú Ïπ¥Îìú"}),e.jsx(Se,{variant:"success",size:"sm",className:"text-sm",children:"ÌôúÏÑ±"})]}),e.jsx("p",{className:"text-gray-600 text-lg font-mono",children:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 4567"}),e.jsx("p",{className:"text-base text-gray-500",children:"ÎßåÎ£åÏùº: 12/25"})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(U,{variant:"outline",size:"lg",className:"h-14 text-base font-semibold bg-white hover:bg-blue-50 border-2 hover:border-blue-300",children:[e.jsx(Ss,{size:20,className:"mr-2"}),"Í≤∞Ï†ú ÏàòÎã® Î≥ÄÍ≤Ω"]}),e.jsxs(U,{variant:"outline",size:"lg",className:"h-14 text-base font-semibold bg-white hover:bg-green-50 border-2 hover:border-green-300",children:[e.jsx(De,{size:20,className:"mr-2"}),"Í≤∞Ï†ú ÎÇ¥Ïó≠ Î≥¥Í∏∞"]})]})]})]})]});case"branding":return e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 sm:p-8 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Î∏åÎûúÎìú ÏÑ§Ï†ï"}),e.jsx(U,{leftIcon:e.jsx(is,{size:20}),size:"lg",className:"h-12 px-6 text-base",children:"Î∏åÎûúÎìú ÏÑ§Ï†ï Ï†ÄÏû•"})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 border border-purple-200 shadow-sm",children:[e.jsx("label",{className:"block text-lg sm:text-xl font-bold text-gray-800 mb-4",children:"Î°úÍ≥† ÏóÖÎ°úÎìú"}),e.jsxs("div",{className:"border-3 border-dashed border-purple-300 rounded-xl p-8 sm:p-10 text-center hover:border-purple-400 transition-colors cursor-pointer",children:[e.jsx(Ps,{className:"mx-auto h-16 w-16 sm:h-20 sm:w-20 text-purple-400 mb-4"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-700 font-medium mb-2",children:"Ïù¥ÎØ∏ÏßÄÎ•º ÎìúÎûòÍ∑∏ÌïòÍ±∞ÎÇò ÌÅ¥Î¶≠ÌïòÏó¨ ÏóÖÎ°úÎìú"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"PNG, JPG ÌååÏùº / ÏµúÎåÄ 2MB"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 border border-purple-200 shadow-sm",children:[e.jsx("label",{className:"block text-lg sm:text-xl font-bold text-gray-800 mb-4",children:"Î∏åÎûúÎìú Ïª¨Îü¨"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-700 mb-3",children:"Ï£º Ïª¨Îü¨"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"color",defaultValue:"#3b82f6",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg border-2 border-gray-300 cursor-pointer"}),e.jsx(A,{defaultValue:"#3b82f6",placeholder:"#3b82f6",className:"flex-1 text-base h-12 bg-gray-50"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-700 mb-3",children:"Î≥¥Ï°∞ Ïª¨Îü¨"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"color",defaultValue:"#1d4ed8",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg border-2 border-gray-300 cursor-pointer"}),e.jsx(A,{defaultValue:"#1d4ed8",placeholder:"#1d4ed8",className:"flex-1 text-base h-12 bg-gray-50"})]})]})]})]})]}),e.jsxs("div",{className:"mt-8 bg-white rounded-lg p-6 sm:p-8 border border-purple-200 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl text-gray-900 mb-4",children:"Î∏åÎûúÎìú ÎØ∏Î¶¨Î≥¥Í∏∞"}),e.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg p-6 sm:p-8 border border-primary-200",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-primary-600 rounded-full flex items-center justify-center text-white font-bold text-xl sm:text-2xl shadow-lg",children:"P"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-xl sm:text-2xl text-gray-900",children:"PropertyDesk"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1",children:"ÏÉàÎ°úÏö¥ Î∏åÎûúÎìú Ïä§ÌÉÄÏùº Ï†ÅÏö©"})]})]})})]})]})});case"notifications":return e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 rounded-xl p-6 sm:p-8 border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"ÏïåÎ¶º ÏÑ§Ï†ï"}),e.jsx(U,{leftIcon:e.jsx(is,{size:20}),size:"lg",className:"h-12 px-6 text-base",children:"ÏïåÎ¶º ÏÑ§Ï†ï Ï†ÄÏû•"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg p-6 sm:p-8 border border-green-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ge,{className:"w-6 h-6 text-green-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl text-gray-900 mb-1",children:"ÏÉàÎ°úÏö¥ Îß§Î¨º Îì±Î°ù"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"Îß§Î¨ºÏù¥ ÏÉàÎ°ú Îì±Î°ùÎê† Îïå ÏïåÎ¶ºÏùÑ Î∞õÏäµÎãàÎã§"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-base font-medium",children:"Ïù¥Î©îÏùº"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-base font-medium",children:"Ïï± ÏïåÎ¶º"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 sm:p-8 border border-green-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ge,{className:"w-6 h-6 text-blue-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl text-gray-900 mb-1",children:"Í≥ÑÏïΩ ÏôÑÎ£å"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"Í≥ÑÏïΩÏù¥ ÏôÑÎ£åÎê† Îïå ÏïåÎ¶ºÏùÑ Î∞õÏäµÎãàÎã§"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-base font-medium",children:"Ïù¥Î©îÏùº"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-base font-medium",children:"Ïï± ÏïåÎ¶º"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 sm:p-8 border border-green-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ge,{className:"w-6 h-6 text-purple-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl text-gray-900 mb-1",children:"ÌåÄÏõê Ï¥àÎåÄ"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"ÏÉàÎ°úÏö¥ ÌåÄÏõêÏù¥ Ï¥àÎåÄÎê† Îïå ÏïåÎ¶ºÏùÑ Î∞õÏäµÎãàÎã§"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-base font-medium",children:"Ïù¥Î©îÏùº"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-base font-medium",children:"Ïï± ÏïåÎ¶º"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 sm:p-8 border border-green-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ge,{className:"w-6 h-6 text-orange-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl text-gray-900 mb-1",children:"ÏãúÏä§ÌÖú ÏóÖÎç∞Ïù¥Ìä∏"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"ÏãúÏä§ÌÖú ÏóÖÎç∞Ïù¥Ìä∏ Î∞è Ïú†ÏßÄÎ≥¥Ïàò ÏïåÎ¶ºÏùÑ Î∞õÏäµÎãàÎã§"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-base font-medium",children:"Ïù¥Î©îÏùº"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-base font-medium",children:"Ïï± ÏïåÎ¶º"})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 border border-green-200 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl text-gray-900 mb-6",children:"ÏïåÎ¶º ÏãúÍ∞Ñ ÏÑ§Ï†ï"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3",children:"ÏïåÎ¶º ÏãúÏûë ÏãúÍ∞Ñ"}),e.jsx(A,{type:"time",defaultValue:"09:00",className:"text-base h-14 bg-gray-50 text-lg font-mono"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3",children:"ÏïåÎ¶º Ï¢ÖÎ£å ÏãúÍ∞Ñ"}),e.jsx(A,{type:"time",defaultValue:"18:00",className:"text-base h-14 bg-gray-50 text-lg font-mono"})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-base text-blue-800",children:["üí° ",e.jsx("strong",{children:"ÏïåÎ¶º ÏãúÍ∞Ñ ÏïàÎÇ¥:"})," ÏÑ§Ï†ïÎêú ÏãúÍ∞Ñ Ïô∏ÏóêÎäî Í∏¥Í∏âÌïòÏßÄ ÏïäÏùÄ ÏïåÎ¶ºÏù¥ Î∞úÏÜ°ÎêòÏßÄ ÏïäÏäµÎãàÎã§."]})})]})]})]})});default:return null}};return e.jsxs("div",{className:"max-w-none space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg p-6 sm:p-8 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-3 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"ÏÑ§Ï†ï"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-2",children:"ÏãúÏä§ÌÖú ÏÑ§Ï†ïÏùÑ Í¥ÄÎ¶¨ÌïòÍ≥† Ïª§Ïä§ÌÑ∞ÎßàÏù¥ÏßïÌï† Ïàò ÏûàÏäµÎãàÎã§"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Se,{variant:"success",size:"lg",className:"text-sm",children:(s==null?void 0:s.status)==="trial"?"Ï≤¥Ìóò Ï§ë":"ÌôúÏÑ± ÏÉÅÌÉú"}),e.jsxs(Se,{variant:"primary",size:"lg",className:"text-sm",children:[(s==null?void 0:s.plan)||"Professional"," ÌîåÎûú"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex overflow-x-auto px-6 sm:px-8 scrollbar-hide",children:f.map(x=>{const p=x.icon;return e.jsxs("button",{onClick:()=>a(x.id),className:`flex items-center space-x-2 py-5 px-4 sm:px-6 border-b-2 font-medium text-base sm:text-lg transition-colors whitespace-nowrap min-w-max touch-target ${r===x.id?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsx(p,{size:22,className:"flex-shrink-0"}),e.jsx("span",{className:"hidden sm:inline",children:x.label}),e.jsx("span",{className:"sm:hidden text-sm font-medium",children:x.label.split(" ")[0]})]},x.id)})})}),e.jsx("div",{className:"px-6 sm:px-8 py-6 sm:py-8",children:b()})]}),e.jsx(Ee,{isOpen:l,onClose:()=>n(!1),title:"ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(js,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Ï†ïÎßêÎ°ú ÏÉòÌîå Îç∞Ïù¥ÌÑ∞Î•º Ï¥àÍ∏∞ÌôîÌïòÏãúÍ≤†ÏäµÎãàÍπå?"}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[e.jsx("p",{children:"Ïù¥ ÏûëÏóÖÏùÑ ÏàòÌñâÌïòÎ©¥:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Î™®Îì† ÏÉòÌîå Îß§Î¨º Îç∞Ïù¥ÌÑ∞Í∞Ä ÏÇ≠Ï†úÎê©ÎãàÎã§"}),e.jsx("li",{children:"Îß§Î¨º ÏÉÅÌÉú Ï†ïÎ≥¥Í∞Ä Ï¥àÍ∏∞ÌôîÎê©ÎãàÎã§"}),e.jsx("li",{children:"ÏÇ≠Ï†úÎêú Îç∞Ïù¥ÌÑ∞Îäî Î≥µÍµ¨Ìï† Ïàò ÏóÜÏäµÎãàÎã§"})]})]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Ï∞∏Í≥†:"})," Ï¥àÍ∏∞Ìôî ÌõÑÏóêÎäî Íπ®ÎÅóÌïú ÏÉÅÌÉúÏóêÏÑú Ïã§Ï†ú Îß§Î¨º Îç∞Ïù¥ÌÑ∞Î•º Îì±Î°ùÌï† Ïàò ÏûàÏäµÎãàÎã§."]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(U,{variant:"outline",onClick:()=>n(!1),disabled:i,children:"Ï∑®ÏÜå"}),e.jsx(U,{variant:"destructive",onClick:g,disabled:i,leftIcon:i?e.jsx(js,{size:16,className:"animate-spin"}):e.jsx(js,{size:16}),children:i?"Ï¥àÍ∏∞Ìôî Ï§ë...":"Ï¥àÍ∏∞Ìôî Ïã§Ìñâ"})]})]})}),e.jsx(li,{isOpen:c,onClose:()=>d(!1),onImportComplete:N}),e.jsx(oi,{isOpen:h,onClose:()=>u(!1)})]})},$r=()=>{const[s,t]=m.useState("overview"),r=[{id:"overview",title:"Í∞úÏöî",icon:Ie},{id:"dashboard",title:"ÎåÄÏãúÎ≥¥Îìú",icon:ws},{id:"properties",title:"Îß§Î¨º Í¥ÄÎ¶¨",icon:As},{id:"team",title:"ÌåÄ Í¥ÄÎ¶¨",icon:ke},{id:"settings",title:"ÏÑ§Ï†ï",icon:Me},{id:"tips",title:"ÏÇ¨Ïö© ÌåÅ",icon:ns}],a=()=>{switch(s){case"overview":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 sm:p-6 border border-blue-200",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4",children:"Î¶¨Ï≤¥ Îß§Î¨ºÏû•Ïóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§! üè†"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-4",children:"Î¶¨Ï≤¥ Îß§Î¨ºÏû•ÏùÄ Î∂ÄÎèôÏÇ∞ Îß§Î¨ºÏùÑ Ìö®Ïú®Ï†ÅÏúºÎ°ú Í¥ÄÎ¶¨Ìï† Ïàò ÏûàÎäî Ï†ÑÎ¨∏ SaaS ÌîåÎû´ÌèºÏûÖÎãàÎã§. Îß§Î¨º Îì±Î°ùÎ∂ÄÌÑ∞ Í≥ÑÏïΩ Í¥ÄÎ¶¨ÍπåÏßÄ Î™®Îì† ÏóÖÎ¨¥Î•º ÌïòÎÇòÏùò ÏãúÏä§ÌÖúÏóêÏÑú Ï≤òÎ¶¨Ìï† Ïàò ÏûàÏäµÎãàÎã§."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mt-6",children:[e.jsxs("div",{className:"bg-white p-4 sm:p-5 rounded-lg border border-blue-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(As,{className:"w-5 h-5 text-blue-600 mr-2"}),e.jsx("h3",{className:"font-semibold text-sm sm:text-base text-gray-900",children:"Îß§Î¨º Í¥ÄÎ¶¨"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"Îß§Î¨º Îì±Î°ù, ÏàòÏ†ï, ÏÇ≠Ï†ú Î∞è ÏÉÅÌÉú Í¥ÄÎ¶¨"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-green-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(ws,{className:"w-5 h-5 text-green-600 mr-2"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Ïã§ÏãúÍ∞Ñ ÌÜµÍ≥Ñ"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Îß§Î¨º ÌòÑÌô© Î∞è Ìä∏Î†åÎìú Î∂ÑÏÑù"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-purple-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(ke,{className:"w-5 h-5 text-purple-600 mr-2"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"ÌåÄ ÌòëÏóÖ"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"ÌåÄÏõê Ï¥àÎåÄ Î∞è Í∂åÌïú Í¥ÄÎ¶¨"})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-orange-100",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(Bs,{className:"w-5 h-5 text-orange-600 mr-2"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"PWA ÏßÄÏõê"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"PC Ïï±ÏúºÎ°ú ÏÑ§ÏπòÌïòÏó¨ ÏÇ¨Ïö©"})]})]})]}),e.jsxs(le,{children:[e.jsx(ve,{children:e.jsxs(Ne,{className:"flex items-center",children:[e.jsx(ns,{className:"w-5 h-5 mr-2"}),"Ï£ºÏöî ÌäπÏßï"]})}),e.jsx(xe,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"üéØ ÌïµÏã¨ Í∏∞Îä•"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:"‚Ä¢ Îß§Î¨º Îì±Î°ù Î∞è Í¥ÄÎ¶¨"}),e.jsx("li",{children:"‚Ä¢ Ïã§ÏãúÍ∞Ñ ÎåÄÏãúÎ≥¥Îìú"}),e.jsx("li",{children:"‚Ä¢ ÌÜµÍ≥Ñ Î∞è Ï∞®Ìä∏ Î∂ÑÏÑù"}),e.jsx("li",{children:"‚Ä¢ ÌåÄÏõê Í¥ÄÎ¶¨ Î∞è Í∂åÌïú ÏÑ§Ï†ï"}),e.jsx("li",{children:"‚Ä¢ Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞/ÎÇ¥Î≥¥ÎÇ¥Í∏∞"}),e.jsx("li",{children:"‚Ä¢ PWA ÏßÄÏõê (Ïï± ÏÑ§Ïπò Í∞ÄÎä•)"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"üí° Ìé∏Ïùò Í∏∞Îä•"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:"‚Ä¢ ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ ÏûêÎèô ÏûÖÎ†•"}),e.jsx("li",{children:"‚Ä¢ Îã§ÏñëÌïú Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞"}),e.jsx("li",{children:"‚Ä¢ Ïπ¥ÎìúÌòï/Î¶¨Ïä§Ìä∏Ìòï Î≥¥Í∏∞ Ï†ÑÌôò"}),e.jsx("li",{children:"‚Ä¢ Î∞òÏùëÌòï ÎîîÏûêÏù∏ (Î™®Î∞îÏùº ÏßÄÏõê)"}),e.jsx("li",{children:"‚Ä¢ Î∏åÎûúÎî© Ïª§Ïä§ÌÑ∞ÎßàÏù¥Ïßï"}),e.jsx("li",{children:"‚Ä¢ ÏïåÎ¶º ÏÑ§Ï†ï"})]})]})]})})]})]});case"dashboard":return e.jsx("div",{className:"space-y-6",children:e.jsxs(le,{children:[e.jsx(ve,{children:e.jsxs(Ne,{className:"flex items-center",children:[e.jsx(ws,{className:"w-5 h-5 mr-2"}),"ÎåÄÏãúÎ≥¥Îìú ÏÇ¨Ïö©Î≤ï"]})}),e.jsxs(xe,{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"üìä ÌÜµÍ≥Ñ Ïπ¥Îìú"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Ï¥ù Îß§Î¨º, ÌôúÏÑ± Îß§Î¨º, ÌåÄÏõê Ïàò, Ïù¥Î≤à Îã¨ Îì±Î°ù Îß§Î¨º ÏàòÎ•º ÌïúÎààÏóê ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§."}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[e.jsxs("div",{className:"bg-white p-3 rounded border text-center",children:[e.jsx("div",{className:"text-blue-600 font-bold",children:"156"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Ï¥ù Îß§Î¨º"})]}),e.jsxs("div",{className:"bg-white p-3 rounded border text-center",children:[e.jsx("div",{className:"text-green-600 font-bold",children:"142"}),e.jsx("div",{className:"text-xs text-gray-500",children:"ÌôúÏÑ± Îß§Î¨º"})]}),e.jsxs("div",{className:"bg-white p-3 rounded border text-center",children:[e.jsx("div",{className:"text-purple-600 font-bold",children:"8"}),e.jsx("div",{className:"text-xs text-gray-500",children:"ÌåÄÏõê"})]}),e.jsxs("div",{className:"bg-white p-3 rounded border text-center",children:[e.jsx("div",{className:"text-orange-600 font-bold",children:"23"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Ïù¥Î≤à Îã¨"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"üìà Ï∞®Ìä∏ Î∂ÑÏÑù"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Îß§Î¨º Ìä∏Î†åÎìúÏôÄ Ïú†ÌòïÎ≥Ñ Î∂ÑÌè¨Î•º ÏãúÍ∞ÅÏ†ÅÏúºÎ°ú ÌôïÏù∏Ìï† Ïàò ÏûàÏäµÎãàÎã§."}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Îß§Î¨º Ìä∏Î†åÎìú Ï∞®Ìä∏"}),": ÏõîÎ≥Ñ Îß§Î¨º Îì±Î°ù Ï∂îÏù¥"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Îß§Î¨º Ïú†Ìòï Ï∞®Ìä∏"}),": ÏïÑÌååÌä∏, Ïò§ÌîºÏä§ÌÖî, ÏõêÎ£∏, ÎπåÎùº ÎπÑÏú®"]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"üè† ÏµúÍ∑º Îì±Î°ù Îß§Î¨º"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ÏµúÍ∑ºÏóê Îì±Î°ùÎêú Îß§Î¨º 4Í∞úÎ•º Ïπ¥Îìú ÌòïÌÉúÎ°ú Î≥¥Ïó¨Ï§çÎãàÎã§. Îß§Î¨º Ïπ¥ÎìúÎ•º ÌÅ¥Î¶≠ÌïòÎ©¥ ÏÉÅÏÑ∏ Ï†ïÎ≥¥Î•º ÌôïÏù∏ÌïòÍ≥† Ìé∏Ïßë/ÏÇ≠Ï†úÌï† Ïàò ÏûàÏäµÎãàÎã§."})]})]})]})});case"properties":return e.jsx("div",{className:"space-y-6",children:e.jsxs(le,{children:[e.jsx(ve,{children:e.jsxs(Ne,{className:"flex items-center",children:[e.jsx(As,{className:"w-5 h-5 mr-2"}),"Îß§Î¨º Í¥ÄÎ¶¨ ÏÇ¨Ïö©Î≤ï"]})}),e.jsxs(xe,{className:"space-y-6",children:[e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(ds,{className:"w-4 h-4 mr-2 text-blue-600"}),"Îß§Î¨º Îì±Î°ùÌïòÍ∏∞"]}),e.jsxs("ol",{className:"text-sm text-gray-600 space-y-1 list-decimal list-inside",children:[e.jsx("li",{children:'Ïö∞ÏÉÅÎã® "Îß§Î¨º Îì±Î°ù" Î≤ÑÌäº ÌÅ¥Î¶≠'}),e.jsx("li",{children:"Í∏∞Î≥∏ Ï†ïÎ≥¥ ÏûÖÎ†• (Ï†úÎ™©, Ï£ºÏÜå, Ïú†Ìòï, Í±∞ÎûòÏú†Ìòï)"}),e.jsx("li",{children:"ÏÉÅÏÑ∏ Ï†ïÎ≥¥ ÏûÖÎ†• (Î©¥Ï†Å, Ï∏µÏàò, Î£∏ Íµ¨Ï°∞)"}),e.jsx("li",{children:"Í∞ÄÍ≤© Ï†ïÎ≥¥ ÏûÖÎ†• (Îß§Îß§Í∞Ä, Ï†ÑÏÑ∏Í∏à, ÏõîÏÑ∏)"}),e.jsx("li",{children:"ÏûÑÎåÄÏù∏ Ï†ïÎ≥¥ Î∞è Í∏∞ÌÉÄ ÏòµÏÖò ÏÑ§Ï†ï"}),e.jsx("li",{children:'"Îß§Î¨º Îì±Î°ù" Î≤ÑÌäºÏúºÎ°ú ÏôÑÎ£å'})]}),e.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-xs text-blue-700",children:["üí° ",e.jsx("strong",{children:"ÌåÅ:"}),' "ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ ÏûÖÎ†•" Î≤ÑÌäºÏùÑ ÏÇ¨Ïö©ÌïòÎ©¥ ÏòàÏãú Îç∞Ïù¥ÌÑ∞Í∞Ä ÏûêÎèôÏúºÎ°ú ÏûÖÎ†•Îê©ÎãàÎã§.']})]}),e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(os,{className:"w-4 h-4 mr-2 text-green-600"}),"Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞ÎßÅ"]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Í≤ÄÏÉâ:"})," Îß§Î¨ºÎ™ÖÏù¥ÎÇò Ï£ºÏÜåÎ°ú Ïã§ÏãúÍ∞Ñ Í≤ÄÏÉâ Í∞ÄÎä•"]}),e.jsx("p",{children:e.jsx("strong",{children:"ÌïÑÌÑ∞:"})}),e.jsxs("ul",{className:"ml-4 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Í±∞ÎûòÏú†Ìòï: Îß§Îß§, Ï†ÑÏÑ∏, ÏõîÏÑ∏"}),e.jsx("li",{children:"‚Ä¢ Îß§Î¨ºÏú†Ìòï: ÏïÑÌååÌä∏, Ïò§ÌîºÏä§ÌÖî, ÏõêÎ£∏, ÎπåÎùº"}),e.jsx("li",{children:"‚Ä¢ ÏÉÅÌÉú: Í±∞ÎûòÏ§ë, Í±∞ÎûòÏôÑÎ£å"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(Cs,{className:"w-4 h-4 mr-2 text-purple-600"}),"Î≥¥Í∏∞ Î™®Îìú Ï†ÑÌôò"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"flex items-center mb-1",children:[e.jsx(Cs,{className:"w-3 h-3 mr-1"}),e.jsx("strong",{children:"Ïπ¥ÎìúÌòï Î≥¥Í∏∞"})]}),e.jsx("p",{children:"Îß§Î¨ºÏùÑ Ïπ¥Îìú ÌòïÌÉúÎ°ú ÏãúÍ∞ÅÏ†ÅÏúºÎ°ú ÌëúÏãú"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"flex items-center mb-1",children:[e.jsx(Vt,{className:"w-3 h-3 mr-1"}),e.jsx("strong",{children:"Î¶¨Ïä§Ìä∏Ìòï Î≥¥Í∏∞"})]}),e.jsx("p",{children:"Îß§Î¨ºÏùÑ ÌÖåÏù¥Î∏î ÌòïÌÉúÎ°ú Í∞ÑÎûµÌïòÍ≤å ÌëúÏãú"})]})]})]}),e.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(ms,{className:"w-4 h-4 mr-2 text-orange-600"}),"Îß§Î¨º Ìé∏Ïßë Î∞è ÏÇ≠Ï†ú"]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"ÏÉÅÏÑ∏Î≥¥Í∏∞:"})," Îß§Î¨º Ïπ¥Îìú ÌÅ¥Î¶≠ ‚Üí ÏÉÅÏÑ∏ Ï†ïÎ≥¥ Î™®Îã¨ ÌëúÏãú"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Ìé∏Ïßë:"})," ÏÉÅÏÑ∏Î≥¥Í∏∞ Î™®Îã¨ÏóêÏÑú Ìé∏Ïßë Î≤ÑÌäº ÌÅ¥Î¶≠"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ÏÇ≠Ï†ú:"})," ÏÉÅÏÑ∏Î≥¥Í∏∞ Î™®Îã¨ÏóêÏÑú ÏÇ≠Ï†ú Î≤ÑÌäº ÌÅ¥Î¶≠ (ÌôïÏù∏ ÌïÑÏöî)"]})]}),e.jsxs("div",{className:"mt-2 p-2 bg-orange-50 rounded text-xs text-orange-700",children:["‚ö†Ô∏è ",e.jsx("strong",{children:"Ï£ºÏùò:"})," ÏÇ≠Ï†úÎêú Îß§Î¨ºÏùÄ Î≥µÍµ¨Ìï† Ïàò ÏóÜÏäµÎãàÎã§."]})]})]})]})});case"team":return e.jsx("div",{className:"space-y-6",children:e.jsxs(le,{children:[e.jsx(ve,{children:e.jsxs(Ne,{className:"flex items-center",children:[e.jsx(ke,{className:"w-5 h-5 mr-2"}),"ÌåÄ Í¥ÄÎ¶¨ ÏÇ¨Ïö©Î≤ï"]})}),e.jsxs(xe,{className:"space-y-4",children:[e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"üöß Í∞úÎ∞ú ÏòàÏ†ï:"})," ÌåÄ Í¥ÄÎ¶¨ Í∏∞Îä•ÏùÄ ÌòÑÏû¨ Í∞úÎ∞ú Ï§ëÏûÖÎãàÎã§. Ìñ•ÌõÑ ÏóÖÎç∞Ïù¥Ìä∏Î•º ÌÜµÌï¥ ÌåÄÏõê Ï¥àÎåÄ, Í∂åÌïú Í¥ÄÎ¶¨, Ïó≠Ìï† ÏÑ§Ï†ï Îì±Ïùò Í∏∞Îä•ÏùÑ Ï†úÍ≥µÌï† ÏòàÏ†ïÏûÖÎãàÎã§."]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"ÏòàÏ†ïÎêú Í∏∞Îä•:"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:"‚Ä¢ ÌåÄÏõê Ï¥àÎåÄ Î∞è Í¥ÄÎ¶¨"}),e.jsx("li",{children:"‚Ä¢ Í∂åÌïú ÏÑ§Ï†ï (Í¥ÄÎ¶¨Ïûê, ÏùºÎ∞ò ÏÇ¨Ïö©Ïûê)"}),e.jsx("li",{children:"‚Ä¢ Ïó≠Ìï†Î≥Ñ Ï†ëÍ∑º Ï†úÏñ¥"}),e.jsx("li",{children:"‚Ä¢ ÌåÄÏõê ÌôúÎèô Î°úÍ∑∏"}),e.jsx("li",{children:"‚Ä¢ ÌòëÏóÖ ÎèÑÍµ¨ Ïó∞Îèô"})]})]})]})]})});case"settings":return e.jsx("div",{className:"space-y-6",children:e.jsxs(le,{children:[e.jsx(ve,{children:e.jsxs(Ne,{className:"flex items-center",children:[e.jsx(Me,{className:"w-5 h-5 mr-2"}),"ÏÑ§Ï†ï ÏÇ¨Ïö©Î≤ï"]})}),e.jsxs(xe,{className:"space-y-6",children:[e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(Me,{className:"w-4 h-4 mr-2 text-blue-600"}),"ÏùºÎ∞ò ÏÑ§Ï†ï"]}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Í∏∞Î≥∏ Ï†ïÎ≥¥:"})," ÌöåÏÇ¨Î™Ö, ÎèÑÎ©îÏù∏, Ïó∞ÎùΩÏ≤ò ÏÑ§Ï†ï"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"PWA ÏÑ§Ïπò:"})," PCÏóê Ïï±ÏúºÎ°ú ÏÑ§ÏπòÌïòÏó¨ ÏÇ¨Ïö©"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨:"})," Í∞ÄÏ†∏Ïò§Í∏∞/ÎÇ¥Î≥¥ÎÇ¥Í∏∞, ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî"]})]})]}),e.jsxs("div",{className:"border-l-4 border-green-500 pl-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(Ss,{className:"w-4 h-4 mr-2 text-green-600"}),"Í≤∞Ï†ú Î∞è ÏöîÍ∏àÏ†ú"]}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"ÌòÑÏû¨ ÌîåÎûú:"})," ÏÇ¨Ïö© Ï§ëÏù∏ ÏöîÍ∏àÏ†ú Î∞è Ï†úÌïúÏÇ¨Ìï≠ ÌôïÏù∏"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"ÌîåÎûú Î≥ÄÍ≤Ω:"})," Ïä§ÌÉÄÌÑ∞, ÌîÑÎ°úÌéòÏÖîÎÑê, ÎπÑÏ¶àÎãàÏä§, ÏóîÌÑ∞ÌîÑÎùºÏù¥Ï¶à"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Í≤∞Ï†ú Ï†ïÎ≥¥:"})," Í≤∞Ï†ú ÏàòÎã® Í¥ÄÎ¶¨ Î∞è Í≤∞Ï†ú ÎÇ¥Ïó≠ ÌôïÏù∏"]})]})]}),e.jsxs("div",{className:"border-l-4 border-purple-500 pl-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(l,{className:"w-4 h-4 mr-2 text-purple-600"}),"Î∏åÎûúÎî©"]}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Î°úÍ≥† ÏóÖÎ°úÎìú:"})," ÌöåÏÇ¨ Î°úÍ≥† ÏÑ§Ï†ï (PNG, JPG ÏµúÎåÄ 2MB)"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Î∏åÎûúÎìú Ïª¨Îü¨:"})," Ï£º Ïª¨Îü¨ÏôÄ Î≥¥Ï°∞ Ïª¨Îü¨ ÏÑ§Ï†ï"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"ÎØ∏Î¶¨Î≥¥Í∏∞:"})," Ï†ÅÏö©Îêú Î∏åÎûúÎìú Ïä§ÌÉÄÏùº ÌôïÏù∏"]})]})]}),e.jsxs("div",{className:"border-l-4 border-orange-500 pl-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-2 flex items-center",children:[e.jsx(Ge,{className:"w-4 h-4 mr-2 text-orange-600"}),"ÏïåÎ¶º ÏÑ§Ï†ï"]}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Ïù¥Î©îÏùº ÏïåÎ¶º:"})," ÏÉà Îß§Î¨º, Í≥ÑÏïΩ ÏôÑÎ£å, ÌåÄÏõê Ï¥àÎåÄ Îì±"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Ïï± ÏïåÎ¶º:"})," Ïã§ÏãúÍ∞Ñ Ìë∏Ïãú ÏïåÎ¶º ÏÑ§Ï†ï"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"ÏïåÎ¶º ÏãúÍ∞Ñ:"})," ÏïåÎ¶º ÏàòÏã† ÏãúÍ∞ÑÎåÄ ÏÑ§Ï†ï"]})]})]})]})]})});case"tips":return e.jsx("div",{className:"space-y-6",children:e.jsxs(le,{children:[e.jsx(ve,{children:e.jsxs(Ne,{className:"flex items-center",children:[e.jsx(ns,{className:"w-5 h-5 mr-2"}),"ÏÇ¨Ïö© ÌåÅ Î∞è ÎÖ∏ÌïòÏö∞"]})}),e.jsxs(xe,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-4 border border-yellow-200",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:"üí° Ìö®Ïú®Ï†ÅÏù∏ Îß§Î¨º Í¥ÄÎ¶¨ ÌåÅ"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"ÏùºÍ¥ÄÎêú Ï†úÎ™© Í∑úÏπô:"}),' "ÏßÄÏó≠Î™Ö + Îß§Î¨ºÏú†Ìòï + ÌäπÏßï" ÌòïÌÉúÎ°ú ÏûëÏÑ±']}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"ÏÉÅÏÑ∏Ìïú Ï£ºÏÜå ÏûÖÎ†•:"})," Ï†ïÌôïÌïú ÏúÑÏπò Ï†ïÎ≥¥Î°ú Í≥†Í∞ù Ïã†Î¢∞ÎèÑ Ìñ•ÏÉÅ"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Ìá¥Ïã§ÏòàÏ†ïÏùº ÌôúÏö©:"})," ÏûÑÏ∞®Ïù∏ Í¥ÄÎ¶¨ Î∞è Í≥ÑÏïΩ Í∞±Ïã† Ï§ÄÎπÑ"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Ï†ïÍ∏∞Ï†ÅÏù∏ ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏:"})," Îß§Î¨º ÏÉÅÌÉúÎ•º Ïã§ÏãúÍ∞ÑÏúºÎ°ú Í¥ÄÎ¶¨"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:"üöÄ ÏÉùÏÇ∞ÏÑ± Ìñ•ÏÉÅ Î∞©Î≤ï"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"PWA ÏÑ§Ïπò:"})," Î∞îÌÉïÌôîÎ©¥ÏóêÏÑú Î∞îÎ°ú Ï†ëÍ∑ºÌïòÏó¨ ÏóÖÎ¨¥ Ìö®Ïú®ÏÑ± Ï¶ùÎåÄ"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ ÌôúÏö©:"})," ÏÉà Îß§Î¨º Îì±Î°ù Ïãú Í∏∞Ï°¥ Ï†ïÎ≥¥Î•º Ï∞∏Í≥†ÌïòÏó¨ Îπ†Î•∏ ÏûÖÎ†•"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"ÌïÑÌÑ∞ ÌôúÏö©:"})," ÏõêÌïòÎäî Ï°∞Í±¥Ïùò Îß§Î¨ºÏùÑ Îπ†Î•¥Í≤å Ï∞æÍ∏∞"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Î¶¨Ïä§Ìä∏Ìòï Î≥¥Í∏∞:"})," ÎßéÏùÄ Îß§Î¨ºÏùÑ Ìïú Î≤àÏóê ÎπÑÍµêÌï† Îïå Ïú†Ïö©"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border border-green-200",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:"üîß Ïú†Ïö©Ìïú Îã®Ï∂ïÌÇ§ Î∞è Í∏∞Îä•"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Îπ†Î•∏ Í≤ÄÏÉâ:"})," Í≤ÄÏÉâÏ∞ΩÏóêÏÑú Ïã§ÏãúÍ∞ÑÏúºÎ°ú Í≤∞Í≥º ÌôïÏù∏"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Ïπ¥Îìú ÌÅ¥Î¶≠:"})," Îß§Î¨º Ïπ¥ÎìúÎ•º ÌÅ¥Î¶≠ÌïòÏó¨ Î∞îÎ°ú ÏÉÅÏÑ∏Î≥¥Í∏∞"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Î™®Îã¨ÏóêÏÑú Ìé∏Ïßë:"})," ÏÉÅÏÑ∏Î≥¥Í∏∞ÏóêÏÑú Î∞îÎ°ú Ìé∏Ïßë Î™®ÎìúÎ°ú Ï†ÑÌôò"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Ï¥àÍ∏∞Ìôî Í∏∞Îä•:"})," ÏÑ§Ï†ïÏóêÏÑú ÏÉòÌîå Îç∞Ïù¥ÌÑ∞ ÏùºÍ¥Ñ ÏÇ≠Ï†ú"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4 border border-purple-200",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:"üì± Î™®Î∞îÏùº ÏÇ¨Ïö© ÌåÅ"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Î∞òÏùëÌòï ÎîîÏûêÏù∏:"})," Î™®Î∞îÏùºÏóêÏÑúÎèÑ Î™®Îì† Í∏∞Îä• ÏôÑÎ≤Ω ÏßÄÏõê"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"ÌÑ∞Ïπò ÏµúÏ†ÅÌôî:"})," Î≤ÑÌäºÍ≥º ÎßÅÌÅ¨Í∞Ä ÌÑ∞ÏπòÌïòÍ∏∞ ÏâΩÍ≤å ÏÑ§Í≥ÑÎê®"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Îπ†Î•∏ Î°úÎî©:"})," Î™®Î∞îÏùº ÌôòÍ≤ΩÏóê ÏµúÏ†ÅÌôîÎêú ÏÑ±Îä•"]}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Ìôà ÌôîÎ©¥ Ï∂îÍ∞Ä:"})," Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú Ìôà ÌôîÎ©¥Ïóê Ï∂îÍ∞ÄÌïòÏó¨ Ïï±Ï≤òÎüº ÏÇ¨Ïö©"]})]})]})]})]})});default:return null}},l=Bs;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 sm:p-6 border border-blue-200",children:[e.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center",children:[e.jsx(ns,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2 sm:mr-3 text-blue-600"}),"ÏÇ¨Ïö©ÏÑ§Î™ÖÏÑú"]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:"Î¶¨Ï≤¥ Îß§Î¨ºÏû•Ïùò Î™®Îì† Í∏∞Îä•Í≥º ÏÇ¨Ïö©Î≤ïÏùÑ ÏûêÏÑ∏Ìûà ÏïàÎÇ¥Ìï¥ÎìúÎ¶ΩÎãàÎã§."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(le,{children:[e.jsx(ve,{children:e.jsx(Ne,{className:"text-lg",children:"Î™©Ï∞®"})}),e.jsx(xe,{className:"p-0",children:e.jsx("nav",{className:"space-y-1",children:r.map(n=>{const i=n.icon;return e.jsxs("button",{onClick:()=>t(n.id),className:`w-full flex items-center space-x-3 px-4 py-4 text-sm sm:text-base font-medium transition-colors touch-target ${s===n.id?"bg-blue-50 text-blue-700 border-r-2 border-blue-500":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(i,{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0"}),e.jsx("span",{className:"text-left",children:n.title})]},n.id)})})})]})}),e.jsx("div",{className:"lg:col-span-3",children:a()})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 sm:p-6 text-center",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:[e.jsx("strong",{children:"Í∞úÎ∞úÌöåÏÇ¨:"})," Î¶¨Ï≤¥Î∂ÄÎèôÏÇ∞"]}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:[e.jsx("strong",{children:"ÎåÄÌëú:"})," ÍπÄÏÑ†ÎØ∏ Í≥µÏù∏Ï§ëÍ∞úÏÇ¨"]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-300",children:e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"¬© 2024 Î¶¨Ï≤¥Î∂ÄÎèôÏÇ∞. All rights reserved."})})]})]})},ci=()=>{var b,x;const[s]=ar(),{user:t}=oe(),r=gs(),[a,l]=m.useState(null),[n,i]=m.useState(!0),[o,c]=m.useState(!1),[d,h]=m.useState(null),u=s.get("token");m.useEffect(()=>{u?f():(h("Ïú†Ìö®ÌïòÏßÄ ÏïäÏùÄ Ï¥àÎåÄ ÎßÅÌÅ¨ÏûÖÎãàÎã§."),i(!1))},[u]);const f=async()=>{var p,v;try{const{data:y,error:k}=await E.from("team_invitations").select(`
          id,
          email,
          role,
          status,
          expires_at,
          tenant_id,
          inviter_id
        `).eq("invitation_token",u).eq("status","pending").single();if(k||!y){h("Ï¥àÎåÄÎ•º Ï∞æÏùÑ Ïàò ÏóÜÍ±∞ÎÇò Ïù¥ÎØ∏ Ï≤òÎ¶¨Îêú Ï¥àÎåÄÏûÖÎãàÎã§.");return}if(new Date(y.expires_at)<new Date){h("ÎßåÎ£åÎêú Ï¥àÎåÄÏûÖÎãàÎã§.");return}if((t==null?void 0:t.email)!==y.email){h("Ï¥àÎåÄÎ∞õÏùÄ Ïù¥Î©îÏùºÍ≥º Î°úÍ∑∏Ïù∏Ìïú Í≥ÑÏ†ïÏù¥ Îã§Î¶ÖÎãàÎã§.");return}const[L,z]=await Promise.all([E.from("tenants").select("name").eq("id",y.tenant_id).single(),E.from("user_profiles").select("name").eq("id",y.inviter_id).single()]),R={...y,tenant:{name:((p=L.data)==null?void 0:p.name)||"Ïïå Ïàò ÏóÜÎäî ÌåÄ"},inviter:{name:((v=z.data)==null?void 0:v.name)||"Ïïå Ïàò ÏóÜÎäî ÏÇ¨Ïö©Ïûê"}};l(R)}catch(y){console.error("Ï¥àÎåÄ Ï†ïÎ≥¥ Î°úÎìú Ïã§Ìå®:",y),h("Ï¥àÎåÄ Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{i(!1)}},j=async()=>{if(!(!a||!t))try{c(!0);const{error:p}=await E.from("team_invitations").update({status:"accepted",updated_at:new Date().toISOString()}).eq("id",a.id);if(p)throw p;const{error:v}=await E.from("user_profiles").update({tenant_id:a.tenant_id,role:a.role,joined_at:new Date().toISOString(),status:"active"}).eq("id",t.id);if(v)throw v;await E.from("team_activity_logs").insert({tenant_id:a.tenant_id,user_id:t.id,action:"invitation_accepted",details:{invitation_id:a.id,role:a.role}}),alert("ÌåÄ Ï¥àÎåÄÎ•º ÏàòÎùΩÌñàÏäµÎãàÎã§! Ïû†Ïãú ÌõÑ ÎåÄÏãúÎ≥¥ÎìúÎ°ú Ïù¥ÎèôÌï©ÎãàÎã§."),setTimeout(()=>{r("/")},1e3)}catch(p){console.error("Ï¥àÎåÄ ÏàòÎùΩ Ïã§Ìå®:",p),h(p.message||"Ï¥àÎåÄ ÏàòÎùΩÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{c(!1)}},g=async()=>{if(a&&confirm("Ï†ïÎßêÎ°ú Ï¥àÎåÄÎ•º Í±∞Ï†àÌïòÏãúÍ≤†ÏäµÎãàÍπå?"))try{c(!0);const{error:p}=await E.from("team_invitations").update({status:"declined",updated_at:new Date().toISOString()}).eq("id",a.id);if(p)throw p;alert("Ï¥àÎåÄÎ•º Í±∞Ï†àÌñàÏäµÎãàÎã§."),r("/")}catch(p){console.error("Ï¥àÎåÄ Í±∞Ï†à Ïã§Ìå®:",p),h(p.message||"Ï¥àÎåÄ Í±∞Ï†àÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{c(!1)}},N=p=>({owner:"ÌåÄ ÏÜåÏú†Ïûê",admin:"Í¥ÄÎ¶¨Ïûê",member:"Î©§Î≤Ñ",viewer:"Î∑∞Ïñ¥"})[p]||p;return n?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Ï¥àÎåÄ Ï†ïÎ≥¥Î•º ÌôïÏù∏ÌïòÎäî Ï§ë..."})]})}):d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ue,{className:"w-8 h-8 text-red-600"})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§"}),e.jsx("p",{className:"text-gray-600 mb-6",children:d}),e.jsx("button",{onClick:()=>r("/"),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"ÎåÄÏãúÎ≥¥ÎìúÎ°ú Ïù¥Îèô"})]})})}):a?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full mx-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ke,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"ÌåÄ Ï¥àÎåÄ"}),e.jsx("p",{className:"text-gray-600",children:"ÌåÄÏóê Ìï©Î•òÌïòÎèÑÎ°ù Ï¥àÎåÄÎêòÏóàÏäµÎãàÎã§"})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(lt,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"ÌåÄ"}),e.jsx("p",{className:"font-medium text-gray-900",children:((b=a.tenant)==null?void 0:b.name)||"Ïïå Ïàò ÏóÜÎäî ÌåÄ"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Ue,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ï¥àÎåÄÏûê"}),e.jsx("p",{className:"font-medium text-gray-900",children:((x=a.inviter)==null?void 0:x.name)||"Ïïå Ïàò ÏóÜÎäî ÏÇ¨Ïö©Ïûê"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(ke,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Ïó≠Ìï†"}),e.jsx("p",{className:"font-medium text-gray-900",children:N(a.role)})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(nt,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"ÎßåÎ£åÏùº"}),e.jsx("p",{className:"font-medium text-gray-900",children:new Date(a.expires_at).toLocaleDateString("ko-KR")})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:g,disabled:o,className:"flex-1 bg-gray-100 text-gray-700 px-4 py-3 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:"Í±∞Ï†à"}),e.jsx("button",{onClick:j,disabled:o,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium flex items-center justify-center space-x-2",children:o?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(Wt,{className:"w-5 h-5"}),e.jsx("span",{children:"ÏàòÎùΩ"})]})})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Ï¥àÎåÄÎ•º ÏàòÎùΩÌïòÎ©¥ ÌòÑÏû¨ ÌåÄÏóêÏÑú ÎÇòÍ∞ÄÍ≥† ÏÉàÎ°úÏö¥ ÌåÄÏúºÎ°ú Ïù¥ÎèôÎê©ÎãàÎã§."})]})}):null};function di(){return e.jsx(rn,{children:e.jsx(cl,{children:e.jsx(dl,{children:e.jsx(al,{children:e.jsxs(Xs,{children:[e.jsx(ne,{path:"/team/invite",element:e.jsx(ci,{})}),e.jsx(ne,{path:"/*",element:e.jsx(en,{children:e.jsxs(tn,{children:[e.jsxs(Xs,{children:[e.jsx(ne,{path:"/",element:e.jsx(Er,{})}),e.jsx(ne,{path:"/properties",element:e.jsx(Cr,{})}),e.jsx(ne,{path:"/schedule",element:e.jsx(Pr,{})}),e.jsx(ne,{path:"/team",element:e.jsx(Rr,{})}),e.jsx(ne,{path:"/settings",element:e.jsx(zr,{})}),e.jsx(ne,{path:"/guide",element:e.jsx($r,{})}),e.jsx(ne,{path:"/tenant/:tenantSlug/*",element:e.jsx(mi,{})}),e.jsx(ne,{path:"*",element:e.jsx(Ka,{to:"/",replace:!0})})]}),e.jsx(Jl,{})]})})})]})})})})})}const mi=()=>e.jsxs(Xs,{children:[e.jsx(ne,{path:"/",element:e.jsx(Er,{})}),e.jsx(ne,{path:"/properties",element:e.jsx(Cr,{})}),e.jsx(ne,{path:"/schedule",element:e.jsx(Pr,{})}),e.jsx(ne,{path:"/team",element:e.jsx(Rr,{})}),e.jsx(ne,{path:"/settings",element:e.jsx(zr,{})}),e.jsx(ne,{path:"/guide",element:e.jsx($r,{})})]});Ks.createRoot(document.getElementById("root")).render(e.jsx(Fe.StrictMode,{children:e.jsx(di,{})}));
//# sourceMappingURL=index-B9ABu-MC.js.map
