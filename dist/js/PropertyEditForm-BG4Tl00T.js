import{l as E,j as e,P as _,C as L,a as I,b as z,e as y,c as K,I as m,S as w}from"./index-DmqqP2-K.js";import{r as b}from"./react-vendor-DS3Z5Hf_.js";import{k as v,m as A,f as C,q as S,r as $,X as k,s as M,t as q,U as D,n as U}from"./ui-vendor-DnkZPEX2.js";import{u as Y}from"./useMobileDetection-BYhEgXwQ.js";import{M as B}from"./useProperties-Clv9Am2z.js";const W=s=>{const i=s.split(" "),c=i.find(x=>x.endsWith("ë™"));if(c)return c;const l=i.find(x=>x.endsWith("êµ¬"));return l||i.slice(-2).join(" ")},V=s=>{const{transaction_type:i,price:c,deposit:l,monthly_rent:x,title:t}=s;switch(i==="ë§¤ë§¤"&&E.debug("ğŸ” ë§¤ë§¤ê°€ ê°€ê²© í¬ë§·íŒ…:",{title:t,transaction_type:i,price:c,priceType:typeof c,result:c?`${h(c)}`:"ê°€ê²© í˜‘ì˜"}),i){case"ë§¤ë§¤":return c?`${h(c)}`:"ê°€ê²© í˜‘ì˜";case"ì „ì„¸":return l?`ì „ì„¸ ${h(l)}`:"ë³´ì¦ê¸ˆ í˜‘ì˜";case"ì›”ì„¸":const g=l?h(l):"0",o=x?h(x):"0";return`${g}/${o}`;case"ë‹¨ê¸°ì„ëŒ€":return x?`ì›” ${h(x)}`:"ê°€ê²© í˜‘ì˜";default:return"ê°€ê²© ì •ë³´ ì—†ìŒ"}},h=s=>{if(s>=1e4&&E.debug("ğŸ’° formatMoney ë§¤ë§¤ê°€ ë””ë²„ê¹…:",{amount:s,type:typeof s,eok:Math.floor(s/1e4),man:s%1e4,ê²°ê³¼:s>=1e4?s%1e4===0?`${Math.floor(s/1e4)}ì–µ`:`${Math.floor(s/1e4)}ì–µ ${(s%1e4).toLocaleString()}ë§Œì›`:`${s.toLocaleString()}ë§Œì›`}),s>=1e4){const i=Math.floor(s/1e4),c=s%1e4;return c===0?`${i}ì–µ`:`${i}ì–µ ${c.toLocaleString()}ë§Œì›`}else return`${s.toLocaleString()}ë§Œì›`},P=s=>{const i=(s/3.3058).toFixed(1);return`${s}ã¡ (${i}í‰)`},se=b.memo(({property:s,onClick:i,className:c=""})=>{const l=W(s.address),x=V(s);return e.jsxs("div",{className:`
        card bg-white rounded-xl border border-gray-200 hover:border-blue-300 
        hover:shadow-md transition-all duration-200 cursor-pointer
        p-3 sm:p-4 space-y-3 group active:scale-[0.98] touch-target
        relative
        ${c}
      `,onClick:()=>i?.(s),children:[s.status==="ê±°ë˜ì™„ë£Œ"&&e.jsx("div",{className:"absolute top-2 right-2 z-10",children:e.jsx("div",{className:"bg-red-600/90 text-white px-3 py-1.5 rounded-lg transform rotate-12 shadow-lg",children:e.jsx("span",{className:"text-sm sm:text-base font-bold tracking-wide",children:"ì™„ë£Œ"})})}),e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg leading-tight line-clamp-2 group-hover:text-blue-600 transition-colors flex-1 min-w-0",children:s.title}),s.is_urgent&&e.jsx("span",{className:"bg-red-100 text-red-600 text-xs px-2 py-1 rounded-full font-medium flex-shrink-0",children:"ê¸‰ë§¤"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(v,{className:"w-4 h-4 mr-2 flex-shrink-0 text-gray-400"}),e.jsx("span",{className:"text-sm sm:text-base truncate",children:l})]}),e.jsxs("div",{className:"flex items-center text-gray-900",children:[e.jsx(A,{className:"w-4 h-4 mr-2 text-blue-600 flex-shrink-0"}),e.jsx("span",{className:"font-bold text-lg sm:text-xl text-blue-600",children:x})]}),s.exit_date?e.jsxs("div",{className:"flex items-center text-orange-600",children:[e.jsx(C,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsxs("span",{className:"text-sm font-medium",children:["í‡´ì‹¤:"," ",new Date(s.exit_date).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})]})]}):e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(C,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium",children:"ê³µì‹¤"})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-500",children:[e.jsx("span",{children:s.type}),e.jsx("span",{className:"text-gray-300",children:"â€¢"}),e.jsx("span",{children:s.transaction_type})]}),e.jsx(_,{status:s.status})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{children:[s.area,"mÂ² (",Math.floor(s.area/3.3),"í‰)"]}),e.jsxs("span",{children:[s.rooms,"ë£¸"]}),s.floor&&e.jsxs("span",{children:[s.floor,"ì¸µ"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.parking&&e.jsx("span",{className:"text-green-600",title:"ì£¼ì°¨ ê°€ëŠ¥",children:"ğŸš—"}),s.elevator&&e.jsx("span",{className:"text-blue-600",title:"ì—˜ë¦¬ë² ì´í„°",children:"ğŸ¢"})]})]})]})]})}),ae=({property:s,isOpen:i,onClose:c,onEdit:l,onDelete:x})=>{const t=Y();if(!i||!s)return null;const g=V(s),o=f=>f%1===0?`${f}ë£¸`:`${f}ë£¸`,u=()=>{l&&l(s)},N=()=>{x&&x(s)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end sm:items-center justify-center p-0 sm:p-4 z-50 touch-manipulation",children:e.jsxs("div",{className:"bg-white rounded-t-2xl sm:rounded-lg w-full max-w-7xl max-h-[95vh] h-[95vh] sm:h-auto overflow-hidden flex flex-col shadow-2xl",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[t&&e.jsx("div",{className:"flex justify-center pt-2 pb-1",children:e.jsx("div",{className:"w-10 h-1 bg-gray-300 rounded-full"})}),t&&e.jsxs("div",{className:"p-3 sm:p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex-1 pr-4",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[e.jsx("button",{onClick:u,className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors min-w-[36px] min-h-[36px] flex items-center justify-center","aria-label":"ë§¤ë¬¼ ìˆ˜ì •",children:e.jsx(S,{className:"w-4 h-4"})}),e.jsx("button",{onClick:N,className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors min-w-[36px] min-h-[36px] flex items-center justify-center","aria-label":"ë§¤ë¬¼ ì‚­ì œ",children:e.jsx($,{className:"w-4 h-4"})}),e.jsx("button",{onClick:c,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors min-w-[36px] min-h-[36px] flex items-center justify-center","aria-label":"ë‹«ê¸°",children:e.jsx(k,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(v,{className:"w-4 h-4 text-gray-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:s.address})]}),e.jsxs("div",{className:"text-center py-2 bg-white rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600 mb-1",children:g}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:s.type}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:s.transaction_type}),e.jsx(_,{status:s.status})]})]})]}),!t&&e.jsxs("div",{className:"hidden lg:flex items-center justify-between p-6 space-x-6",children:[e.jsxs("div",{className:"flex-1 flex items-center space-x-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-base",children:s.address})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:g}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"px-3 py-1.5 bg-blue-100 text-blue-800 rounded-full font-medium text-sm",children:s.type}),e.jsx("span",{className:"px-3 py-1.5 bg-green-100 text-green-800 rounded-full font-medium text-sm",children:s.transaction_type}),e.jsx(_,{status:s.status})]})]})]}),e.jsx("button",{onClick:c,className:"p-3 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(k,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:e.jsxs("div",{className:"px-3 py-2 sm:p-4 space-y-2 sm:space-y-4 pb-safe pb-24",children:[t&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-2",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-1"}),"ê¸°ë³¸ ì •ë³´"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"ë©´ì "}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:P(s.area)})]}),e.jsxs("div",{className:"flex justify-between items-center py-1 border-t border-blue-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"ì¸µìˆ˜"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[s.floor,"F/",s.total_floors,"F"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-1 border-t border-blue-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"êµ¬ì¡°"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[o(s.rooms)," ",s.bathrooms,"ìš•ì‹¤"]})]}),e.jsx("div",{className:"pt-1 border-t border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"í¸ì˜ì‹œì„¤"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:`flex items-center px-2 py-1 rounded text-xs font-medium ${s.parking?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[e.jsx(M,{className:"w-3 h-3 mr-1"}),"ì£¼ì°¨"]}),e.jsxs("div",{className:`flex items-center px-2 py-1 rounded text-xs font-medium ${s.elevator?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[e.jsx(q,{className:"w-3 h-3 mr-1"}),"EV"]})]})]})})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg p-2",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"ìœ„ì¹˜ ì •ë³´"]}),e.jsxs("div",{className:"flex items-start space-x-2 p-2 bg-white rounded border border-green-200",children:[e.jsx(v,{className:"w-3 h-3 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900 leading-tight break-words",children:s.address}),s.detailed_address&&e.jsx("div",{className:"text-xs text-gray-600 mt-0.5",children:s.detailed_address})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 rounded-lg p-2",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-1"}),"ê°€ê²© ì •ë³´"]}),e.jsxs("div",{className:"space-y-1",children:[s.transaction_type==="ë§¤ë§¤"&&s.price&&e.jsx("div",{className:"bg-blue-100 border border-blue-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-blue-800",children:"ë§¤ë§¤ê°€"}),e.jsx("span",{className:"text-base font-bold text-blue-900",children:h(s.price)})]})}),(s.transaction_type==="ì „ì„¸"||s.transaction_type==="ì›”ì„¸")&&s.deposit!==void 0&&e.jsx("div",{className:"bg-green-100 border border-green-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-green-800",children:s.transaction_type==="ì „ì„¸"?"ì „ì„¸ê¸ˆ":"ë³´ì¦ê¸ˆ"}),e.jsx("span",{className:"text-base font-bold text-green-900",children:h(s.deposit)})]})}),s.transaction_type==="ì›”ì„¸"&&s.monthly_rent&&e.jsx("div",{className:"bg-orange-100 border border-orange-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-orange-800",children:"ì›”ì„¸"}),e.jsxs("span",{className:"text-base font-bold text-orange-900",children:[s.monthly_rent,"ë§Œì›/ì›”"]})]})})]})]})]}),!t&&e.jsxs("div",{className:"block",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),"ê¸°ë³¸ ì •ë³´"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2 border border-blue-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-semibold",children:"ì „ìš©ë©´ì "}),e.jsx("span",{className:"text-base font-bold text-gray-900",children:P(s.area)})]}),e.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2 border border-blue-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-semibold",children:"ì¸µìˆ˜"}),e.jsxs("span",{className:"text-base font-bold text-gray-900",children:[s.floor,"F / ",s.total_floors,"F"]})]}),e.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2 border border-blue-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-semibold",children:"êµ¬ì¡°"}),e.jsxs("span",{className:"text-base font-bold text-gray-900",children:[o(s.rooms)," ",s.bathrooms,"ìš•ì‹¤"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 border border-yellow-200",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),"ê°€ê²© ì •ë³´"]}),e.jsxs("div",{className:"space-y-2",children:[s.transaction_type==="ë§¤ë§¤"&&s.price&&e.jsx("div",{className:"bg-blue-100 border border-blue-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-blue-800",children:"ë§¤ë§¤ê°€"}),e.jsx("span",{className:"text-base font-bold text-blue-900",children:h(s.price)})]})}),(s.transaction_type==="ì „ì„¸"||s.transaction_type==="ì›”ì„¸")&&s.deposit!==void 0&&e.jsx("div",{className:"bg-green-100 border border-green-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-green-800",children:s.transaction_type==="ì „ì„¸"?"ì „ì„¸ê¸ˆ":"ë³´ì¦ê¸ˆ"}),e.jsx("span",{className:"text-base font-bold text-green-900",children:h(s.deposit)})]})}),s.transaction_type==="ì›”ì„¸"&&s.monthly_rent&&e.jsx("div",{className:"bg-orange-100 border border-orange-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-orange-800",children:"ì›”ì„¸"}),e.jsxs("span",{className:"text-base font-bold text-orange-900",children:[s.monthly_rent,"ë§Œì›/ì›”"]})]})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),"í¸ì˜ì‹œì„¤ & ìœ„ì¹˜"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:`flex items-center justify-center py-2 px-2 rounded text-sm font-semibold ${s.parking?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-600 border border-gray-300"}`,children:[e.jsx(M,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"ì£¼ì°¨"})]}),e.jsxs("div",{className:`flex items-center justify-center py-2 px-2 rounded text-sm font-semibold ${s.elevator?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-600 border border-gray-300"}`,children:[e.jsx(q,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"EV"})]})]}),e.jsxs("div",{className:"bg-white rounded p-2 border border-green-200",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(v,{className:"w-4 h-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("div",{className:"text-sm text-gray-900 leading-tight font-medium",children:s.address})]}),s.detailed_address&&e.jsx("div",{className:"text-sm text-gray-600 mt-1 ml-6 font-medium",children:s.detailed_address})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),"ì„ëŒ€ì¸ & ë‚ ì§œ"]}),e.jsx("div",{className:"space-y-2 mb-3",children:s.landlord_name||s.landlord_phone?e.jsxs(e.Fragment,{children:[s.landlord_name&&e.jsx("div",{className:"bg-white rounded p-2 border border-purple-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"ì„ëŒ€ì¸"}),e.jsx("span",{className:"text-base font-bold text-gray-900",children:s.landlord_name})]})}),s.landlord_phone&&e.jsx("div",{className:"bg-white rounded p-2 border border-purple-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"ì—°ë½ì²˜"}),e.jsx("span",{className:"text-base font-bold text-gray-900",children:s.landlord_phone})]})})]}):e.jsxs("div",{className:"bg-white rounded p-2 border border-purple-200 text-center text-gray-500",children:[e.jsx(D,{className:"w-4 h-4 mx-auto mb-1 opacity-50"}),e.jsx("div",{className:"text-sm font-medium",children:"ì •ë³´ ì—†ìŒ"})]})}),e.jsxs("div",{className:"space-y-2",children:[s.exit_date?e.jsx("div",{className:"bg-red-100 border border-red-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-red-800",children:"í‡´ì‹¤ì˜ˆì •"}),e.jsx("span",{className:"text-sm font-bold text-red-900",children:new Date(s.exit_date).toLocaleDateString("ko-KR")})]})}):e.jsx("div",{className:"bg-green-100 border border-green-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-green-800",children:"ê±°ì£¼í˜„í™©"}),e.jsx("span",{className:"text-sm font-bold text-green-900",children:"ê³µì‹¤"})]})}),e.jsx("div",{className:"bg-white border border-purple-200 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-gray-800",children:"ë“±ë¡ì¼"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:new Date(s.created_at).toLocaleDateString("ko-KR")})]})})]})]})]}),s.description&&e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 rounded-lg p-4 border border-amber-200",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full mr-2"}),"ìƒì„¸ ì„¤ëª…"]}),e.jsx("div",{className:"bg-white p-4 rounded border border-amber-200 max-h-32 overflow-y-auto",children:e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap font-medium",children:s.description})})]})]}),t&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg p-2",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-1"}),"ì„ëŒ€ì¸ & ë‚ ì§œ"]}),e.jsxs("div",{className:"space-y-1",children:[s.landlord_name||s.landlord_phone?e.jsxs("div",{className:"bg-white border border-purple-200 rounded p-2 space-y-1",children:[s.landlord_name&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-purple-800",children:"ì„ëŒ€ì¸"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:s.landlord_name})]}),s.landlord_phone&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-purple-800",children:"ì—°ë½ì²˜"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:s.landlord_phone})]})]}):e.jsxs("div",{className:"bg-white border border-purple-200 rounded p-2 text-center",children:[e.jsx(D,{className:"w-3 h-3 mx-auto mb-0.5 text-gray-400"}),e.jsx("div",{className:"text-xs text-gray-500",children:"ì •ë³´ ì—†ìŒ"})]}),e.jsxs("div",{className:"space-y-1",children:[s.exit_date?e.jsx("div",{className:"bg-red-100 border border-red-300 rounded p-1.5",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-red-800",children:"í‡´ì‹¤ì˜ˆì •"}),e.jsx("span",{className:"text-sm font-bold text-red-900",children:new Date(s.exit_date).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})})]})}):e.jsx("div",{className:"bg-green-100 border border-green-300 rounded p-1.5",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-green-800",children:"ê±°ì£¼í˜„í™©"}),e.jsx("span",{className:"text-sm font-bold text-green-900",children:"ê³µì‹¤"})]})}),e.jsx("div",{className:"bg-white border border-purple-200 rounded p-1.5",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-gray-800",children:"ë“±ë¡ì¼"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:new Date(s.created_at).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})})]})})]})]})]}),s.description&&e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 rounded-lg p-2",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full mr-1"}),"ìƒì„¸ ì„¤ëª…"]}),e.jsx("div",{className:"bg-white p-2 rounded border border-amber-200",children:e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap",children:s.description})})]})]})]})}),e.jsxs("div",{className:"border-t border-gray-200 bg-white lg:bg-gray-50",children:[t&&e.jsx("div",{className:"pb-safe-4"}),!t&&e.jsxs("div",{className:"flex items-center justify-between p-6 bg-gray-50",children:[e.jsx("div",{}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all duration-200 border border-gray-300 hover:border-gray-400 font-medium",children:"ë‹«ê¸°"}),e.jsxs("button",{onClick:u,className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-200 font-medium text-sm flex items-center",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),"ìˆ˜ì •í•˜ê¸°"]}),e.jsxs("button",{onClick:N,className:"px-5 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-200 font-medium text-sm flex items-center",children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"ì‚­ì œí•˜ê¸°"]})]})]})]})]})})},H=["ì•„íŒŒíŠ¸","ì˜¤í”¼ìŠ¤í…”","ì›ë£¸","ë¹Œë¼","ë‹¨ë…ì£¼íƒ","ìƒê°€","ì‚¬ë¬´ì‹¤","ê¸°íƒ€"],O=["ë§¤ë§¤","ì „ì„¸","ì›”ì„¸","ë‹¨ê¸°ì„ëŒ€"],X=["ê±°ë˜ì¤‘","ê±°ë˜ì™„ë£Œ"],te=({isOpen:s,onClose:i,onSubmit:c,property:l,loading:x=!1})=>{const[t,g]=b.useState({}),[o,u]=b.useState({}),[N,f]=b.useState(!1),[j,p]=b.useState(!1);b.useEffect(()=>{l&&s&&(g({title:l.title,type:l.type,transaction_type:l.transaction_type,status:l.status,address:l.address,detailed_address:l.detailed_address||"",area:l.area,floor:l.floor,total_floors:l.total_floors,rooms:l.rooms,bathrooms:l.bathrooms,parking:l.parking,elevator:l.elevator,price:l.price,deposit:l.deposit,monthly_rent:l.monthly_rent,description:l.description||"",landlord_name:l.landlord_name||"",landlord_phone:l.landlord_phone||"",exit_date:l.exit_date||""}),p(!l.exit_date),u({}))},[l,s]);const R=b.useCallback(a=>{p(a),a&&d("exit_date","")},[]),d=b.useCallback((a,n)=>{g(r=>({...r,[a]:n})),a==="exit_date"&&n&&p(!1),o[a]&&u(r=>({...r,[a]:void 0}))},[o]),T=()=>{const a={};return t.title?.trim()||(a.title="ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"),t.address?.trim()||(a.address="ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"),(!t.area||t.area<=0)&&(a.area="ë©´ì ì€ 0ë³´ë‹¤ ì»¤ì•¼ í•©ë‹ˆë‹¤"),t.floor&&t.floor<1&&(a.floor="ì¸µìˆ˜ëŠ” 1ì¸µ ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤"),t.total_floors&&t.floor&&t.total_floors<t.floor&&(a.total_floors="ì „ì²´ ì¸µìˆ˜ëŠ” í•´ë‹¹ ì¸µìˆ˜ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì•„ì•¼ í•©ë‹ˆë‹¤"),(!t.rooms||t.rooms<1)&&(a.rooms="ë°© ê°œìˆ˜ëŠ” 1ê°œ ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤"),(!t.bathrooms||t.bathrooms<1)&&(a.bathrooms="í™”ì¥ì‹¤ ê°œìˆ˜ëŠ” 1ê°œ ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤"),t.transaction_type==="ë§¤ë§¤"&&(!t.price||t.price<=0)&&(a.price="ë§¤ë§¤ê°€ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"),t.transaction_type==="ì „ì„¸"&&(!t.deposit||t.deposit<=0)&&(a.deposit="ì „ì„¸ê¸ˆì„ ì…ë ¥í•´ì£¼ì„¸ìš”"),t.transaction_type==="ì›”ì„¸"&&((!t.deposit||t.deposit<=0)&&(a.deposit="ë³´ì¦ê¸ˆì„ ì…ë ¥í•´ì£¼ì„¸ìš”"),(!t.monthly_rent||t.monthly_rent<=0)&&(a.monthly_rent="ì›”ì„¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”")),u(a),Object.keys(a).length===0},F=async a=>{if(a.preventDefault(),!(!T()||N)){f(!0);try{await c(t),alert("âœ… ë§¤ë¬¼ì´ ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤!"),i()}catch(n){const r=n instanceof Error?n.message:"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.";alert(`âŒ ë§¤ë¬¼ ìˆ˜ì • ì‹¤íŒ¨: ${r}`)}finally{f(!1)}}};return s?e.jsx(B,{isOpen:s,onClose:i,size:"lg",children:e.jsxs(L,{children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(z,{children:"ë§¤ë¬¼ ì •ë³´ ìˆ˜ì •"}),e.jsx(y,{variant:"ghost",size:"sm",onClick:i,className:"p-1 h-8 w-8",children:e.jsx(k,{size:16})})]})}),e.jsx(K,{children:e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ê¸°ë³¸ ì •ë³´"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"ë§¤ë¬¼ ì œëª©",value:t.title||"",onChange:a=>d("title",a.target.value),error:o.title,placeholder:"ì˜ˆ: ê°•ë‚¨êµ¬ ì‹ ì‚¬ë™ ëŸ­ì…”ë¦¬ ì•„íŒŒíŠ¸",required:!0})}),e.jsx(w,{label:"ë§¤ë¬¼ ìœ í˜•",value:t.type||"",onChange:a=>d("type",a.target.value),options:H.map(a=>({value:a,label:a})),required:!0}),e.jsx(w,{label:"ê±°ë˜ ìœ í˜•",value:t.transaction_type||"",onChange:a=>d("transaction_type",a.target.value),options:O.map(a=>({value:a,label:a})),required:!0}),e.jsx(w,{label:"ë§¤ë¬¼ ìƒíƒœ",value:t.status||"",onChange:a=>d("status",a.target.value),options:X.map(a=>({value:a,label:a})),required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ìœ„ì¹˜ ì •ë³´"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(m,{label:"ì£¼ì†Œ",value:t.address||"",onChange:a=>d("address",a.target.value),error:o.address,placeholder:"ì˜ˆ: ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ì‹ ì‚¬ë™ 123-45",required:!0})}),e.jsx(m,{label:"ìƒì„¸ ì£¼ì†Œ",value:t.detailed_address||"",onChange:a=>d("detailed_address",a.target.value),placeholder:"ì˜ˆ: 123ë™ 456í˜¸"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ë§¤ë¬¼ ì •ë³´"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(m,{label:"ë©´ì  (mÂ²)",type:"number",value:t.area||"",onChange:a=>{const n=a.target.value;if(n==="")d("area",0);else{const r=Number(n);d("area",isNaN(r)?0:r)}},error:o.area,placeholder:"85.0",min:"0",step:"0.1",required:!0}),e.jsx(m,{label:"ì¸µìˆ˜",type:"number",value:t.floor||"",onChange:a=>{const n=a.target.value;if(n==="")d("floor",void 0);else{const r=Math.floor(Number(n));d("floor",isNaN(r)?void 0:r)}},error:o.floor,placeholder:"15",min:"1",required:!0}),e.jsx(m,{label:"ì „ì²´ ì¸µìˆ˜",type:"number",value:t.total_floors||"",onChange:a=>d("total_floors",(()=>{const n=a.target.value;if(n==="")return;const r=Math.floor(Number(n));return isNaN(r)?void 0:r})()),error:o.total_floors,placeholder:"25",min:"1",required:!0}),e.jsx(m,{label:"ë°© ê°œìˆ˜",type:"number",value:t.rooms||"",onChange:a=>{const n=a.target.value,r=Math.floor(Number(n));d("rooms",isNaN(r)?1:r)},error:o.rooms,placeholder:"3",min:"1",required:!0}),e.jsx(m,{label:"í™”ì¥ì‹¤ ê°œìˆ˜",type:"number",value:t.bathrooms||"",onChange:a=>d("bathrooms",(()=>{const n=a.target.value;if(n==="")return 1;const r=Math.floor(Number(n));return isNaN(r)?1:r})()),error:o.bathrooms,placeholder:"2",min:"1",required:!0})]}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:t.parking||!1,onChange:a=>d("parking",a.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"ì£¼ì°¨ ê°€ëŠ¥"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:t.elevator||!1,onChange:a=>d("elevator",a.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"ì—˜ë¦¬ë² ì´í„°"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ê°€ê²© ì •ë³´"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.transaction_type==="ë§¤ë§¤"&&e.jsx(m,{label:"ë§¤ë§¤ê°€ (ë§Œì›)",type:"number",value:t.price||"",onChange:a=>{const n=a.target.value;if(n==="")d("price",void 0);else{const r=Number(n);d("price",isNaN(r)?void 0:r)}},error:o.price,placeholder:"35000",min:"0",required:!0}),(t.transaction_type==="ì „ì„¸"||t.transaction_type==="ì›”ì„¸")&&e.jsx(m,{label:t.transaction_type==="ì „ì„¸"?"ì „ì„¸ê¸ˆ (ë§Œì›)":"ë³´ì¦ê¸ˆ (ë§Œì›)",type:"number",value:t.deposit||"",onChange:a=>{const n=a.target.value;if(n==="")d("deposit",void 0);else{const r=Number(n);d("deposit",isNaN(r)?void 0:r)}},error:o.deposit,placeholder:"21000",min:"0",required:!0}),t.transaction_type==="ì›”ì„¸"&&e.jsx(m,{label:"ì›”ì„¸ (ë§Œì›)",type:"number",value:t.monthly_rent||"",onChange:a=>{const n=a.target.value;if(n==="")d("monthly_rent",void 0);else{const r=Number(n);d("monthly_rent",isNaN(r)?void 0:r)}},error:o.monthly_rent,placeholder:"65",min:"0",required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ì„ëŒ€ì¸ ì •ë³´"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{label:"ì„ëŒ€ì¸ ì´ë¦„",value:t.landlord_name||"",onChange:a=>d("landlord_name",a.target.value),placeholder:"í™ê¸¸ë™"}),e.jsx(m,{label:"ì„ëŒ€ì¸ ì—°ë½ì²˜",value:t.landlord_phone||"",onChange:a=>d("landlord_phone",a.target.value),placeholder:"010-1234-5678"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ê¸°íƒ€ ì •ë³´"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:j,onChange:a=>R(a.target.checked),className:"rounded border-gray-300 text-green-600 focus:ring-green-500 w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"âœ¨ í˜„ì¬ ê³µì‹¤ (ì¦‰ì‹œ ì…ì£¼ ê°€ëŠ¥)"})]}),e.jsx("div",{className:`inline-flex items-center px-2 py-1 rounded-md text-xs font-medium ${j||!t.exit_date?"bg-green-100 text-green-800 border border-green-200":"bg-yellow-100 text-yellow-800 border border-yellow-200"}`,children:j||!t.exit_date?"ì¦‰ì‹œ ì…ì£¼ ê°€ëŠ¥":"í‡´ì‹¤ ì˜ˆì •"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{label:"í‡´ì‹¤ ì˜ˆì •ì¼",type:"date",value:t.exit_date||"",onChange:a=>d("exit_date",a.target.value),disabled:j,className:j?"opacity-50 cursor-not-allowed":""}),e.jsx("div",{className:"flex items-center justify-center md:justify-start",children:e.jsx("p",{className:"text-sm text-gray-500 text-center md:text-left",children:j?"ê³µì‹¤ë¡œ ì²´í¬ë˜ì–´ ë‚ ì§œ ì…ë ¥ì´ ë¹„í™œì„±í™”ë©ë‹ˆë‹¤":"í‡´ì‹¤ ì˜ˆì •ì¼ì´ ìˆìœ¼ë©´ ì…ë ¥í•˜ì„¸ìš”"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ë§¤ë¬¼ ì„¤ëª…"}),e.jsx("textarea",{value:t.description||"",onChange:a=>d("description",a.target.value),placeholder:"ë§¤ë¬¼ì— ëŒ€í•œ ìƒì„¸í•œ ì„¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx(y,{type:"button",variant:"outline",onClick:i,disabled:x,children:"ì·¨ì†Œ"}),e.jsx(y,{type:"submit",variant:"primary",loading:x||N,leftIcon:e.jsx(U,{size:16}),children:"ìˆ˜ì • ì™„ë£Œ"})]})]})})]})}):null};export{se as P,ae as a,te as b,V as f};
