import{l as P,j as e,P as y,C as R,a as T,b as F,e as v,c as L,I as o,S as p}from"./index-NWa438vT.js";import{r as g}from"./react-vendor-DS3Z5Hf_.js";import{k as f,m as z,f as _,q as k,r as C,X as w,s as S,t as $,U as q,n as K}from"./ui-vendor-DnkZPEX2.js";import{u as A}from"./useMobileDetection-BYhEgXwQ.js";import{M as U}from"./useProperties-CAHvE_p5.js";const Y=s=>{const r=s.split(" "),n=r.find(c=>c.endsWith("Îèô"));if(n)return n;const l=r.find(c=>c.endsWith("Íµ¨"));return l||r.slice(-2).join(" ")},I=s=>{const{transaction_type:r,price:n,deposit:l,monthly_rent:c,title:t}=s;switch(r==="Îß§Îß§"&&P.debug("üîç Îß§Îß§Í∞Ä Í∞ÄÍ≤© Ìè¨Îß∑ÌåÖ:",{title:t,transaction_type:r,price:n,priceType:typeof n,result:n?`${x(n)}`:"Í∞ÄÍ≤© ÌòëÏùò"}),r){case"Îß§Îß§":return n?`${x(n)}`:"Í∞ÄÍ≤© ÌòëÏùò";case"Ï†ÑÏÑ∏":return l?`Ï†ÑÏÑ∏ ${x(l)}`:"Î≥¥Ï¶ùÍ∏à ÌòëÏùò";case"ÏõîÏÑ∏":const m=l?x(l):"0",i=c?x(c):"0";return`${m}/${i}`;case"Îã®Í∏∞ÏûÑÎåÄ":return c?`Ïõî ${x(c)}`:"Í∞ÄÍ≤© ÌòëÏùò";default:return"Í∞ÄÍ≤© Ï†ïÎ≥¥ ÏóÜÏùå"}},x=s=>{if(s>=1e4&&P.debug("üí∞ formatMoney Îß§Îß§Í∞Ä ÎîîÎ≤ÑÍπÖ:",{amount:s,type:typeof s,eok:Math.floor(s/1e4),man:s%1e4,Í≤∞Í≥º:s>=1e4?s%1e4===0?`${Math.floor(s/1e4)}Ïñµ`:`${Math.floor(s/1e4)}Ïñµ ${(s%1e4).toLocaleString()}ÎßåÏõê`:`${s.toLocaleString()}ÎßåÏõê`}),s>=1e4){const r=Math.floor(s/1e4),n=s%1e4;return n===0?`${r}Ïñµ`:`${r}Ïñµ ${n.toLocaleString()}ÎßåÏõê`}else return`${s.toLocaleString()}ÎßåÏõê`},D=s=>{const r=(s/3.3058).toFixed(1);return`${s}„é° (${r}Ìèâ)`},Q=g.memo(({property:s,onClick:r,className:n=""})=>{const l=Y(s.address),c=I(s);return e.jsxs("div",{className:`
        card bg-white rounded-xl border border-gray-200 hover:border-blue-300 
        hover:shadow-md transition-all duration-200 cursor-pointer
        p-3 sm:p-4 space-y-3 group active:scale-[0.98] touch-target
        relative
        ${n}
      `,onClick:()=>r?.(s),children:[s.status==="Í±∞ÎûòÏôÑÎ£å"&&e.jsx("div",{className:"absolute top-2 right-2 z-10",children:e.jsx("div",{className:"bg-red-600/90 text-white px-3 py-1.5 rounded-lg transform rotate-12 shadow-lg",children:e.jsx("span",{className:"text-sm sm:text-base font-bold tracking-wide",children:"ÏôÑÎ£å"})})}),e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg leading-tight line-clamp-2 group-hover:text-blue-600 transition-colors flex-1 min-w-0",children:s.title}),s.is_urgent&&e.jsx("span",{className:"bg-red-100 text-red-600 text-xs px-2 py-1 rounded-full font-medium flex-shrink-0",children:"Í∏âÎß§"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(f,{className:"w-4 h-4 mr-2 flex-shrink-0 text-gray-400"}),e.jsx("span",{className:"text-sm sm:text-base truncate",children:l})]}),e.jsxs("div",{className:"flex items-center text-gray-900",children:[e.jsx(z,{className:"w-4 h-4 mr-2 text-blue-600 flex-shrink-0"}),e.jsx("span",{className:"font-bold text-lg sm:text-xl text-blue-600",children:c})]}),s.exit_date?e.jsxs("div",{className:"flex items-center text-orange-600",children:[e.jsx(_,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsxs("span",{className:"text-sm font-medium",children:["Ìá¥Ïã§:"," ",new Date(s.exit_date).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})]})]}):e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(_,{className:"w-4 h-4 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium",children:"Í≥µÏã§"})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-500",children:[e.jsx("span",{children:s.type}),e.jsx("span",{className:"text-gray-300",children:"‚Ä¢"}),e.jsx("span",{children:s.transaction_type})]}),e.jsx(y,{status:s.status})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{children:[s.area,"m¬≤ (",Math.floor(s.area/3.3),"Ìèâ)"]}),e.jsxs("span",{children:[s.rooms,"Î£∏"]}),s.floor&&e.jsxs("span",{children:[s.floor,"Ï∏µ"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.parking&&e.jsx("span",{className:"text-green-600",title:"Ï£ºÏ∞® Í∞ÄÎä•",children:"üöó"}),s.elevator&&e.jsx("span",{className:"text-blue-600",title:"ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞",children:"üè¢"})]})]})]})]})}),Z=({property:s,isOpen:r,onClose:n,onEdit:l,onDelete:c})=>{const t=A();if(!r||!s)return null;const m=I(s),i=b=>b%1===0?`${b}Î£∏`:`${b}Î£∏`,h=()=>{l&&l(s)},u=()=>{c&&c(s)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end sm:items-center justify-center p-0 sm:p-4 z-50 touch-manipulation",children:e.jsxs("div",{className:"bg-white rounded-t-2xl sm:rounded-lg w-full max-w-7xl max-h-[95vh] h-[95vh] sm:h-auto overflow-hidden flex flex-col shadow-2xl",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:[t&&e.jsx("div",{className:"flex justify-center pt-2 pb-1",children:e.jsx("div",{className:"w-10 h-1 bg-gray-300 rounded-full"})}),t&&e.jsxs("div",{className:"p-3 sm:p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 flex-1 pr-4",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-1 flex-shrink-0",children:[e.jsx("button",{onClick:h,className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors min-w-[36px] min-h-[36px] flex items-center justify-center","aria-label":"Îß§Î¨º ÏàòÏ†ï",children:e.jsx(k,{className:"w-4 h-4"})}),e.jsx("button",{onClick:u,className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors min-w-[36px] min-h-[36px] flex items-center justify-center","aria-label":"Îß§Î¨º ÏÇ≠Ï†ú",children:e.jsx(C,{className:"w-4 h-4"})}),e.jsx("button",{onClick:n,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors min-w-[36px] min-h-[36px] flex items-center justify-center","aria-label":"Îã´Í∏∞",children:e.jsx(w,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(f,{className:"w-4 h-4 text-gray-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-600 leading-relaxed",children:s.address})]}),e.jsxs("div",{className:"text-center py-2 bg-white rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600 mb-1",children:m}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:s.type}),e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:s.transaction_type}),e.jsx(y,{status:s.status})]})]})]}),!t&&e.jsxs("div",{className:"hidden lg:flex items-center justify-between p-6 space-x-6",children:[e.jsxs("div",{className:"flex-1 flex items-center space-x-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-base",children:s.address})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:m}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"px-3 py-1.5 bg-blue-100 text-blue-800 rounded-full font-medium text-sm",children:s.type}),e.jsx("span",{className:"px-3 py-1.5 bg-green-100 text-green-800 rounded-full font-medium text-sm",children:s.transaction_type}),e.jsx(y,{status:s.status})]})]})]}),e.jsx("button",{onClick:n,className:"p-3 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(w,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:e.jsxs("div",{className:"px-3 py-2 sm:p-4 space-y-2 sm:space-y-4 pb-safe pb-24",children:[t&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-2",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-1"}),"Í∏∞Î≥∏ Ï†ïÎ≥¥"]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center py-1",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Î©¥Ï†Å"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:D(s.area)})]}),e.jsxs("div",{className:"flex justify-between items-center py-1 border-t border-blue-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Ï∏µÏàò"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[s.floor,"F/",s.total_floors,"F"]})]}),e.jsxs("div",{className:"flex justify-between items-center py-1 border-t border-blue-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:"Íµ¨Ï°∞"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[i(s.rooms)," ",s.bathrooms,"ÏöïÏã§"]})]}),e.jsx("div",{className:"pt-1 border-t border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ìé∏ÏùòÏãúÏÑ§"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:`flex items-center px-2 py-1 rounded text-xs font-medium ${s.parking?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[e.jsx(S,{className:"w-3 h-3 mr-1"}),"Ï£ºÏ∞®"]}),e.jsxs("div",{className:`flex items-center px-2 py-1 rounded text-xs font-medium ${s.elevator?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:[e.jsx($,{className:"w-3 h-3 mr-1"}),"EV"]})]})]})})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg p-2",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"ÏúÑÏπò Ï†ïÎ≥¥"]}),e.jsxs("div",{className:"flex items-start space-x-2 p-2 bg-white rounded border border-green-200",children:[e.jsx(f,{className:"w-3 h-3 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900 leading-tight break-words",children:s.address}),s.detailed_address&&e.jsx("div",{className:"text-xs text-gray-600 mt-0.5",children:s.detailed_address})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 rounded-lg p-2",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-1"}),"Í∞ÄÍ≤© Ï†ïÎ≥¥"]}),e.jsxs("div",{className:"space-y-1",children:[s.transaction_type==="Îß§Îß§"&&s.price&&e.jsx("div",{className:"bg-blue-100 border border-blue-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-blue-800",children:"Îß§Îß§Í∞Ä"}),e.jsx("span",{className:"text-base font-bold text-blue-900",children:x(s.price)})]})}),(s.transaction_type==="Ï†ÑÏÑ∏"||s.transaction_type==="ÏõîÏÑ∏")&&s.deposit!==void 0&&e.jsx("div",{className:"bg-green-100 border border-green-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-green-800",children:s.transaction_type==="Ï†ÑÏÑ∏"?"Ï†ÑÏÑ∏Í∏à":"Î≥¥Ï¶ùÍ∏à"}),e.jsx("span",{className:"text-base font-bold text-green-900",children:x(s.deposit)})]})}),s.transaction_type==="ÏõîÏÑ∏"&&s.monthly_rent&&e.jsx("div",{className:"bg-orange-100 border border-orange-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-orange-800",children:"ÏõîÏÑ∏"}),e.jsxs("span",{className:"text-base font-bold text-orange-900",children:[s.monthly_rent,"ÎßåÏõê/Ïõî"]})]})})]})]})]}),!t&&e.jsxs("div",{className:"block",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-4 border border-blue-200",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),"Í∏∞Î≥∏ Ï†ïÎ≥¥"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2 border border-blue-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-semibold",children:"Ï†ÑÏö©Î©¥Ï†Å"}),e.jsx("span",{className:"text-base font-bold text-gray-900",children:D(s.area)})]}),e.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2 border border-blue-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-semibold",children:"Ï∏µÏàò"}),e.jsxs("span",{className:"text-base font-bold text-gray-900",children:[s.floor,"F / ",s.total_floors,"F"]})]}),e.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-2 border border-blue-200",children:[e.jsx("span",{className:"text-sm text-gray-700 font-semibold",children:"Íµ¨Ï°∞"}),e.jsxs("span",{className:"text-base font-bold text-gray-900",children:[i(s.rooms)," ",s.bathrooms,"ÏöïÏã§"]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 rounded-lg p-4 border border-yellow-200",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full mr-2"}),"Í∞ÄÍ≤© Ï†ïÎ≥¥"]}),e.jsxs("div",{className:"space-y-2",children:[s.transaction_type==="Îß§Îß§"&&s.price&&e.jsx("div",{className:"bg-blue-100 border border-blue-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-blue-800",children:"Îß§Îß§Í∞Ä"}),e.jsx("span",{className:"text-base font-bold text-blue-900",children:x(s.price)})]})}),(s.transaction_type==="Ï†ÑÏÑ∏"||s.transaction_type==="ÏõîÏÑ∏")&&s.deposit!==void 0&&e.jsx("div",{className:"bg-green-100 border border-green-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-green-800",children:s.transaction_type==="Ï†ÑÏÑ∏"?"Ï†ÑÏÑ∏Í∏à":"Î≥¥Ï¶ùÍ∏à"}),e.jsx("span",{className:"text-base font-bold text-green-900",children:x(s.deposit)})]})}),s.transaction_type==="ÏõîÏÑ∏"&&s.monthly_rent&&e.jsx("div",{className:"bg-orange-100 border border-orange-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-orange-800",children:"ÏõîÏÑ∏"}),e.jsxs("span",{className:"text-base font-bold text-orange-900",children:[s.monthly_rent,"ÎßåÏõê/Ïõî"]})]})})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-4 border border-green-200",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),"Ìé∏ÏùòÏãúÏÑ§ & ÏúÑÏπò"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:`flex items-center justify-center py-2 px-2 rounded text-sm font-semibold ${s.parking?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-600 border border-gray-300"}`,children:[e.jsx(S,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Ï£ºÏ∞®"})]}),e.jsxs("div",{className:`flex items-center justify-center py-2 px-2 rounded text-sm font-semibold ${s.elevator?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-600 border border-gray-300"}`,children:[e.jsx($,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"EV"})]})]}),e.jsxs("div",{className:"bg-white rounded p-2 border border-green-200",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx(f,{className:"w-4 h-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),e.jsx("div",{className:"text-sm text-gray-900 leading-tight font-medium",children:s.address})]}),s.detailed_address&&e.jsx("div",{className:"text-sm text-gray-600 mt-1 ml-6 font-medium",children:s.detailed_address})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-4 border border-purple-200",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full mr-2"}),"ÏûÑÎåÄÏù∏ & ÎÇ†Ïßú"]}),e.jsx("div",{className:"space-y-2 mb-3",children:s.landlord_name||s.landlord_phone?e.jsxs(e.Fragment,{children:[s.landlord_name&&e.jsx("div",{className:"bg-white rounded p-2 border border-purple-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"ÏûÑÎåÄÏù∏"}),e.jsx("span",{className:"text-base font-bold text-gray-900",children:s.landlord_name})]})}),s.landlord_phone&&e.jsx("div",{className:"bg-white rounded p-2 border border-purple-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Ïó∞ÎùΩÏ≤ò"}),e.jsx("span",{className:"text-base font-bold text-gray-900",children:s.landlord_phone})]})})]}):e.jsxs("div",{className:"bg-white rounded p-2 border border-purple-200 text-center text-gray-500",children:[e.jsx(q,{className:"w-4 h-4 mx-auto mb-1 opacity-50"}),e.jsx("div",{className:"text-sm font-medium",children:"Ï†ïÎ≥¥ ÏóÜÏùå"})]})}),e.jsxs("div",{className:"space-y-2",children:[s.exit_date?e.jsx("div",{className:"bg-red-100 border border-red-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-red-800",children:"Ìá¥Ïã§ÏòàÏ†ï"}),e.jsx("span",{className:"text-sm font-bold text-red-900",children:new Date(s.exit_date).toLocaleDateString("ko-KR")})]})}):e.jsx("div",{className:"bg-green-100 border border-green-300 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-green-800",children:"Í±∞Ï£ºÌòÑÌô©"}),e.jsx("span",{className:"text-sm font-bold text-green-900",children:"Í≥µÏã§"})]})}),e.jsx("div",{className:"bg-white border border-purple-200 rounded p-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-gray-800",children:"Îì±Î°ùÏùº"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:new Date(s.created_at).toLocaleDateString("ko-KR")})]})})]})]})]}),s.description&&e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 rounded-lg p-4 border border-amber-200",children:[e.jsxs("h3",{className:"text-base font-bold text-gray-900 mb-3 flex items-center",children:[e.jsx("div",{className:"w-3 h-3 bg-amber-500 rounded-full mr-2"}),"ÏÉÅÏÑ∏ ÏÑ§Î™Ö"]}),e.jsx("div",{className:"bg-white p-4 rounded border border-amber-200 max-h-32 overflow-y-auto",children:e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap font-medium",children:s.description})})]})]}),t&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg p-2",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full mr-1"}),"ÏûÑÎåÄÏù∏ & ÎÇ†Ïßú"]}),e.jsxs("div",{className:"space-y-1",children:[s.landlord_name||s.landlord_phone?e.jsxs("div",{className:"bg-white border border-purple-200 rounded p-2 space-y-1",children:[s.landlord_name&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-purple-800",children:"ÏûÑÎåÄÏù∏"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:s.landlord_name})]}),s.landlord_phone&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Ïó∞ÎùΩÏ≤ò"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:s.landlord_phone})]})]}):e.jsxs("div",{className:"bg-white border border-purple-200 rounded p-2 text-center",children:[e.jsx(q,{className:"w-3 h-3 mx-auto mb-0.5 text-gray-400"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Ï†ïÎ≥¥ ÏóÜÏùå"})]}),e.jsxs("div",{className:"space-y-1",children:[s.exit_date?e.jsx("div",{className:"bg-red-100 border border-red-300 rounded p-1.5",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-red-800",children:"Ìá¥Ïã§ÏòàÏ†ï"}),e.jsx("span",{className:"text-sm font-bold text-red-900",children:new Date(s.exit_date).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})})]})}):e.jsx("div",{className:"bg-green-100 border border-green-300 rounded p-1.5",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-green-800",children:"Í±∞Ï£ºÌòÑÌô©"}),e.jsx("span",{className:"text-sm font-bold text-green-900",children:"Í≥µÏã§"})]})}),e.jsx("div",{className:"bg-white border border-purple-200 rounded p-1.5",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-gray-800",children:"Îì±Î°ùÏùº"}),e.jsx("span",{className:"text-sm font-bold text-gray-900",children:new Date(s.created_at).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})})]})})]})]})]}),s.description&&e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 rounded-lg p-2",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full mr-1"}),"ÏÉÅÏÑ∏ ÏÑ§Î™Ö"]}),e.jsx("div",{className:"bg-white p-2 rounded border border-amber-200",children:e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed whitespace-pre-wrap",children:s.description})})]})]})]})}),e.jsxs("div",{className:"border-t border-gray-200 bg-white lg:bg-gray-50",children:[t&&e.jsx("div",{className:"pb-safe-4"}),!t&&e.jsxs("div",{className:"flex items-center justify-between p-6 bg-gray-50",children:[e.jsx("div",{}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:n,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded-lg transition-all duration-200 border border-gray-300 hover:border-gray-400 font-medium",children:"Îã´Í∏∞"}),e.jsxs("button",{onClick:h,className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all duration-200 font-medium text-sm flex items-center",children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"ÏàòÏ†ïÌïòÍ∏∞"]}),e.jsxs("button",{onClick:u,className:"px-5 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-200 font-medium text-sm flex items-center",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"ÏÇ≠Ï†úÌïòÍ∏∞"]})]})]})]})]})})},B=["ÏïÑÌååÌä∏","Ïò§ÌîºÏä§ÌÖî","ÏõêÎ£∏","ÎπåÎùº","Îã®ÎèÖÏ£ºÌÉù","ÏÉÅÍ∞Ä","ÏÇ¨Î¨¥Ïã§","Í∏∞ÌÉÄ"],V=["Îß§Îß§","Ï†ÑÏÑ∏","ÏõîÏÑ∏","Îã®Í∏∞ÏûÑÎåÄ"],W=["Í±∞ÎûòÏ§ë","Í±∞ÎûòÏôÑÎ£å"],ee=({isOpen:s,onClose:r,onSubmit:n,property:l,loading:c=!1})=>{const[t,m]=g.useState({}),[i,h]=g.useState({}),[u,b]=g.useState(!1);g.useEffect(()=>{l&&s&&(m({title:l.title,type:l.type,transaction_type:l.transaction_type,status:l.status,address:l.address,detailed_address:l.detailed_address||"",area:l.area,floor:l.floor,total_floors:l.total_floors,rooms:l.rooms,bathrooms:l.bathrooms,parking:l.parking,elevator:l.elevator,price:l.price,deposit:l.deposit,monthly_rent:l.monthly_rent,description:l.description||"",landlord_name:l.landlord_name||"",landlord_phone:l.landlord_phone||"",exit_date:l.exit_date||""}),h({}))},[l,s]);const d=g.useCallback((a,N)=>{m(j=>({...j,[a]:N})),i[a]&&h(j=>({...j,[a]:void 0}))},[i]),M=()=>{const a={};return t.title?.trim()||(a.title="Ï†úÎ™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),t.address?.trim()||(a.address="Ï£ºÏÜåÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),(!t.area||t.area<=0)&&(a.area="Î©¥Ï†ÅÏùÄ 0Î≥¥Îã§ Ïª§Ïïº Ìï©ÎãàÎã§"),(!t.floor||t.floor<1)&&(a.floor="Ï∏µÏàòÎäî 1Ï∏µ Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§"),(!t.total_floors||t.total_floors<(t.floor||1))&&(a.total_floors="Ï†ÑÏ≤¥ Ï∏µÏàòÎäî Ìï¥Îãπ Ï∏µÏàòÎ≥¥Îã§ ÌÅ¨Í±∞ÎÇò Í∞ôÏïÑÏïº Ìï©ÎãàÎã§"),(!t.rooms||t.rooms<1)&&(a.rooms="Î∞© Í∞úÏàòÎäî 1Í∞ú Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§"),(!t.bathrooms||t.bathrooms<1)&&(a.bathrooms="ÌôîÏû•Ïã§ Í∞úÏàòÎäî 1Í∞ú Ïù¥ÏÉÅÏù¥Ïñ¥Ïïº Ìï©ÎãàÎã§"),t.transaction_type==="Îß§Îß§"&&(!t.price||t.price<=0)&&(a.price="Îß§Îß§Í∞ÄÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),t.transaction_type==="Ï†ÑÏÑ∏"&&(!t.deposit||t.deposit<=0)&&(a.deposit="Ï†ÑÏÑ∏Í∏àÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),t.transaction_type==="ÏõîÏÑ∏"&&((!t.deposit||t.deposit<=0)&&(a.deposit="Î≥¥Ï¶ùÍ∏àÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî"),(!t.monthly_rent||t.monthly_rent<=0)&&(a.monthly_rent="ÏõîÏÑ∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî")),h(a),Object.keys(a).length===0},E=async a=>{if(a.preventDefault(),!(!M()||u)){b(!0);try{await n(t),alert("‚úÖ Îß§Î¨ºÏù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§!"),r()}catch(N){const j=N instanceof Error?N.message:"Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.";alert(`‚ùå Îß§Î¨º ÏàòÏ†ï Ïã§Ìå®: ${j}`)}finally{b(!1)}}};return s?e.jsx(U,{isOpen:s,onClose:r,size:"lg",children:e.jsxs(R,{children:[e.jsx(T,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(F,{children:"Îß§Î¨º Ï†ïÎ≥¥ ÏàòÏ†ï"}),e.jsx(v,{variant:"ghost",size:"sm",onClick:r,className:"p-1 h-8 w-8",children:e.jsx(w,{size:16})})]})}),e.jsx(L,{children:e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Í∏∞Î≥∏ Ï†ïÎ≥¥"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(o,{label:"Îß§Î¨º Ï†úÎ™©",value:t.title||"",onChange:a=>d("title",a.target.value),error:i.title,placeholder:"Ïòà: Í∞ïÎÇ®Íµ¨ Ïã†ÏÇ¨Îèô Îü≠ÏÖîÎ¶¨ ÏïÑÌååÌä∏",required:!0})}),e.jsx(p,{label:"Îß§Î¨º Ïú†Ìòï",value:t.type||"",onChange:a=>d("type",a.target.value),options:B.map(a=>({value:a,label:a})),required:!0}),e.jsx(p,{label:"Í±∞Îûò Ïú†Ìòï",value:t.transaction_type||"",onChange:a=>d("transaction_type",a.target.value),options:V.map(a=>({value:a,label:a})),required:!0}),e.jsx(p,{label:"Îß§Î¨º ÏÉÅÌÉú",value:t.status||"",onChange:a=>d("status",a.target.value),options:W.map(a=>({value:a,label:a})),required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ÏúÑÏπò Ï†ïÎ≥¥"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsx(o,{label:"Ï£ºÏÜå",value:t.address||"",onChange:a=>d("address",a.target.value),error:i.address,placeholder:"Ïòà: ÏÑúÏö∏Ïãú Í∞ïÎÇ®Íµ¨ Ïã†ÏÇ¨Îèô 123-45",required:!0})}),e.jsx(o,{label:"ÏÉÅÏÑ∏ Ï£ºÏÜå",value:t.detailed_address||"",onChange:a=>d("detailed_address",a.target.value),placeholder:"Ïòà: 123Îèô 456Ìò∏"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Îß§Î¨º Ï†ïÎ≥¥"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(o,{label:"Î©¥Ï†Å (m¬≤)",type:"number",value:t.area||"",onChange:a=>d("area",parseFloat(a.target.value)||0),error:i.area,placeholder:"85.0",min:"0",step:"0.1",required:!0}),e.jsx(o,{label:"Ï∏µÏàò",type:"number",value:t.floor||"",onChange:a=>d("floor",parseInt(a.target.value)||1),error:i.floor,placeholder:"15",min:"1",required:!0}),e.jsx(o,{label:"Ï†ÑÏ≤¥ Ï∏µÏàò",type:"number",value:t.total_floors||"",onChange:a=>d("total_floors",parseInt(a.target.value)||1),error:i.total_floors,placeholder:"25",min:"1",required:!0}),e.jsx(o,{label:"Î∞© Í∞úÏàò",type:"number",value:t.rooms||"",onChange:a=>d("rooms",parseInt(a.target.value)||1),error:i.rooms,placeholder:"3",min:"1",required:!0}),e.jsx(o,{label:"ÌôîÏû•Ïã§ Í∞úÏàò",type:"number",value:t.bathrooms||"",onChange:a=>d("bathrooms",parseInt(a.target.value)||1),error:i.bathrooms,placeholder:"2",min:"1",required:!0})]}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:t.parking||!1,onChange:a=>d("parking",a.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Ï£ºÏ∞® Í∞ÄÎä•"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:t.elevator||!1,onChange:a=>d("elevator",a.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"ÏóòÎ¶¨Î≤†Ïù¥ÌÑ∞"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Í∞ÄÍ≤© Ï†ïÎ≥¥"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.transaction_type==="Îß§Îß§"&&e.jsx(o,{label:"Îß§Îß§Í∞Ä (ÎßåÏõê)",type:"number",value:t.price||"",onChange:a=>d("price",parseInt(a.target.value)||void 0),error:i.price,placeholder:"35000",min:"0",required:!0}),(t.transaction_type==="Ï†ÑÏÑ∏"||t.transaction_type==="ÏõîÏÑ∏")&&e.jsx(o,{label:t.transaction_type==="Ï†ÑÏÑ∏"?"Ï†ÑÏÑ∏Í∏à (ÎßåÏõê)":"Î≥¥Ï¶ùÍ∏à (ÎßåÏõê)",type:"number",value:t.deposit||"",onChange:a=>d("deposit",parseInt(a.target.value)||void 0),error:i.deposit,placeholder:"21000",min:"0",required:!0}),t.transaction_type==="ÏõîÏÑ∏"&&e.jsx(o,{label:"ÏõîÏÑ∏ (ÎßåÏõê)",type:"number",value:t.monthly_rent||"",onChange:a=>d("monthly_rent",parseInt(a.target.value)||void 0),error:i.monthly_rent,placeholder:"65",min:"0",required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"ÏûÑÎåÄÏù∏ Ï†ïÎ≥¥"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(o,{label:"ÏûÑÎåÄÏù∏ Ïù¥Î¶Ñ",value:t.landlord_name||"",onChange:a=>d("landlord_name",a.target.value),placeholder:"ÌôçÍ∏∏Îèô"}),e.jsx(o,{label:"ÏûÑÎåÄÏù∏ Ïó∞ÎùΩÏ≤ò",value:t.landlord_phone||"",onChange:a=>d("landlord_phone",a.target.value),placeholder:"010-1234-5678"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Í∏∞ÌÉÄ Ï†ïÎ≥¥"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsx(o,{label:"Ìá¥Ïã§ ÏòàÏ†ïÏùº",type:"date",value:t.exit_date||"",onChange:a=>d("exit_date",a.target.value)})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Îß§Î¨º ÏÑ§Î™Ö"}),e.jsx("textarea",{value:t.description||"",onChange:a=>d("description",a.target.value),placeholder:"Îß§Î¨ºÏóê ÎåÄÌïú ÏÉÅÏÑ∏Ìïú ÏÑ§Î™ÖÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[e.jsx(v,{type:"button",variant:"outline",onClick:r,disabled:c,children:"Ï∑®ÏÜå"}),e.jsx(v,{type:"submit",variant:"primary",loading:c||u,leftIcon:e.jsx(K,{size:16}),children:"ÏàòÏ†ï ÏôÑÎ£å"})]})]})})]})}):null};export{Q as P,Z as a,ee as b,I as f};
