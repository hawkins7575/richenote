const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/DashboardPage-DCjKFr7_.js","js/react-vendor-DS3Z5Hf_.js","js/useProperties-Clv9Am2z.js","js/ui-vendor-DnkZPEX2.js","js/supabase-vendor-CCigGT7m.js","js/PropertyEditForm-BG4Tl00T.js","js/useMobileDetection-BYhEgXwQ.js","assets/PropertyEditForm-BQDkVj3v.css","js/teamService-D9lQpoVV.js","js/scheduleService-DGqpjI1l.js","js/utils-vendor-BJeS7sC5.js","js/PropertiesPageNew-BdOpYFBb.js","js/SchedulePage-DU-tW2UP.js","js/TeamPage-CX8PVl-W.js","js/SettingsPage-DQ2ROFoL.js","js/UserGuidePage-CN3VMxk3.js","js/InvitationAccept-CxJyq-TK.js"])))=>i.map(i=>d[i]);
import{r as l,a as Ce,R as I,u as Ee,L as A,B as Pe,b as M,d as N,N as Ie}from"./react-vendor-DS3Z5Hf_.js";import{c as ke,_ as k}from"./supabase-vendor-CCigGT7m.js";import{c as ee,t as ze}from"./utils-vendor-BJeS7sC5.js";import{C as te,D as B,M as Le,X as re,A as Oe,a as F,b as se,U as ae,B as Re,c as ne,L as W,E as $,d as q,S as ie,e as Ae,H as D,P as H,f as De,g as Ue,h as Te}from"./ui-vendor-DnkZPEX2.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var le={exports:{}},T={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ve=l,Me=Symbol.for("react.element"),Be=Symbol.for("react.fragment"),Fe=Object.prototype.hasOwnProperty,We=Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$e={key:!0,ref:!0,__self:!0,__source:!0};function oe(t,s,r){var a,n={},i=null,c=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(c=s.ref);for(a in s)Fe.call(s,a)&&!$e.hasOwnProperty(a)&&(n[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:Me,type:t,key:i,ref:c,props:n,_owner:We.current}}T.Fragment=Be;T.jsx=oe;T.jsxs=oe;le.exports=T;var e=le.exports,Y={},K=Ce;Y.createRoot=K.createRoot,Y.hydrateRoot=K.hydrateRoot;const ce="https://wlrsoyujrmeviczczfsh.supabase.co",de="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndscnNveXVqcm1ldmljemN6ZnNoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxNDM5NjUsImV4cCI6MjA2OTcxOTk2NX0.ZHepp6oDnIfG73nSERBGcgBis-iuumOvVlijUP4fu1Y";if(ce.includes("your-project")||de.includes("your-anon-key"))throw new Error("í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì˜¬ë°”ë¥¸ Supabase í™˜ê²½ ë³€ìˆ˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.");let V=null;const _=(V||(V=ke(ce,de,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"sb-auth-token"}})),V);class qe{formatMessage(s,r,a){const i={timestamp:new Date().toISOString(),level:s.toLowerCase(),message:r,...a};return JSON.stringify(i)}shouldLog(s){return s==="WARN"||s==="ERROR"}debug(s,r){this.shouldLog("DEBUG")}info(s,r){this.shouldLog("INFO")}warn(s,r){this.shouldLog("WARN")}error(s,r){this.shouldLog("ERROR")}devLog(s,...r){}}const v=new qe,ue=l.createContext(void 0),O=()=>{const t=l.useContext(ue);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Ye=({children:t})=>{const[s,r]=l.useState(null),[a,n]=l.useState(null),[i,c]=l.useState(!0);l.useEffect(()=>{v.info("ğŸ” ì¸ì¦ ì´ˆê¸°í™” ì‹œì‘"),(async()=>{try{const x=new Promise((w,E)=>setTimeout(()=>E(new Error("Session check timeout")),5e3)),o=_.auth.getSession(),{data:{session:u},error:j}=await Promise.race([o,x]);if(j){v.error("Error getting session:",{message:j.message}),c(!1);return}if(n(u),u?.user)try{const w=_.from("user_profiles").select("*").eq("id",u.user.id).single(),E=new Promise((vt,Se)=>setTimeout(()=>Se(new Error("Profile fetch timeout")),3e3)),{data:C}=await Promise.race([w,E]),_e=C?.tenant_id||u.user.id;r({id:u.user.id,email:u.user.email,name:C?.name||u.user.user_metadata?.name||"",role:C?.role||"owner",tenant_id:_e,avatar_url:C?.avatar_url||null,created_at:u.user.created_at,last_sign_in_at:u.user.last_sign_in_at||null})}catch(w){v.error("Error fetching profile:",{error:w}),r({id:u.user.id,email:u.user.email,name:u.user.user_metadata?.name||u.user.email,role:"owner",tenant_id:u.user.id,avatar_url:null,created_at:u.user.created_at,last_sign_in_at:u.user.last_sign_in_at||null})}}catch(x){v.error("Error in getSession:",{error:x})}finally{c(!1)}})();const{data:{subscription:g}}=_.auth.onAuthStateChange(async(x,o)=>{if(v.info("ğŸ” Auth state changed:",{event:x,userId:o?.user?.id,userEmail:o?.user?.email}),n(o),o?.user)try{const u=_.from("user_profiles").select("*").eq("id",o.user.id).single(),j=new Promise((E,C)=>setTimeout(()=>C(new Error("Profile fetch timeout")),3e3)),{data:w}=await Promise.race([u,j]);r({id:o.user.id,email:o.user.email,name:w?.name||o.user.user_metadata?.name||"",role:w?.role||"owner",tenant_id:w?.tenant_id||o.user.id,avatar_url:w?.avatar_url||null,created_at:o.user.created_at,last_sign_in_at:o.user.last_sign_in_at||null})}catch(u){v.error("Error fetching profile in auth state change:",{error:u}),r({id:o.user.id,email:o.user.email,name:o.user.user_metadata?.name||o.user.email,role:"owner",tenant_id:o.user.id,avatar_url:null,created_at:o.user.created_at,last_sign_in_at:o.user.last_sign_in_at||null})}else r(null);c(!1)});return()=>g.unsubscribe()},[]);const d=async h=>{try{const g=await _.auth.signUp({email:h.email,password:h.password,options:{data:{name:h.name,company:h.company}}});if(g.data.user&&!g.error)try{v.info("ğŸ‘¤ ì‚¬ìš©ìë³„ ë…ë¦½ í”„ë¡œí•„ ìƒì„±:",{userId:g.data.user.id});const{error:x}=await _.from("user_profiles").insert({id:g.data.user.id,email:h.email,name:h.name,role:"owner",tenant_id:g.data.user.id});x?v.error("Error creating user profile:",{error:x}):v.info("âœ… ì‚¬ìš©ìë³„ ë…ë¦½ í”„ë¡œí•„ ìƒì„± ì™„ë£Œ")}catch(x){v.error("Error in profile creation process:",{error:x})}return g}catch(g){return v.error("Sign up error:",{error:g}),{user:null,error:g}}},y=async h=>{try{return await _.auth.signInWithPassword({email:h.email,password:h.password})}catch(g){return v.error("Sign in error:",{error:g}),{user:null,error:g}}},m=async()=>{try{const h=await _.auth.signOut();return r(null),n(null),h}catch(h){return v.error("Sign out error:",{error:h}),{error:h}}},b=async h=>{try{return await _.auth.resetPasswordForEmail(h,{redirectTo:`${window.location.origin}/reset-password`})}catch(g){return v.error("Reset password error:",{error:g}),{error:g}}},p=async()=>{try{if(v.info("ğŸ” getCurrentUser í˜¸ì¶œë¨"),s&&!i)return v.info("âœ… ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©ì ë°˜í™˜",{userId:s.id}),s;v.info("ğŸ”„ Supabase ì„¸ì…˜ ìƒˆë¡œê³ ì¹¨ ì‹œë„...");const{data:h,error:g}=await _.auth.refreshSession();g?v.warn("âš ï¸ ì„¸ì…˜ ìƒˆë¡œê³ ì¹¨ ì‹¤íŒ¨, ì§ì ‘ ì‚¬ìš©ì í™•ì¸:",{error:g.message}):h.session&&v.info("âœ… ì„¸ì…˜ ìƒˆë¡œê³ ì¹¨ ì„±ê³µ");const{data:{user:x},error:o}=await _.auth.getUser();if(o||!x)return v.error("âŒ getCurrentUser ì‹¤íŒ¨:",{error:o?.message}),null;try{const{data:u}=await _.from("user_profiles").select("*").eq("id",x.id).single(),j={id:x.id,email:x.email,name:u?.name||x.user_metadata?.name||"",role:u?.role||"owner",tenant_id:u?.tenant_id||x.id,avatar_url:u?.avatar_url||null,created_at:x.created_at,last_sign_in_at:x.last_sign_in_at||null};return v.info("âœ… getCurrentUser ì„±ê³µ:",{userId:j.id}),j}catch(u){return v.error("í”„ë¡œí•„ ì¡°íšŒ ì‹¤íŒ¨, ê¸°ë³¸ ì‚¬ìš©ì ì •ë³´ ë°˜í™˜:",{error:u}),{id:x.id,email:x.email,name:x.user_metadata?.name||x.email,role:"owner",tenant_id:x.id,avatar_url:null,created_at:x.created_at,last_sign_in_at:x.last_sign_in_at||null}}}catch(h){return v.error("getCurrentUser ì „ì²´ ì‹¤íŒ¨:",{error:h}),null}},f=l.useMemo(()=>({user:s,session:a,loading:i,signUp:d,signIn:y,signOut:m,resetPassword:b,getCurrentUser:p}),[s,a,i]);return e.jsx(ue.Provider,{value:f,children:t})},me=l.createContext(null),Je=({children:t})=>{const{user:s}=O(),[r,a]=l.useState(null),[n,i]=l.useState(!1),[c,d]=l.useState(null),y=async o=>{i(!0);try{const{data:u,error:j}=await _.from("tenants").select("*").eq("id",o).single();if(j)throw j;a(u),d(null)}catch{d("í…Œë„ŒíŠ¸ ì „í™˜ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{i(!1)}},m=async o=>{if(r){i(!0);try{const{data:u,error:j}=await _.from("tenants").update(o).eq("id",r.id).select().single();if(j)throw j;a(u),d(null)}catch{d("í…Œë„ŒíŠ¸ ì—…ë°ì´íŠ¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{i(!1)}}},b=async()=>{if(!r)return{total_properties:0,active_properties:0,total_users:0,active_users:0,storage_used_mb:0,api_calls_this_month:0,created_this_month:0};try{const{data:o,error:u}=await _.from("properties").select("id, status, created_at").eq("tenant_id",r.id);if(u)throw u;return{total_properties:o.length,active_properties:o.length,total_users:1,active_users:1,storage_used_mb:0,api_calls_this_month:0,created_this_month:o.filter(w=>{const E=new Date(w.created_at||Date.now()),C=new Date;return E.getMonth()===C.getMonth()&&E.getFullYear()===C.getFullYear()}).length}}catch{return{total_properties:0,active_properties:0,total_users:0,active_users:0,storage_used_mb:0,api_calls_this_month:0,created_this_month:0}}},p=o=>r?.limits?.features_enabled?.includes(o)||!1,f=()=>(r?.limits,!0),h=()=>(r?.limits,!0),g=o=>(r?.limits,!0);l.useEffect(()=>{s&&!r&&(async()=>{i(!0);const u={id:s.id,name:`${s.name||"ì‚¬ìš©ì"}ì˜ ë¶€ë™ì‚°`,slug:`user-${s.id}`,plan:"starter",status:"trial",trial_ends_at:new Date(Date.now()+30*24*60*60*1e3).toISOString(),branding:{primary_color:"#3b82f6",secondary_color:"#1d4ed8",accent_color:"#f59e0b"},limits:{max_properties:50,max_users:2,max_storage_gb:1,max_api_calls_per_month:1e3,features_enabled:["basic"]},settings:{timezone:"Asia/Seoul",date_format:"YYYY-MM-DD",currency:"KRW",language:"ko",require_exit_date:!0,require_landlord_info:!0,email_notifications:!0,sms_notifications:!1,browser_notifications:!0,require_2fa:!1,session_timeout_minutes:480},created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:s.id};a(u),d(null),i(!1)})()},[s,r]),l.useEffect(()=>{if(r?.branding){const o=document.documentElement;o.style.setProperty("--tenant-primary",r.branding.primary_color),o.style.setProperty("--tenant-secondary",r.branding.secondary_color||"#6b7280"),o.style.setProperty("--tenant-accent",r.branding.accent_color||"#f59e0b"),document.title=`${r.name} - PropertyDesk`}},[r]);const x={tenant:r,isLoading:n,error:c,switchTenant:y,updateTenant:m,getTenantStats:b,hasFeature:p,canCreateProperty:f,canInviteUser:h,isWithinLimits:g};return e.jsx(me.Provider,{value:x,children:t})},Ge=()=>{const t=l.useContext(me);if(!t)throw new Error("useTenant must be used within a TenantProvider");return t},Z=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,X=ee,R=(t,s)=>r=>{var a;if(s?.variants==null)return X(t,r?.class,r?.className);const{variants:n,defaultVariants:i}=s,c=Object.keys(n).map(m=>{const b=r?.[m],p=i?.[m];if(b===null)return null;const f=Z(b)||Z(p);return n[m][f]}),d=r&&Object.entries(r).reduce((m,b)=>{let[p,f]=b;return f===void 0||(m[p]=f),m},{}),y=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((m,b)=>{let{class:p,className:f,...h}=b;return Object.entries(h).every(g=>{let[x,o]=g;return Array.isArray(o)?o.includes({...i,...d}[x]):{...i,...d}[x]===o})?[...m,p,f]:m},[]);return X(t,c,y,r?.class,r?.className)};function S(...t){return ze(ee(t))}const He=R("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-lg hover:from-primary-700 hover:to-primary-800 hover:shadow-xl transform hover:-translate-y-0.5 focus-visible:ring-primary-500",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400 focus-visible:ring-gray-500",danger:"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800 focus-visible:ring-red-500",destructive:"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800 focus-visible:ring-red-500",ghost:"text-gray-600 hover:text-gray-800 hover:bg-gray-100 focus-visible:ring-gray-500",outline:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50 hover:border-gray-400 focus-visible:ring-gray-500",tenant:"bg-gradient-to-r from-tenant-primary to-tenant-primary text-white shadow-lg hover:opacity-90 transform hover:-translate-y-0.5 focus-visible:ring-tenant-primary"},size:{sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-2",lg:"h-12 px-6 py-3 text-base",icon:"h-10 w-10"},fullWidth:{true:"w-full"}},defaultVariants:{variant:"primary",size:"md"}}),L=l.memo(I.forwardRef(({className:t,variant:s,size:r,fullWidth:a,loading:n,leftIcon:i,rightIcon:c,children:d,disabled:y,...m},b)=>e.jsx("button",{className:S(He({variant:s,size:r,fullWidth:a,className:t})),ref:b,disabled:y||n,...m,children:n?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ë¡œë”© ì¤‘..."]}):e.jsxs(e.Fragment,{children:[i&&e.jsx("span",{className:"mr-2",children:i}),d,c&&e.jsx("span",{className:"ml-2",children:c})]})})));L.displayName="Button";const Ke=R("flex w-full rounded-lg border bg-white px-3 py-2 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"border-gray-300 focus-visible:border-primary-500 focus-visible:ring-primary-500",error:"border-red-300 focus-visible:border-red-500 focus-visible:ring-red-500",success:"border-green-300 focus-visible:border-green-500 focus-visible:ring-green-500"},size:{sm:"h-8 px-2 text-xs",md:"h-10 px-3",lg:"h-12 px-4 text-base"}},defaultVariants:{variant:"default",size:"md"}}),P=I.forwardRef(({className:t,variant:s,size:r,label:a,error:n,helperText:i,leftIcon:c,rightIcon:d,id:y,...m},b)=>{const p=y||`input-${Math.random().toString(36).substr(2,9)}`,h=!!n?"error":s;return e.jsxs("div",{className:"w-full",children:[a&&e.jsxs("label",{htmlFor:p,className:"block text-sm font-medium text-gray-700 mb-2",children:[a,m.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[c&&e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-400",children:c})}),e.jsx("input",{id:p,className:S(Ke({variant:h,size:r}),c&&"pl-10",d&&"pr-10",t),ref:b,...m}),d&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-400",children:d})})]}),n&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),i&&!n&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i})]})});P.displayName="Input";const Ze=R("flex w-full rounded-lg border bg-white px-3 py-2 text-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none cursor-pointer",{variants:{variant:{default:"border-gray-300 focus-visible:border-primary-500 focus-visible:ring-primary-500",error:"border-red-300 focus-visible:border-red-500 focus-visible:ring-red-500",success:"border-green-300 focus-visible:border-green-500 focus-visible:ring-green-500"},size:{sm:"h-8 px-2 text-xs",md:"h-10 px-3",lg:"h-12 px-4 text-base"}},defaultVariants:{variant:"default",size:"md"}}),Xe=I.forwardRef(({className:t,variant:s,size:r,label:a,error:n,helperText:i,options:c,placeholder:d,id:y,...m},b)=>{const p=y||`select-${Math.random().toString(36).substr(2,9)}`,h=!!n?"error":s;return e.jsxs("div",{className:"w-full",children:[a&&e.jsxs("label",{htmlFor:p,className:"block text-sm font-medium text-gray-700 mb-2",children:[a,m.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:p,className:S(Ze({variant:h,size:r}),"pr-10",t),ref:b,...m,children:[d&&e.jsx("option",{value:"",disabled:!0,children:d}),c.map(g=>e.jsx("option",{value:g.value,disabled:g.disabled,children:g.label},g.value))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx(te,{className:"h-4 w-4 text-gray-400"})})]}),n&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),i&&!n&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i})]})});Xe.displayName="Select";const Qe=R("card rounded-lg border bg-white transition-all duration-200",{variants:{variant:{default:"border-gray-200 shadow-sm hover:shadow-md",elevated:"border-gray-200 shadow-lg hover:shadow-xl",outline:"border-gray-300",ghost:"border-transparent shadow-none"},padding:{none:"",sm:"p-4",md:"p-6",lg:"p-8"},clickable:{true:"cursor-pointer hover:border-gray-300 transform hover:-translate-y-0.5"}},defaultVariants:{variant:"default",padding:"md"}}),J=I.forwardRef(({className:t,variant:s,padding:r,clickable:a,children:n,...i},c)=>e.jsx("div",{ref:c,className:S(Qe({variant:s,padding:r,clickable:a}),t),...i,children:n}));J.displayName="Card";const xe=({children:t,className:s})=>e.jsx("div",{className:S("flex flex-col space-y-1.5 p-6 pb-4",s),children:t}),he=({children:t,className:s})=>e.jsx("h3",{className:S("text-lg font-semibold leading-none tracking-tight",s),children:t}),ge=({children:t,className:s})=>e.jsx("div",{className:S("p-6 pt-0",s),children:t}),et=R("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors",{variants:{variant:{default:"bg-gray-100 text-gray-800",primary:"bg-primary-100 text-primary-800",secondary:"bg-gray-100 text-gray-600",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",available:"bg-green-100 text-green-800",reserved:"bg-yellow-100 text-yellow-800",sold:"bg-gray-100 text-gray-600",sale:"bg-red-100 text-red-700",jeonse:"bg-green-100 text-green-700",monthly:"bg-blue-100 text-blue-700",tenant:"bg-tenant-primary bg-opacity-10 text-tenant-primary"},size:{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}},defaultVariants:{variant:"default",size:"md"}}),fe=I.forwardRef(({className:t,variant:s,size:r,children:a,...n},i)=>e.jsx("div",{ref:i,className:S(et({variant:s,size:r}),t),...n,children:a}));fe.displayName="Badge";const St=({status:t,className:s})=>{const r={ê±°ë˜ì¤‘:"available",ê±°ë˜ì™„ë£Œ:"sold"};return e.jsx(fe,{variant:r[t],className:s,children:t})},U=({size:t="md",text:s,className:r,fullScreen:a=!1})=>{const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"},i=e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[e.jsxs("svg",{className:S("animate-spin text-primary-600",n[t],r),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s&&e.jsx("p",{className:"text-sm text-gray-600 animate-pulse",children:s})]});return a?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white bg-opacity-80",children:i}):i},tt=()=>{const[t,s]=l.useState(null),[r,a]=l.useState(!1),[n,i]=l.useState(!1);l.useEffect(()=>{const y=p=>{p.preventDefault(),s(p),a(!0)},m=()=>{i(!0),a(!1),s(null)},b=()=>{window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches&&i(!0)};return window.addEventListener("beforeinstallprompt",y),window.addEventListener("appinstalled",m),b(),()=>{window.removeEventListener("beforeinstallprompt",y),window.removeEventListener("appinstalled",m)}},[]);const c=async()=>{if(t)try{await t.prompt();const{outcome:y}=await t.userChoice;y==="accepted"&&a(!1),s(null)}catch{}},d=()=>{a(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return n||!r||!t?null:e.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Le,{className:"w-5 h-5 text-blue-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"PCì— ë°”ë¡œê°€ê¸° ë§Œë“¤ê¸°"}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"ë¦¬ì²´ ë§¤ë¬¼ì¥ì„ PC ë°”íƒ•í™”ë©´ì— ì„¤ì¹˜í•˜ì—¬ ë” í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•˜ì„¸ìš”."}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:c,className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded hover:bg-blue-700 transition-colors",children:[e.jsx(B,{className:"w-3 h-3 mr-1"}),"ì„¤ì¹˜í•˜ê¸°"]}),e.jsx("button",{onClick:d,className:"inline-flex items-center px-3 py-1.5 bg-gray-100 text-gray-700 text-xs font-medium rounded hover:bg-gray-200 transition-colors",children:"ë‚˜ì¤‘ì—"})]})]}),e.jsx("button",{onClick:d,className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(re,{className:"w-4 h-4"})})]})})},Ct=()=>{const[t,s]=l.useState(null),[r,a]=l.useState(!1),[n,i]=l.useState(!1);l.useEffect(()=>{const d=m=>{m.preventDefault(),s(m),i(!0)},y=()=>{if(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches){a(!0);return}if(window.navigator.standalone===!0){a(!0);return}"serviceWorker"in navigator&&"BeforeInstallPromptEvent"in window&&i(!0)};return window.addEventListener("beforeinstallprompt",d),y(),()=>{window.removeEventListener("beforeinstallprompt",d)}},[]);const c=async()=>{if(!t){const d=navigator.userAgent.toLowerCase(),y=d.includes("ipad")||d.includes("iphone")||d.includes("ipod"),m=d.includes("android");alert(y?`iOS Safariì—ì„œ ì„¤ì¹˜í•˜ê¸°:

1. í•˜ë‹¨ì˜ ê³µìœ  ë²„íŠ¼(â¬†ï¸) í„°ì¹˜
2. "í™ˆ í™”ë©´ì— ì¶”ê°€" ì„ íƒ
3. "ì¶”ê°€" ë²„íŠ¼ í„°ì¹˜`:m?`Android Chromeì—ì„œ ì„¤ì¹˜í•˜ê¸°:

1. ìš°ìƒë‹¨ ë©”ë‰´(â‹®) í„°ì¹˜
2. "í™ˆ í™”ë©´ì— ì¶”ê°€" ë˜ëŠ” "ì•± ì„¤ì¹˜" ì„ íƒ`:`PCì—ì„œ ì„¤ì¹˜í•˜ê¸°:

1. Chrome/Edge ì£¼ì†Œì°½ ìš°ì¸¡ì˜ ì„¤ì¹˜ ì•„ì´ì½˜ í´ë¦­
2. ë˜ëŠ” ë¸Œë¼ìš°ì € ë©”ë‰´ì—ì„œ "ì•± ì„¤ì¹˜" ì„ íƒ`);return}try{await t.prompt();const{outcome:d}=await t.userChoice;d==="accepted"&&(a(!0),alert("âœ… ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ë°”íƒ•í™”ë©´ì—ì„œ ì•±ì„ í™•ì¸í•´ë³´ì„¸ìš”.")),s(null)}catch{alert('ì„¤ì¹˜ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì € ë©”ë‰´ì—ì„œ "ì•± ì„¤ì¹˜"ë¥¼ ì‹œë„í•´ë³´ì„¸ìš”.')}};return r?e.jsxs("div",{className:"inline-flex items-center px-3 py-2 bg-green-100 text-green-700 text-sm font-medium rounded-lg",children:[e.jsx("span",{className:"w-4 h-4 mr-2",children:"âœ…"}),"ì„¤ì¹˜ ì™„ë£Œ"]}):!n&&!t?e.jsxs("button",{onClick:c,className:"inline-flex items-center px-3 py-2 bg-gray-500 text-white text-sm font-medium rounded-lg hover:bg-gray-600 transition-colors",title:"ë¸Œë¼ìš°ì €ì—ì„œ ìˆ˜ë™ ì„¤ì¹˜ ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤",children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"ì„¤ì¹˜ ë°©ë²• ë³´ê¸°"]}):e.jsxs("button",{onClick:c,className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors active:bg-blue-800",disabled:!1,children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"PCì— ì„¤ì¹˜"]})},rt=l.memo(({src:t,alt:s,className:r,placeholder:a="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20version='1.1'%20width='300'%20height='200'%3e%3c/svg%3e",fallback:n="/images/no-image.png",onLoad:i,onError:c})=>{const[d,y]=l.useState(!1),[m,b]=l.useState(!1),[p,f]=l.useState(!1),h=l.useRef(null);l.useEffect(()=>{const o=new IntersectionObserver(([u])=>{u.isIntersecting&&(f(!0),o.disconnect())},{rootMargin:"50px",threshold:.1});return h.current&&o.observe(h.current),()=>o.disconnect()},[]);const g=()=>{y(!0),i?.()},x=o=>{b(!0),c?.(o.nativeEvent)};return e.jsxs("div",{className:S("relative overflow-hidden bg-gray-100",r),children:[!d&&!m&&e.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin"})}),e.jsx("img",{ref:h,src:p?m?n:t:a,alt:s,className:S("w-full h-full object-cover transition-opacity duration-300",d?"opacity-100":"opacity-0"),onLoad:g,onError:x,loading:"lazy",decoding:"async"}),m&&e.jsxs("div",{className:"absolute inset-0 bg-gray-100 flex flex-col items-center justify-center text-gray-400",children:[e.jsx("svg",{className:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"text-xs",children:"ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"})]})]})});rt.displayName="LazyImage";const st=({onBackToLogin:t})=>{const{signUp:s}=O(),[r,a]=l.useState(!1),[n,i]=l.useState(!1),[c,d]=l.useState(!1),[y,m]=l.useState(null),[b,p]=l.useState(null),[f,h]=l.useState({email:"",password:"",confirmPassword:"",name:"",company:""}),g=async o=>{if(o.preventDefault(),d(!0),m(null),p(null),f.password!==f.confirmPassword){m("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."),d(!1);return}if(f.password.length<8){m("ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤."),d(!1);return}const{error:u}=await s({email:f.email,password:f.password,name:f.name,company:f.company});u?u.message.includes("User already registered")?m("ì´ë¯¸ ë“±ë¡ëœ ì´ë©”ì¼ ì£¼ì†Œì…ë‹ˆë‹¤."):m(u.message):(p("íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ì´ë©”ì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”."),setTimeout(()=>{t()},3e3)),d(!1)},x=o=>{const{name:u,value:j}=o.target;h(w=>({...w,[u]:j})),m(null),p(null)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-blue-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-full text-white text-2xl font-bold mb-4",children:"ë¦¬"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"ë¦¬ì²´ ë§¤ë¬¼ì¥"}),e.jsx("p",{className:"text-gray-600",children:"ë¶€ë™ì‚° ì „ë¬¸ ê´€ë¦¬ ì†”ë£¨ì…˜"})]}),e.jsxs(J,{className:"shadow-xl",children:[e.jsx(xe,{children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(Oe,{size:20,className:"text-gray-600"})}),e.jsx(he,{children:"íšŒì›ê°€ì…"})]})}),e.jsxs(ge,{children:[e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-blue-50 border border-blue-200 rounded-lg text-blue-700",children:[e.jsx(F,{size:16}),e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{children:"ë² íƒ€ í…ŒìŠ¤íŠ¸ ì¤‘:"})," ì´ë©”ì¼ ì¸ì¦ ì—†ì´ ì¦‰ì‹œ ë¡œê·¸ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤."]})]}),y&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[e.jsx(se,{size:16}),e.jsx("span",{className:"text-sm",children:y})]}),b&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700",children:[e.jsx(F,{size:16}),e.jsx("span",{className:"text-sm",children:b})]}),e.jsx("div",{children:e.jsx(P,{type:"text",name:"name",placeholder:"ì´ë¦„",value:f.name,onChange:x,leftIcon:e.jsx(ae,{size:20}),required:!0})}),e.jsx("div",{children:e.jsx(P,{type:"text",name:"company",placeholder:"íšŒì‚¬ëª… (ì„ íƒì‚¬í•­)",value:f.company,onChange:x,leftIcon:e.jsx(Re,{size:20})})}),e.jsx("div",{children:e.jsx(P,{type:"email",name:"email",placeholder:"ì´ë©”ì¼ ì£¼ì†Œ",value:f.email,onChange:x,leftIcon:e.jsx(ne,{size:20}),required:!0})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx(P,{type:r?"text":"password",name:"password",placeholder:"ë¹„ë°€ë²ˆí˜¸ (8ì ì´ìƒ)",value:f.password,onChange:x,leftIcon:e.jsx(W,{size:20}),required:!0}),e.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?e.jsx($,{size:20}):e.jsx(q,{size:20})})]})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx(P,{type:n?"text":"password",name:"confirmPassword",placeholder:"ë¹„ë°€ë²ˆí˜¸ í™•ì¸",value:f.confirmPassword,onChange:x,leftIcon:e.jsx(W,{size:20}),required:!0}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?e.jsx($,{size:20}):e.jsx(q,{size:20})})]})}),f.password&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:`h-1 flex-1 rounded ${f.password.length>=8?"bg-green-500":"bg-red-500"}`}),e.jsx("div",{className:`h-1 flex-1 rounded ${f.password.length>=12?"bg-green-500":"bg-gray-200"}`}),e.jsx("div",{className:`h-1 flex-1 rounded ${/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(f.password)?"bg-green-500":"bg-gray-200"}`})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"ìµœì†Œ 8ì, 12ì ì´ìƒ ë° íŠ¹ìˆ˜ë¬¸ì í¬í•¨ ê¶Œì¥"})]}),e.jsx(L,{type:"submit",variant:"primary",size:"lg",className:"w-full",loading:c,disabled:b!==null,children:"íšŒì›ê°€ì…"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”?"," ",e.jsx("button",{onClick:t,className:"text-primary-600 hover:text-primary-700 font-medium underline",children:"ë¡œê·¸ì¸"})]})})]})]}),e.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:e.jsx("p",{children:"Â© 2025 ë¦¬ì²´ ë§¤ë¬¼ì¥. All rights reserved."})})]})})},at=()=>{const{signIn:t,resetPassword:s}=O(),[r,a]=l.useState(!1),[n,i]=l.useState(!1),[c,d]=l.useState(!1),[y,m]=l.useState(!1),[b,p]=l.useState(null),[f,h]=l.useState(null),[g,x]=l.useState({email:"",password:""}),o=async j=>{if(j.preventDefault(),m(!0),p(null),h(null),n){const{error:w}=await s(g.email);w?p(w.message):(h("ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ì´ë©”ì¼ì„ ë³´ëƒˆìŠµë‹ˆë‹¤."),i(!1))}else{const{error:w}=await t(g);w&&p("ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.")}m(!1)},u=j=>{const{name:w,value:E}=j.target;x(C=>({...C,[w]:E})),p(null),h(null)};return r?e.jsx(st,{onBackToLogin:()=>a(!1)}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-blue-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-full text-white text-2xl font-bold mb-4",children:"ë¦¬"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"ë¦¬ì²´ ë§¤ë¬¼ì¥"}),e.jsx("p",{className:"text-gray-600",children:"ë¶€ë™ì‚° ì „ë¬¸ ê´€ë¦¬ ì†”ë£¨ì…˜"})]}),e.jsxs(J,{className:"shadow-xl",children:[e.jsx(xe,{children:e.jsx(he,{className:"text-center",children:n?"ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •":"ë¡œê·¸ì¸"})}),e.jsxs(ge,{children:[e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[b&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[e.jsx(se,{size:16}),e.jsx("span",{className:"text-sm",children:b})]}),f&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700",children:[e.jsx(F,{size:16}),e.jsx("span",{className:"text-sm",children:f})]}),e.jsx("div",{children:e.jsx(P,{type:"email",name:"email",placeholder:"ì´ë©”ì¼ ì£¼ì†Œ",value:g.email,onChange:u,leftIcon:e.jsx(ne,{size:20}),required:!0})}),!n&&e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx(P,{type:c?"text":"password",name:"password",placeholder:"ë¹„ë°€ë²ˆí˜¸",value:g.password,onChange:u,leftIcon:e.jsx(W,{size:20}),required:!0}),e.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?e.jsx($,{size:20}):e.jsx(q,{size:20})})]})}),e.jsx(L,{type:"submit",variant:"primary",size:"lg",className:"w-full",loading:y,children:n?"ì¬ì„¤ì • ì´ë©”ì¼ ì „ì†¡":"ë¡œê·¸ì¸"}),!n&&e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-sm text-primary-600 hover:text-primary-700 underline",children:"ë¹„ë°€ë²ˆí˜¸ë¥¼ ìŠìœ¼ì…¨ë‚˜ìš”?"})}),n&&e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>{i(!1),p(null),h(null)},className:"text-sm text-gray-600 hover:text-gray-700 underline",children:"ë¡œê·¸ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°"})})]}),!n&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”?"," ",e.jsx("button",{onClick:()=>a(!0),className:"text-primary-600 hover:text-primary-700 font-medium underline",children:"íšŒì›ê°€ì…"})]})})]})]}),e.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:e.jsx("p",{children:"Â© 2025 ë¦¬ì²´ ë§¤ë¬¼ì¥. All rights reserved."})})]})})},nt=({children:t,fallback:s=e.jsx(at,{})})=>{const{user:r,loading:a,signOut:n}=O(),i=async()=>{try{await n(),window.location.reload()}catch{localStorage.clear(),sessionStorage.clear(),window.location.reload()}};return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(U,{size:"lg",text:"ë¡œë”© ì¤‘..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"5ì´ˆ ì´ìƒ ë¡œë”©ì´ ì§€ì†ë˜ë©´ ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”"}),e.jsx("button",{onClick:i,className:"px-4 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"ê°•ì œ ë¡œê·¸ì•„ì›ƒ"})]})}):r?e.jsx(e.Fragment,{children:t}):e.jsx(e.Fragment,{children:s})},it=()=>{const{user:t,signOut:s}=O(),[r,a]=l.useState(!1),n=l.useRef(null);l.useEffect(()=>{const c=d=>{n.current&&!n.current.contains(d.target)&&a(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const i=async()=>{try{await s()}catch{}};return t?e.jsxs("div",{className:"relative",ref:n,children:[e.jsxs("button",{onClick:()=>a(!r),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-400 to-primary-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:t.avatar_url?e.jsx("img",{src:t.avatar_url,alt:t.name,className:"w-8 h-8 rounded-full object-cover"}):t.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"text-left hidden md:block",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.role==="owner"?"ì—…ì²´ ëŒ€í‘œ":t.role==="manager"?"íŒ€ì¥/ì‹¤ì¥":t.role==="agent"?"ì¤‘ê°œì‚¬":"ì¡°íšŒì"})]}),e.jsx(te,{size:16,className:`text-gray-400 transition-transform hidden md:block ${r?"rotate-180":""}`})]}),r&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.email}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["ê°€ì…ì¼: ",new Date(t.created_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"py-1",children:[e.jsxs("a",{href:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>a(!1),children:[e.jsx(ae,{size:16,className:"mr-3"}),"ë‚´ í”„ë¡œí•„"]}),e.jsxs("a",{href:"/settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>a(!1),children:[e.jsx(ie,{size:16,className:"mr-3"}),"ì„¤ì •"]})]}),e.jsx("div",{className:"border-t border-gray-100 my-1"}),e.jsxs("button",{onClick:i,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(Ae,{size:16,className:"mr-3"}),"ë¡œê·¸ì•„ì›ƒ"]})]})]}):null},lt=({children:t})=>{const[s,r]=l.useState(!1),{tenant:a}=Ge(),n=Ee(),i=[{name:"ëŒ€ì‹œë³´ë“œ",href:"/",icon:D},{name:"ë§¤ë¬¼ ê´€ë¦¬",href:"/properties",icon:D},{name:"ì¼ì • ê´€ë¦¬",href:"/schedule",icon:De},{name:"íŒ€ ê´€ë¦¬",href:"/team",icon:Ue},{name:"ì„¤ì •",href:"/settings",icon:ie},{name:"ì‚¬ìš©ì„¤ëª…ì„œ",href:"/guide",icon:Te}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>r(!1)}),e.jsx("div",{className:S("sidebar fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transition-transform duration-300 ease-in-out lg:translate-x-0 hidden lg:block",s?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${a?.branding?.primary_color||"#3b82f6"}, ${a?.branding?.secondary_color||"#1d4ed8"})`},children:e.jsx(D,{size:18,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold",children:a?.name||"ë¦¬ì²´ ë§¤ë¬¼ì¥"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a?.plan," í”Œëœ"]})]})]}),e.jsx("button",{onClick:()=>r(!1),className:"lg:hidden p-1 text-gray-400 hover:text-gray-600",children:e.jsx(re,{size:20})})]}),e.jsx("div",{className:"p-4",children:e.jsx(A,{to:"/properties?create=true",children:e.jsx(L,{fullWidth:!0,variant:"tenant",leftIcon:e.jsx(H,{size:18}),className:"justify-center",children:"ë§¤ë¬¼ ë“±ë¡"})})}),e.jsx("nav",{className:"flex-1 px-4 space-y-1",children:i.map(c=>{const d=n.pathname===c.href;return e.jsxs(A,{to:c.href,className:S("nav-item flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors",d?"bg-primary-50 text-primary-700 border-primary-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[e.jsx(c.icon,{className:"w-5 h-5 mr-3"}),c.name]},c.name)})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-500 space-y-2",children:[e.jsxs("div",{children:[e.jsxs("p",{children:["ë§¤ë¬¼: ",a?.limits.max_properties||0,"ê°œ ì œí•œ"]}),e.jsxs("p",{children:["ì‚¬ìš©ì: ",a?.limits.max_users||0,"ëª… ì œí•œ"]})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-300 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"ê°œë°œíšŒì‚¬:"})," ë¦¬ì²´ë¶€ë™ì‚°"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ëŒ€í‘œ:"})," ê¹€ì„ ë¯¸ ê³µì¸ì¤‘ê°œì‚¬"]})]})]})})]})}),e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-lg pb-safe",children:e.jsx("div",{className:"grid grid-cols-6 h-16 bg-white",children:i.map(c=>{const d=n.pathname===c.href;return e.jsxs(A,{to:c.href,className:S("nav-item flex flex-col items-center justify-center px-1 py-2 text-xs font-medium transition-all duration-200 touch-manipulation active:scale-95","min-h-[44px] relative",d?"text-primary-600 bg-primary-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"),children:[d&&e.jsx("div",{className:"absolute top-0 left-1/2 w-8 h-1 bg-primary-600 rounded-b-full transform -translate-x-1/2"}),e.jsx(c.icon,{size:18,className:"mb-1 flex-shrink-0"}),e.jsx("span",{className:"truncate text-center leading-tight max-w-full",children:c.name.split(" ")[0]})]},c.name)})})}),e.jsxs("div",{className:"lg:ml-64",children:[e.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3 lg:hidden",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${a?.branding?.primary_color||"#3b82f6"}, ${a?.branding?.secondary_color||"#1d4ed8"})`},children:e.jsx(D,{size:16,className:"text-white"})}),e.jsx("h2",{className:"text-lg font-semibold",children:a?.name||"ë¦¬ì²´ ë§¤ë¬¼ì¥"})]}),e.jsx("h2",{className:"hidden lg:block text-lg font-semibold",children:"ë§¤ë¬¼ì¥"})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[e.jsx(A,{to:"/properties?create=true",className:"lg:hidden",children:e.jsx(L,{size:"sm",variant:"tenant",leftIcon:e.jsx(H,{size:16}),className:"px-3 py-2",children:"ë“±ë¡"})}),e.jsx(it,{})]})]}),e.jsx("main",{className:"p-4 sm:p-6 pb-24 lg:pb-6 min-h-screen",children:t})]})]})};function z(t){return typeof t=="string"}function G(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function ot(t){return G(t)&&"message"in t&&z(t.message)}function ct(t){return G(t)&&"message"in t&&z(t.message)}function Q(t){if(z(t))return t;if(ot(t)||ct(t))return t.message;if(G(t)){if("message"in t&&z(t.message))return t.message;if("error"in t&&z(t.error))return t.error}return t instanceof Error?t.message:"ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."}var dt=Object.defineProperty,ut=(t,s,r)=>s in t?dt(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,mt=(t,s,r)=>ut(t,s+"",r);class xt extends I.Component{constructor(s){super(s),mt(this,"handleRetry",()=>{const{maxRetries:r=3}=this.props;this.state.retryCount<r?(this.setState({hasError:!1,error:void 0,errorInfo:void 0,retryCount:this.state.retryCount+1}),v.info("ErrorBoundary retry attempt:",{retryCount:this.state.retryCount+1})):(v.warn("ErrorBoundary max retries reached"),window.location.reload())}),this.state={hasError:!1,retryCount:0}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){v.error("ErrorBoundary caught an error:",{error:Q(s),stack:s.stack,componentStack:r.componentStack,retryCount:this.state.retryCount}),this.setState({errorInfo:r}),this.props.onError?.(s,r)}render(){if(this.state.hasError){const{fallback:s}=this.props;return s?e.jsx(s,{error:this.state.error,retry:this.handleRetry}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full p-6 sm:p-8 bg-white rounded-lg shadow-lg text-center",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto text-red-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-red-600 mb-2",children:"ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤"})]}),e.jsx("p",{className:"text-gray-600 mb-6 text-sm sm:text-base",children:Q(this.state.error)||"ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."}),e.jsxs("div",{className:"space-y-3",children:[this.state.retryCount<(this.props.maxRetries||3)?e.jsxs("button",{onClick:this.handleRetry,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:["ë‹¤ì‹œ ì‹œë„ (",this.state.retryCount,"/",this.props.maxRetries||3,")"]}):e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm sm:text-base",children:"í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨"}),e.jsx("button",{onClick:()=>window.history.back(),className:"w-full px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors text-sm sm:text-base",children:"ì´ì „ í˜ì´ì§€ë¡œ"})]}),!1]})})}return this.props.children}}const pe=l.lazy(()=>k(()=>import("./DashboardPage-DCjKFr7_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(t=>({default:t.DashboardPage}))),ye=l.lazy(()=>k(()=>import("./PropertiesPageNew-BdOpYFBb.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,10])).then(t=>({default:t.PropertiesPageNew}))),be=l.lazy(()=>k(()=>import("./SchedulePage-DU-tW2UP.js"),__vite__mapDeps([12,1,2,3,4,9,6,10]))),ve=l.lazy(()=>k(()=>import("./TeamPage-CX8PVl-W.js"),__vite__mapDeps([13,1,8,3,4,10])).then(t=>({default:t.TeamPage}))),je=l.lazy(()=>k(()=>import("./SettingsPage-DQ2ROFoL.js"),__vite__mapDeps([14,1,2,3,4,10])).then(t=>({default:t.SettingsPage}))),we=l.lazy(()=>k(()=>import("./UserGuidePage-CN3VMxk3.js"),__vite__mapDeps([15,1,3,4,10])).then(t=>({default:t.UserGuidePage}))),ht=l.lazy(()=>k(()=>import("./InvitationAccept-CxJyq-TK.js"),__vite__mapDeps([16,1,3,4,10])).then(t=>({default:t.InvitationAccept})));function gt(){return e.jsx(xt,{children:e.jsx(Ye,{children:e.jsx(Je,{children:e.jsx(Pe,{children:e.jsxs(M,{children:[e.jsx(N,{path:"/team/invite",element:e.jsx(l.Suspense,{fallback:e.jsx(U,{}),children:e.jsx(ht,{})})}),e.jsx(N,{path:"/*",element:e.jsx(nt,{children:e.jsxs(lt,{children:[e.jsx(l.Suspense,{fallback:e.jsx(U,{}),children:e.jsxs(M,{children:[e.jsx(N,{path:"/",element:e.jsx(pe,{})}),e.jsx(N,{path:"/properties",element:e.jsx(ye,{})}),e.jsx(N,{path:"/schedule",element:e.jsx(be,{})}),e.jsx(N,{path:"/team",element:e.jsx(ve,{})}),e.jsx(N,{path:"/settings",element:e.jsx(je,{})}),e.jsx(N,{path:"/guide",element:e.jsx(we,{})}),e.jsx(N,{path:"/tenant/:tenantSlug/*",element:e.jsx(ft,{})}),e.jsx(N,{path:"*",element:e.jsx(Ie,{to:"/",replace:!0})})]})}),e.jsx(tt,{})]})})})]})})})})})}const ft=()=>e.jsx(l.Suspense,{fallback:e.jsx(U,{}),children:e.jsxs(M,{children:[e.jsx(N,{path:"/",element:e.jsx(pe,{})}),e.jsx(N,{path:"/properties",element:e.jsx(ye,{})}),e.jsx(N,{path:"/schedule",element:e.jsx(be,{})}),e.jsx(N,{path:"/team",element:e.jsx(ve,{})}),e.jsx(N,{path:"/settings",element:e.jsx(je,{})}),e.jsx(N,{path:"/guide",element:e.jsx(we,{})})]})}),pt=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function yt(t){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const r="/sw.js";pt?(bt(r,t),navigator.serviceWorker.ready.then(()=>{})):Ne(r,t)})}window.addEventListener("online",()=>{}),window.addEventListener("offline",()=>{})}function Ne(t,s){navigator.serviceWorker.register(t).then(r=>{r.onupdatefound=()=>{const a=r.installing;a!=null&&(a.onstatechange=()=>{a.state==="installed"&&(navigator.serviceWorker.controller?s?.onUpdate?.(r):s?.onSuccess?.(r))})}}).catch(r=>{})}function bt(t,s){fetch(t,{headers:{"Service-Worker":"script"}}).then(r=>{const a=r.headers.get("content-type");r.status===404||a!=null&&a.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(n=>{n.unregister().then(()=>{window.location.reload()})}):Ne(t,s)}).catch(()=>{})}Y.createRoot(document.getElementById("root")).render(e.jsx(I.StrictMode,{children:e.jsx(gt,{})}));yt({onSuccess:()=>{},onUpdate:()=>{confirm(`ìƒˆë¡œìš´ ë²„ì „ì´ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. ì§€ê¸ˆ ì—…ë°ì´íŠ¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?
(í˜ì´ì§€ê°€ ìƒˆë¡œê³ ì¹¨ë©ë‹ˆë‹¤)`)&&window.location.reload()},onOffline:()=>{},onOnline:()=>{}});export{fe as B,J as C,P as I,U as L,St as P,Xe as S,xe as a,he as b,ge as c,O as d,L as e,Ct as f,S as g,e as j,v as l,_ as s,Ge as u};
