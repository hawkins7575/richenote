import{d as te,j as e,I as q,e as u,l as S}from"./index-DmqqP2-K.js";import{r as g}from"./react-vendor-DS3Z5Hf_.js";import{a as me,M as X}from"./useProperties-Clv9Am2z.js";import{s as A}from"./scheduleService-DGqpjI1l.js";import{k as U,T as G,b as se,g as Z,f as K,X as xe,j as ge,q as he,r as ue,U as ee,P as pe,u as ye,v as be,i as je,G as fe,w as ve,d as we}from"./ui-vendor-DnkZPEX2.js";import{u as ae}from"./useMobileDetection-BYhEgXwQ.js";import"./supabase-vendor-CCigGT7m.js";import"./utils-vendor-BJeS7sC5.js";const Ne=({isOpen:p,onClose:c,onSubmit:n,initialData:i,selectedDate:y})=>{const{user:_,loading:f,session:M,getCurrentUser:E}=te(),{properties:D}=me(),[k,b]=g.useState(!1),[z,o]=g.useState(null),[l,v]=g.useState({title:"",description:"",start_date:"",end_date:"",all_day:!1,category:"other",priority:"medium",property_id:"",attendees:[],location:""});g.useEffect(()=>{if(i){const t=new Date(i.start_date),s=new Date(i.end_date),x=new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().slice(0,16),j=new Date(s.getTime()-s.getTimezoneOffset()*6e4).toISOString().slice(0,16);v({title:i.title,description:i.description||"",start_date:x,end_date:j,all_day:i.all_day,category:i.category,priority:i.priority,property_id:i.property_id||"",attendees:i.attendees||[],location:i.location||""})}else{const t=new Date;let s,x;if(y){s=new Date(y);const h=t.getHours(),T=t.getMinutes();y.toDateString()===t.toDateString()?s.setHours(h+(T>0?1:0),0,0,0):s.setHours(9,0,0,0)}else s=new Date(t),s.setHours(t.getHours()+1,0,0,0);x=new Date(s),x.setHours(s.getHours()+1);const j=s.toISOString().slice(0,16),d=x.toISOString().slice(0,16);v(h=>({...h,start_date:j,end_date:d}))}},[i,y]);const O=async t=>{if(t.preventDefault(),f){o("인증 상태를 확인하는 중입니다. 잠시 후 다시 시도해주세요.");return}if(!l.title.trim()){o("일정 제목을 입력해주세요.");return}if(!l.start_date){o("시작 일시를 선택해주세요.");return}if(!l.end_date){o("종료 일시를 선택해주세요.");return}if(new Date(l.start_date)>=new Date(l.end_date)){o("종료 일시는 시작 일시보다 뒤여야 합니다.");return}b(!0),o(null);try{let s=null;const x=await E();if(!x){o("사용자 인증에 실패했습니다. 페이지를 새로고침하거나 다시 로그인해주세요.");return}s={id:x.id,email:x.email};const j=s.id,d={...l};(!d.property_id||d.property_id.trim()==="")&&delete d.property_id,Array.isArray(d.attendees)&&d.attendees.length===0&&delete d.attendees;const h={...d};if(l.all_day){const H=new Date(d.start_date),F=new Date(d.end_date);h.start_date=H.toISOString(),h.end_date=F.toISOString()}else{const H=new Date(d.start_date),F=new Date(d.end_date);h.start_date=H.toISOString(),h.end_date=F.toISOString()}let T;if(i){if(i.tenant_id!==j||i.created_by!==s.id){o("이 일정을 수정할 권한이 없습니다.");return}T=await A.updateSchedule(i.id,h,s.id)}else T=await A.createSchedule(j,s.id,h);n(T),c()}catch(s){s.message?.includes("JWT")||s.message?.includes("인증이 필요합니다")?o("세션이 만료되었습니다. 페이지를 새로고침하거나 다시 로그인해주세요."):s.message?.includes("permission")||s.message?.includes("권한이 없습니다")?o("이 일정을 수정할 권한이 없습니다. 본인이 작성한 일정만 수정 가능합니다."):s.message?.includes("찾을 수 없습니다")?o("일정을 찾을 수 없습니다. 이미 삭제되었거나 권한이 없을 수 있습니다."):o(s.message||"일정 저장 중 오류가 발생했습니다.")}finally{b(!1)}},m=(t,s)=>{if(v(x=>({...x,[t]:s})),t==="all_day"&&s){const x=l.start_date.split("T")[0],j=l.end_date.split("T")[0];v(d=>({...d,start_date:`${x}T00:00`,end_date:`${j}T23:59`}))}},C=[{value:"property_viewing",label:"매물 보기",icon:e.jsx(U,{className:"w-4 h-4"})},{value:"contract_signing",label:"계약 체결",icon:e.jsx(G,{className:"w-4 h-4"})},{value:"maintenance",label:"유지보수",icon:e.jsx(se,{className:"w-4 h-4"})},{value:"client_meeting",label:"고객 미팅",icon:e.jsx(Z,{className:"w-4 h-4"})},{value:"team_meeting",label:"팀 회의",icon:e.jsx(Z,{className:"w-4 h-4"})},{value:"personal",label:"개인 일정",icon:e.jsx(K,{className:"w-4 h-4"})},{value:"other",label:"기타",icon:e.jsx(G,{className:"w-4 h-4"})}],$=[{value:"low",label:"낮음",color:"text-gray-600"},{value:"medium",label:"보통",color:"text-blue-600"},{value:"high",label:"높음",color:"text-orange-600"},{value:"urgent",label:"긴급",color:"text-red-600"}];return e.jsx(X,{isOpen:p,onClose:c,title:i?"일정 수정":"새 일정 등록",size:"lg",children:e.jsxs("form",{onSubmit:O,className:"p-6 space-y-6",children:[z&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:e.jsx("p",{className:"text-sm text-red-600",children:z})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"일정 제목 *"}),e.jsx(q,{value:l.title,onChange:t=>m("title",t.target.value),placeholder:"일정 제목을 입력하세요",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"설명"}),e.jsx("textarea",{value:l.description,onChange:t=>m("description",t.target.value),placeholder:"일정에 대한 자세한 설명을 입력하세요",className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm resize-none h-20"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"카테고리 *"}),e.jsx("select",{value:l.category,onChange:t=>m("category",t.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",required:!0,children:C.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"우선순위"}),e.jsx("select",{value:l.priority,onChange:t=>m("priority",t.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:$.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),(l.category==="property_viewing"||l.category==="contract_signing")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"연관 매물"}),e.jsxs("select",{value:l.property_id,onChange:t=>m("property_id",t.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[e.jsx("option",{value:"",children:"매물 선택 (선택사항)"}),D.map(t=>e.jsxs("option",{value:t.id,children:[t.title," - ",t.address]},t.id))]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"all_day",checked:l.all_day,onChange:t=>m("all_day",t.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"all_day",className:"text-sm text-gray-700",children:"종일 일정"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"시작 일시 *"}),e.jsx(q,{type:l.all_day?"date":"datetime-local",value:l.all_day?l.start_date.split("T")[0]:l.start_date,onChange:t=>{if(l.all_day){const s=`${t.target.value}T00:00`;m("start_date",s)}else{const s=t.target.value;m("start_date",s)}},required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"종료 일시 *"}),e.jsx(q,{type:l.all_day?"date":"datetime-local",value:l.all_day?l.end_date.split("T")[0]:l.end_date,onChange:t=>{if(l.all_day){const s=`${t.target.value}T23:59`;m("end_date",s)}else{const s=t.target.value;m("end_date",s)}},required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"장소"}),e.jsx(q,{value:l.location,onChange:t=>m("location",t.target.value),placeholder:"일정 장소를 입력하세요",leftIcon:e.jsx(U,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200",children:[e.jsx(u,{type:"button",onClick:c,variant:"outline",disabled:k||f,children:"취소"}),e.jsx(u,{type:"submit",variant:"tenant",disabled:k||f,onClick:()=>{},children:f?"인증 확인 중...":k?"저장 중...":i?"수정":"등록"})]})]})})},_e=({isOpen:p,onClose:c,schedule:n,onEdit:i,onDelete:y})=>{const _=ae(),[f,M]=g.useState(!1);if(!n)return null;const E={property_viewing:{label:"매물 보기",color:"bg-blue-500",icon:e.jsx(U,{className:"w-4 h-4"})},contract_signing:{label:"계약 체결",color:"bg-green-500",icon:e.jsx(G,{className:"w-4 h-4"})},maintenance:{label:"유지보수",color:"bg-yellow-500",icon:e.jsx(se,{className:"w-4 h-4"})},client_meeting:{label:"고객 미팅",color:"bg-purple-500",icon:e.jsx(ee,{className:"w-4 h-4"})},team_meeting:{label:"팀 회의",color:"bg-indigo-500",icon:e.jsx(ee,{className:"w-4 h-4"})},personal:{label:"개인 일정",color:"bg-pink-500",icon:e.jsx(K,{className:"w-4 h-4"})},other:{label:"기타",color:"bg-gray-500",icon:e.jsx(G,{className:"w-4 h-4"})}},D={low:{label:"낮음",color:"text-gray-600 bg-gray-100"},medium:{label:"보통",color:"text-blue-600 bg-blue-100"},high:{label:"높음",color:"text-orange-600 bg-orange-100"},urgent:{label:"긴급",color:"text-red-600 bg-red-100"}},k={scheduled:{label:"예정됨",color:"text-blue-600 bg-blue-100"},in_progress:{label:"진행 중",color:"text-yellow-600 bg-yellow-100"},completed:{label:"완료됨",color:"text-green-600 bg-green-100"},cancelled:{label:"취소됨",color:"text-red-600 bg-red-100"},postponed:{label:"연기됨",color:"text-gray-600 bg-gray-100"}},b=(O,m)=>{const C=new Date(O);return m?C.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"}):C.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"2-digit",minute:"2-digit"})},z=async()=>{if(confirm("정말로 이 일정을 삭제하시겠습니까?")){M(!0);try{await y(n.id),c()}catch{}finally{M(!1)}}},o=E[n.category],l=D[n.priority],v=k[n.status];return e.jsx(X,{isOpen:p,onClose:c,title:"",size:"lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:n.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded text-white text-xs font-medium ${o.color}`,children:[o.icon,e.jsx("span",{className:"ml-1",children:o.label})]}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${l.color}`,children:l.label}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${v.color}`,children:v.label})]})]}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-gray-600 ml-4",children:e.jsx(xe,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center text-gray-700 mb-2",children:[e.jsx(K,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"시작"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:b(n.start_date,n.all_day)}),e.jsxs("div",{className:"flex items-center text-gray-700 mb-2",children:[e.jsx(ge,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"종료"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:b(n.end_date,n.all_day)}),n.all_day&&e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-600",children:"종일 일정"})})]}),n.description&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"상세 내용"}),e.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:e.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:n.description})})]}),n.location&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center text-gray-700 mb-2",children:[e.jsx(U,{className:"w-5 h-5 mr-2"}),e.jsx("span",{className:"font-medium",children:"장소"})]}),e.jsx("p",{className:"text-gray-600 ml-7",children:n.location})]}),e.jsxs("div",{className:"mb-6 pt-4 border-t border-gray-200",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:["생성일: ",new Date(n.created_at).toLocaleDateString("ko-KR")]}),n.updated_at!==n.created_at&&e.jsxs("p",{className:"text-xs text-gray-500",children:["수정일: ",new Date(n.updated_at).toLocaleDateString("ko-KR")]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-gray-200",children:[e.jsx(u,{onClick:c,variant:"outline",size:_?"sm":"md",children:"닫기"}),e.jsx(u,{onClick:()=>{i(n),c()},variant:"primary",leftIcon:e.jsx(he,{className:"w-4 h-4"}),size:_?"sm":"md",children:"수정"}),e.jsx(u,{onClick:z,variant:"danger",leftIcon:e.jsx(ue,{className:"w-4 h-4"}),disabled:f,size:_?"sm":"md",children:f?"삭제 중...":"삭제"})]})]})})},Oe=()=>{const p=ae(),{user:c}=te(),[n,i]=g.useState(new Date),[y,_]=g.useState("month"),[f,M]=g.useState(null),[E,D]=g.useState(!1),[k,b]=g.useState(!1),[z,o]=g.useState(!1),[l,v]=g.useState(null),[O,m]=g.useState(null),[C,$]=g.useState([]),[t,s]=g.useState("all"),x={property_viewing:"bg-blue-500",contract_signing:"bg-green-500",maintenance:"bg-yellow-500",client_meeting:"bg-purple-500",team_meeting:"bg-indigo-500",personal:"bg-pink-500",other:"bg-gray-500"},j={property_viewing:"매물 보기",contract_signing:"계약 체결",maintenance:"유지보수",client_meeting:"고객 미팅",team_meeting:"팀 회의",personal:"개인 일정",other:"기타"};g.useEffect(()=>{(async()=>{if(!c){S.info("⏳ 사용자 인증 대기 중...");return}try{S.info("📅 스케줄 데이터 로드 시작",{userId:c.id,tenantId:c.id});const a=await A.getSchedules(c.id);S.info("📅 로드된 스케줄",{count:a.length}),$(a)}catch(a){S.error("❌ 스케줄 로드 실패",{error:a}),$([])}})()},[c]);const d=r=>{$(a=>a.find(I=>I.id===r.id)?a.map(I=>I.id===r.id?r:I):[...a,r])},h=r=>{v(r),o(!0)},T=r=>{S.info("📝 스케줄 수정 요청",{id:r.id,title:r.title,tenant_id:r.tenant_id,created_by:r.created_by,currentUserId:c?.id}),m(r),D(!0)},H=async r=>{try{S.info("🗑️ 스케줄 삭제 요청",{scheduleId:r,currentUserId:c?.id}),await A.deleteSchedule(r,c?.id),$(a=>a.filter(w=>w.id!==r)),S.info("✅ 스케줄 삭제 완료",{scheduleId:r})}catch(a){throw S.error("❌ 스케줄 삭제 실패",{error:a}),a}},F=()=>{D(!1),m(null),M(null)},re=()=>{const r=n.getFullYear(),a=n.getMonth(),w=new Date(r,a,1),I=new Date(r,a+1,0),V=new Date(w);V.setDate(V.getDate()-w.getDay());const B=new Date(I);B.setDate(B.getDate()+(6-I.getDay()));const J=[],P=new Date(V);for(;P<=B;)J.push(new Date(P)),P.setDate(P.getDate()+1);const Y=[];for(let N=0;N<J.length;N+=7)Y.push(J.slice(N,N+7));return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 border-b border-gray-200",children:e.jsx("div",{className:"grid grid-cols-7 text-center text-sm font-medium text-gray-500 py-3",children:["일","월","화","수","목","금","토"].map(N=>e.jsx("div",{children:N},N))})}),e.jsx("div",{className:"divide-y divide-gray-200",children:Y.map((N,ne)=>e.jsx("div",{className:"grid grid-cols-7",children:N.map((R,ie)=>{const oe=R.toDateString()===new Date().toDateString(),ce=R.getMonth()===a,W=C.filter(L=>new Date(L.start_date).toDateString()===R.toDateString());return e.jsxs("div",{className:`min-h-[60px] sm:min-h-[80px] p-1 sm:p-2 border-r border-gray-100 last:border-r-0 cursor-pointer hover:bg-gray-50 transition-colors ${ce?"":"bg-gray-25 text-gray-400"}`,onClick:()=>{M(R),D(!0)},children:[e.jsx("div",{className:`text-xs sm:text-sm mb-1 ${oe?"w-5 h-5 sm:w-6 sm:h-6 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold text-xs":"font-medium"}`,children:R.getDate()}),e.jsxs("div",{className:"space-y-0.5",children:[W.slice(0,p?1:3).map((L,Q)=>e.jsx("div",{className:`text-xs px-1.5 py-0.5 rounded text-white truncate cursor-pointer hover:opacity-80 leading-tight ${x[L.category]}`,onClick:de=>{de.stopPropagation(),h(L)},title:`${L.title} - 클릭하여 상세보기`,style:{lineHeight:"1.2"},children:L.title},Q)),W.length>(p?1:3)&&e.jsxs("div",{className:"text-xs text-gray-500 leading-tight",style:{lineHeight:"1.2"},children:["+",W.length-(p?1:3),"개 더"]})]})]},ie)})},ne))})]})},le=()=>{const r=C.filter(a=>t==="all"||a.category===t);return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"일정 목록"})}),e.jsx("div",{className:"divide-y divide-gray-100",children:r.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx(K,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"등록된 일정이 없습니다."})]}):r.map(a=>e.jsx("div",{className:"px-4 py-2.5 hover:bg-blue-50 cursor-pointer transition-all duration-200 border-l-4 border-transparent hover:border-blue-400 hover:shadow-sm",onClick:()=>h(a),role:"button",tabIndex:0,onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),h(a))},"aria-label":`${a.title} 일정 상세보기`,title:"클릭하여 일정 상세보기",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${x[a.category]} flex-shrink-0`}),e.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:a.title}),a.priority==="urgent"&&e.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-red-100 text-red-600 flex-shrink-0",children:"긴급"}),a.priority==="high"&&e.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-orange-100 text-orange-600 flex-shrink-0",children:"높음"}),e.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded flex-shrink-0",children:j[a.category]}),e.jsxs("div",{className:"flex items-center text-xs text-gray-400 flex-shrink-0",children:[e.jsx(K,{className:"w-3 h-3 mr-1"}),new Date(a.start_date).toLocaleDateString("ko-KR",{month:"short",day:"numeric",hour:a.all_day?void 0:"2-digit",minute:a.all_day?void 0:"2-digit"})]}),a.location&&e.jsxs("div",{className:"flex items-center text-xs text-gray-400 flex-shrink-0",children:[e.jsx(U,{className:"w-3 h-3 mr-1"}),e.jsx("span",{className:"truncate max-w-32",children:a.location})]}),a.description&&e.jsxs("span",{className:"text-xs text-gray-400 truncate max-w-48 hidden md:inline",children:["- ",a.description]})]}),e.jsx("div",{className:"flex-shrink-0 ml-2",children:e.jsx(we,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-500"})})]})},a.id))})]})};return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"일정 관리"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"캘린더로 일정을 관리하세요"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{onClick:()=>D(!0),leftIcon:e.jsx(pe,{className:"w-4 h-4"}),variant:"tenant",size:p?"sm":"md",children:p?"등록":"일정 등록"}),e.jsx(u,{onClick:()=>b(!0),leftIcon:e.jsx(ye,{className:"w-4 h-4"}),variant:"outline",size:p?"sm":"md",children:"필터"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0 bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{onClick:()=>{const r=new Date(n);r.setMonth(r.getMonth()-1),i(r)},variant:"outline",size:"sm",children:e.jsx(be,{className:"w-4 h-4"})}),e.jsx("h2",{className:"text-lg font-semibold min-w-[120px] text-center",children:n.toLocaleDateString("ko-KR",{year:"numeric",month:"long"})}),e.jsx(u,{onClick:()=>{const r=new Date(n);r.setMonth(r.getMonth()+1),i(r)},variant:"outline",size:"sm",children:e.jsx(je,{className:"w-4 h-4"})})]}),e.jsx(u,{onClick:()=>i(new Date),variant:"outline",size:"sm",children:"오늘"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{onClick:()=>_("month"),variant:y==="month"?"primary":"outline",size:"sm",leftIcon:e.jsx(fe,{className:"w-4 h-4"}),children:"월간"}),e.jsx(u,{onClick:()=>_("agenda"),variant:y==="agenda"?"primary":"outline",size:"sm",leftIcon:e.jsx(ve,{className:"w-4 h-4"}),children:"목록"})]})]}),y==="month"?re():le(),e.jsx(Ne,{isOpen:E,onClose:F,onSubmit:d,initialData:O,selectedDate:f||void 0}),e.jsx(_e,{isOpen:z,onClose:()=>o(!1),schedule:l,onEdit:T,onDelete:H}),e.jsx(X,{isOpen:k,onClose:()=>b(!1),title:"일정 필터",children:e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"카테고리"}),e.jsxs("select",{value:t,onChange:r=>s(r.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2",children:[e.jsx("option",{value:"all",children:"전체"}),e.jsx("option",{value:"property_viewing",children:"매물 보기"}),e.jsx("option",{value:"contract_signing",children:"계약 체결"}),e.jsx("option",{value:"maintenance",children:"유지보수"}),e.jsx("option",{value:"client_meeting",children:"고객 미팅"}),e.jsx("option",{value:"team_meeting",children:"팀 회의"}),e.jsx("option",{value:"personal",children:"개인 일정"}),e.jsx("option",{value:"other",children:"기타"})]})]})}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[e.jsx(u,{onClick:()=>b(!1),variant:"outline",children:"취소"}),e.jsx(u,{onClick:()=>b(!1),variant:"tenant",children:"적용"})]})]})})]})};export{Oe as default};
