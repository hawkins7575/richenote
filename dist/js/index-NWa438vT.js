const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/DashboardPage-Gc2csVC3.js","js/react-vendor-DS3Z5Hf_.js","js/useProperties-CAHvE_p5.js","js/ui-vendor-DnkZPEX2.js","js/supabase-vendor-CCigGT7m.js","js/PropertyEditForm-_hUDANX9.js","js/useMobileDetection-BYhEgXwQ.js","assets/PropertyEditForm-BQDkVj3v.css","js/teamService-B14ur8LT.js","js/scheduleService-B9XGONvY.js","js/utils-vendor-BJeS7sC5.js","js/PropertiesPageNew-0QVnuA8h.js","js/SchedulePage-PVAish2P.js","js/TeamPage-DQRuCvxI.js","js/SettingsPage-C2g9OnGt.js","js/UserGuidePage-B_McU1_u.js","js/InvitationAccept-CyEq9UwJ.js"])))=>i.map(i=>d[i]);
import{r as u,a as we,R as I,u as _e,L as R,B as Ne,b as V,d as N,N as Se}from"./react-vendor-DS3Z5Hf_.js";import{c as Pe,_ as k}from"./supabase-vendor-CCigGT7m.js";import{c as H,t as Ce}from"./utils-vendor-BJeS7sC5.js";import{C as X,D as q,M as Ee,X as Q,A as Ie,a as M,b as ee,U as te,B as ke,c as re,L as B,E as W,d as $,S as se,e as ze,H as D,P as J,f as Oe,g as Le,h as Re}from"./ui-vendor-DnkZPEX2.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();var ae={exports:{}},U={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var De=u,Ae=Symbol.for("react.element"),Ue=Symbol.for("react.fragment"),Te=Object.prototype.hasOwnProperty,Ve=De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qe={key:!0,ref:!0,__self:!0,__source:!0};function ne(t,s,r){var a,n={},i=null,c=null;r!==void 0&&(i=""+r),s.key!==void 0&&(i=""+s.key),s.ref!==void 0&&(c=s.ref);for(a in s)Te.call(s,a)&&!qe.hasOwnProperty(a)&&(n[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:Ae,type:t,key:i,ref:c,props:n,_owner:Ve.current}}U.Fragment=Ue;U.jsx=ne;U.jsxs=ne;ae.exports=U;var e=ae.exports,F={},K=we;F.createRoot=K.createRoot,F.hydrateRoot=K.hydrateRoot;const ie="https://wlrsoyujrmeviczczfsh.supabase.co",le="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndscnNveXVqcm1ldmljemN6ZnNoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxNDM5NjUsImV4cCI6MjA2OTcxOTk2NX0.ZHepp6oDnIfG73nSERBGcgBis-iuumOvVlijUP4fu1Y";if(ie.includes("your-project")||le.includes("your-anon-key"))throw new Error("í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì˜¬ë°”ë¥¸ Supabase í™˜ê²½ ë³€ìˆ˜ê°€ í•„ìš”í•©ë‹ˆë‹¤.");let T=null;const _=(T||(T=Pe(ie,le,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"sb-auth-token"}})),T);class Me{formatMessage(s,r,a){const i={timestamp:new Date().toISOString(),level:s.toLowerCase(),message:r,...a};return JSON.stringify(i)}shouldLog(s){return s==="WARN"||s==="ERROR"}debug(s,r){this.shouldLog("DEBUG")}info(s,r){this.shouldLog("INFO")}warn(s,r){this.shouldLog("WARN")}error(s,r){this.shouldLog("ERROR")}devLog(s,...r){}}const w=new Me,oe=u.createContext(void 0),O=()=>{const t=u.useContext(oe);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},Be=({children:t})=>{const[s,r]=u.useState(null),[a,n]=u.useState(null),[i,c]=u.useState(!0);u.useEffect(()=>{w.info("ğŸ” ì¸ì¦ ì´ˆê¸°í™” ì‹œì‘"),(async()=>{try{const x=new Promise((j,P)=>setTimeout(()=>P(new Error("Session check timeout")),5e3)),l=_.auth.getSession(),{data:{session:o},error:y}=await Promise.race([l,x]);if(y){w.error("Error getting session:",y),c(!1);return}if(n(o),o?.user)try{const j=_.from("user_profiles").select("*").eq("id",o.user.id).single(),P=new Promise((dt,je)=>setTimeout(()=>je(new Error("Profile fetch timeout")),3e3)),{data:C}=await Promise.race([j,P]);r({id:o.user.id,email:o.user.email,name:C?.name||o.user.user_metadata?.name||"",role:C?.role||"owner",tenant_id:o.user.id,avatar_url:C?.avatar_url||null,created_at:o.user.created_at,last_sign_in_at:o.user.last_sign_in_at||null})}catch(j){w.error("Error fetching profile:",{error:j}),r({id:o.user.id,email:o.user.email,name:o.user.user_metadata?.name||o.user.email,role:"owner",tenant_id:o.user.id,avatar_url:null,created_at:o.user.created_at,last_sign_in_at:o.user.last_sign_in_at||null})}}catch(x){w.error("Error in getSession:",{error:x})}finally{c(!1)}})();const{data:{subscription:h}}=_.auth.onAuthStateChange(async(x,l)=>{if(w.info("ğŸ” Auth state changed:",{event:x,userId:l?.user?.id,userEmail:l?.user?.email}),n(l),l?.user)try{const o=_.from("user_profiles").select("*").eq("id",l.user.id).single(),y=new Promise((P,C)=>setTimeout(()=>C(new Error("Profile fetch timeout")),3e3)),{data:j}=await Promise.race([o,y]);r({id:l.user.id,email:l.user.email,name:j?.name||l.user.user_metadata?.name||"",role:j?.role||"owner",tenant_id:l.user.id,avatar_url:j?.avatar_url||null,created_at:l.user.created_at,last_sign_in_at:l.user.last_sign_in_at||null})}catch(o){w.error("Error fetching profile in auth state change:",{error:o}),r({id:l.user.id,email:l.user.email,name:l.user.user_metadata?.name||l.user.email,role:"owner",tenant_id:l.user.id,avatar_url:null,created_at:l.user.created_at,last_sign_in_at:l.user.last_sign_in_at||null})}else r(null);c(!1)});return()=>h.unsubscribe()},[]);const d=async f=>{try{const h=await _.auth.signUp({email:f.email,password:f.password,options:{data:{name:f.name,company:f.company}}});if(h.data.user&&!h.error)try{w.info("ğŸ‘¤ ì‚¬ìš©ìë³„ ë…ë¦½ í”„ë¡œí•„ ìƒì„±:",{userId:h.data.user.id});const{error:x}=await _.from("user_profiles").insert({id:h.data.user.id,email:f.email,name:f.name,role:"owner",tenant_id:h.data.user.id});x?w.error("Error creating user profile:",{error:x}):w.info("âœ… ì‚¬ìš©ìë³„ ë…ë¦½ í”„ë¡œí•„ ìƒì„± ì™„ë£Œ")}catch(x){w.error("Error in profile creation process:",{error:x})}return h}catch(h){return w.error("Sign up error:",{error:h}),{user:null,error:h}}},b=async f=>{try{return await _.auth.signInWithPassword({email:f.email,password:f.password})}catch(h){return w.error("Sign in error:",{error:h}),{user:null,error:h}}},m=async()=>{try{const f=await _.auth.signOut();return r(null),n(null),f}catch(f){return w.error("Sign out error:",{error:f}),{error:f}}},v=async f=>{try{return await _.auth.resetPasswordForEmail(f,{redirectTo:`${window.location.origin}/reset-password`})}catch(h){return w.error("Reset password error:",{error:h}),{error:h}}},p=async()=>{try{if(w.info("ğŸ” getCurrentUser í˜¸ì¶œë¨"),s&&!i)return w.info("âœ… ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©ì ë°˜í™˜",{userId:s.id}),s;w.info("ğŸ”„ Supabase ì„¸ì…˜ ìƒˆë¡œê³ ì¹¨ ì‹œë„...");const{data:f,error:h}=await _.auth.refreshSession();h?w.warn("âš ï¸ ì„¸ì…˜ ìƒˆë¡œê³ ì¹¨ ì‹¤íŒ¨, ì§ì ‘ ì‚¬ìš©ì í™•ì¸:",{error:h.message}):f.session&&w.info("âœ… ì„¸ì…˜ ìƒˆë¡œê³ ì¹¨ ì„±ê³µ");const{data:{user:x},error:l}=await _.auth.getUser();if(l||!x)return w.error("âŒ getCurrentUser ì‹¤íŒ¨:",{error:l?.message}),null;try{const{data:o}=await _.from("user_profiles").select("*").eq("id",x.id).single(),y={id:x.id,email:x.email,name:o?.name||x.user_metadata?.name||"",role:o?.role||"owner",tenant_id:x.id,avatar_url:o?.avatar_url||null,created_at:x.created_at,last_sign_in_at:x.last_sign_in_at||null};return w.info("âœ… getCurrentUser ì„±ê³µ:",{userId:y.id}),y}catch(o){return w.error("í”„ë¡œí•„ ì¡°íšŒ ì‹¤íŒ¨, ê¸°ë³¸ ì‚¬ìš©ì ì •ë³´ ë°˜í™˜:",{error:o}),{id:x.id,email:x.email,name:x.user_metadata?.name||x.email,role:"owner",tenant_id:x.id,avatar_url:null,created_at:x.created_at,last_sign_in_at:x.last_sign_in_at||null}}}catch(f){return w.error("getCurrentUser ì „ì²´ ì‹¤íŒ¨:",{error:f}),null}},g=u.useMemo(()=>({user:s,session:a,loading:i,signUp:d,signIn:b,signOut:m,resetPassword:v,getCurrentUser:p}),[s,a,i]);return e.jsx(oe.Provider,{value:g,children:t})},ce=u.createContext(null),We=({children:t})=>{const{user:s}=O(),[r,a]=u.useState(null),[n,i]=u.useState(!1),[c,d]=u.useState(null),b=async l=>{i(!0);try{const{data:o,error:y}=await _.from("tenants").select("*").eq("id",l).single();if(y)throw y;a(o),d(null)}catch{d("í…Œë„ŒíŠ¸ ì „í™˜ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{i(!1)}},m=async l=>{if(r){i(!0);try{const{data:o,error:y}=await _.from("tenants").update(l).eq("id",r.id).select().single();if(y)throw y;a(o),d(null)}catch{d("í…Œë„ŒíŠ¸ ì—…ë°ì´íŠ¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{i(!1)}}},v=async()=>{if(!r)return{total_properties:0,active_properties:0,total_users:0,active_users:0,storage_used_mb:0,api_calls_this_month:0,created_this_month:0};try{const{data:l,error:o}=await _.from("properties").select("id, status, created_at").eq("tenant_id",r.id);if(o)throw o;return{total_properties:l.length,active_properties:l.length,total_users:1,active_users:1,storage_used_mb:0,api_calls_this_month:0,created_this_month:l.filter(j=>{const P=new Date(j.created_at||Date.now()),C=new Date;return P.getMonth()===C.getMonth()&&P.getFullYear()===C.getFullYear()}).length}}catch{return{total_properties:0,active_properties:0,total_users:0,active_users:0,storage_used_mb:0,api_calls_this_month:0,created_this_month:0}}},p=l=>r?.limits?.features_enabled?.includes(l)||!1,g=()=>(r?.limits,!0),f=()=>(r?.limits,!0),h=l=>(r?.limits,!0);u.useEffect(()=>{s&&!r&&(async()=>{i(!0);try{const{data:o,error:y}=await _.from("tenants").select("*").eq("id",s.id).single();if(o&&!y){const j={...o,branding:{primary_color:"#3b82f6",secondary_color:"#1d4ed8",accent_color:"#f59e0b"},limits:{max_properties:50,max_users:2,max_storage_gb:1,max_api_calls_per_month:1e3,features_enabled:["basic"]},settings:{timezone:"Asia/Seoul",date_format:"YYYY-MM-DD",currency:"KRW",language:"ko",require_exit_date:!0,require_landlord_info:!0,email_notifications:!0,sms_notifications:!1,browser_notifications:!0,require_2fa:!1,session_timeout_minutes:480}};a(j),d(null),i(!1);return}}catch{const y={id:s.id,name:`${s.name||"ì‚¬ìš©ì"}ì˜ ë¶€ë™ì‚°`,slug:`user-${s.id}`,plan:"starter",status:"active",branding:{primary_color:"#3b82f6",secondary_color:"#1d4ed8",accent_color:"#f59e0b"},limits:{max_properties:50,max_users:2,max_storage_gb:1,max_api_calls_per_month:1e3,features_enabled:["basic"]},settings:{timezone:"Asia/Seoul",date_format:"YYYY-MM-DD",currency:"KRW",language:"ko",require_exit_date:!0,require_landlord_info:!0,email_notifications:!0,sms_notifications:!1,browser_notifications:!0,require_2fa:!1,session_timeout_minutes:480},created_at:new Date().toISOString(),updated_at:new Date().toISOString(),created_by:s.id};a(y),d(null),i(!1);return}try{const o={id:s.id,name:"PropertyDesk ë² íƒ€"},{data:y,error:j}=await _.from("tenants").insert(o).select().single();if(j)throw j;const P={...y,branding:{primary_color:"#3b82f6",secondary_color:"#1d4ed8",accent_color:"#f59e0b"},limits:{max_properties:1e3,max_users:10,max_storage_gb:10,max_api_calls_per_month:5e4,features_enabled:["advanced_analytics","api_access","custom_fields"]},settings:{timezone:"Asia/Seoul",date_format:"YYYY-MM-DD",currency:"KRW",language:"ko",require_exit_date:!0,require_landlord_info:!0,email_notifications:!0,sms_notifications:!1,browser_notifications:!0,require_2fa:!1,session_timeout_minutes:480}};a(P),d(null)}catch{a(null),d("í…Œë„ŒíŠ¸ ì´ˆê¸°í™”ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{i(!1)}})()},[s,r]),u.useEffect(()=>{if(r?.branding){const l=document.documentElement;if(l.style.setProperty("--tenant-primary",r.branding.primary_color),l.style.setProperty("--tenant-secondary",r.branding.secondary_color||"#6b7280"),l.style.setProperty("--tenant-accent",r.branding.accent_color||"#f59e0b"),r.branding.favicon_url){const o=document.querySelector('link[rel="icon"]');o&&(o.href=r.branding.favicon_url)}document.title=`${r.name} - PropertyDesk`}else{const l=document.documentElement;l.style.setProperty("--tenant-primary","#3b82f6"),l.style.setProperty("--tenant-secondary","#6b7280"),l.style.setProperty("--tenant-accent","#f59e0b"),document.title="PropertyDesk - ë¶€ë™ì‚° ê´€ë¦¬ í”Œë«í¼"}},[r]);const x={tenant:r,isLoading:n,error:c,switchTenant:b,updateTenant:m,getTenantStats:v,hasFeature:p,canCreateProperty:g,canInviteUser:f,isWithinLimits:h};return e.jsx(ce.Provider,{value:x,children:t})},$e=()=>{const t=u.useContext(ce);if(!t)throw new Error("useTenantëŠ” TenantProvider ë‚´ì—ì„œ ì‚¬ìš©ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.");return t},G=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Z=H,L=(t,s)=>r=>{var a;if(s?.variants==null)return Z(t,r?.class,r?.className);const{variants:n,defaultVariants:i}=s,c=Object.keys(n).map(m=>{const v=r?.[m],p=i?.[m];if(v===null)return null;const g=G(v)||G(p);return n[m][g]}),d=r&&Object.entries(r).reduce((m,v)=>{let[p,g]=v;return g===void 0||(m[p]=g),m},{}),b=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((m,v)=>{let{class:p,className:g,...f}=v;return Object.entries(f).every(h=>{let[x,l]=h;return Array.isArray(l)?l.includes({...i,...d}[x]):{...i,...d}[x]===l})?[...m,p,g]:m},[]);return Z(t,c,b,r?.class,r?.className)};function S(...t){return Ce(H(t))}const Fe=L("inline-flex items-center justify-center rounded-lg text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-lg hover:from-primary-700 hover:to-primary-800 hover:shadow-xl transform hover:-translate-y-0.5 focus-visible:ring-primary-500",secondary:"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 hover:border-gray-400 focus-visible:ring-gray-500",danger:"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800 focus-visible:ring-red-500",destructive:"bg-gradient-to-r from-red-600 to-red-700 text-white hover:from-red-700 hover:to-red-800 focus-visible:ring-red-500",ghost:"text-gray-600 hover:text-gray-800 hover:bg-gray-100 focus-visible:ring-gray-500",outline:"border border-gray-300 bg-transparent text-gray-700 hover:bg-gray-50 hover:border-gray-400 focus-visible:ring-gray-500",tenant:"bg-gradient-to-r from-tenant-primary to-tenant-primary text-white shadow-lg hover:opacity-90 transform hover:-translate-y-0.5 focus-visible:ring-tenant-primary"},size:{sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-2",lg:"h-12 px-6 py-3 text-base",icon:"h-10 w-10"},fullWidth:{true:"w-full"}},defaultVariants:{variant:"primary",size:"md"}}),z=I.forwardRef(({className:t,variant:s,size:r,fullWidth:a,loading:n,leftIcon:i,rightIcon:c,children:d,disabled:b,...m},v)=>e.jsx("button",{className:S(Fe({variant:s,size:r,fullWidth:a,className:t})),ref:v,disabled:b||n,...m,children:n?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ë¡œë”© ì¤‘..."]}):e.jsxs(e.Fragment,{children:[i&&e.jsx("span",{className:"mr-2",children:i}),d,c&&e.jsx("span",{className:"ml-2",children:c})]})}));z.displayName="Button";const Ye=L("flex w-full rounded-lg border bg-white px-3 py-2 text-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"border-gray-300 focus-visible:border-primary-500 focus-visible:ring-primary-500",error:"border-red-300 focus-visible:border-red-500 focus-visible:ring-red-500",success:"border-green-300 focus-visible:border-green-500 focus-visible:ring-green-500"},size:{sm:"h-8 px-2 text-xs",md:"h-10 px-3",lg:"h-12 px-4 text-base"}},defaultVariants:{variant:"default",size:"md"}}),E=I.forwardRef(({className:t,variant:s,size:r,label:a,error:n,helperText:i,leftIcon:c,rightIcon:d,id:b,...m},v)=>{const p=b||`input-${Math.random().toString(36).substr(2,9)}`,f=!!n?"error":s;return e.jsxs("div",{className:"w-full",children:[a&&e.jsxs("label",{htmlFor:p,className:"block text-sm font-medium text-gray-700 mb-2",children:[a,m.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[c&&e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-400",children:c})}),e.jsx("input",{id:p,className:S(Ye({variant:f,size:r}),c&&"pl-10",d&&"pr-10",t),ref:v,...m}),d&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-gray-400",children:d})})]}),n&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),i&&!n&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i})]})});E.displayName="Input";const Je=L("flex w-full rounded-lg border bg-white px-3 py-2 text-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 appearance-none cursor-pointer",{variants:{variant:{default:"border-gray-300 focus-visible:border-primary-500 focus-visible:ring-primary-500",error:"border-red-300 focus-visible:border-red-500 focus-visible:ring-red-500",success:"border-green-300 focus-visible:border-green-500 focus-visible:ring-green-500"},size:{sm:"h-8 px-2 text-xs",md:"h-10 px-3",lg:"h-12 px-4 text-base"}},defaultVariants:{variant:"default",size:"md"}}),Ke=I.forwardRef(({className:t,variant:s,size:r,label:a,error:n,helperText:i,options:c,placeholder:d,id:b,...m},v)=>{const p=b||`select-${Math.random().toString(36).substr(2,9)}`,f=!!n?"error":s;return e.jsxs("div",{className:"w-full",children:[a&&e.jsxs("label",{htmlFor:p,className:"block text-sm font-medium text-gray-700 mb-2",children:[a,m.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:p,className:S(Je({variant:f,size:r}),"pr-10",t),ref:v,...m,children:[d&&e.jsx("option",{value:"",disabled:!0,children:d}),c.map(h=>e.jsx("option",{value:h.value,disabled:h.disabled,children:h.label},h.value))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx(X,{className:"h-4 w-4 text-gray-400"})})]}),n&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:n}),i&&!n&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:i})]})});Ke.displayName="Select";const Ge=L("card rounded-lg border bg-white transition-all duration-200",{variants:{variant:{default:"border-gray-200 shadow-sm hover:shadow-md",elevated:"border-gray-200 shadow-lg hover:shadow-xl",outline:"border-gray-300",ghost:"border-transparent shadow-none"},padding:{none:"",sm:"p-4",md:"p-6",lg:"p-8"},clickable:{true:"cursor-pointer hover:border-gray-300 transform hover:-translate-y-0.5"}},defaultVariants:{variant:"default",padding:"md"}}),Y=I.forwardRef(({className:t,variant:s,padding:r,clickable:a,children:n,...i},c)=>e.jsx("div",{ref:c,className:S(Ge({variant:s,padding:r,clickable:a}),t),...i,children:n}));Y.displayName="Card";const de=({children:t,className:s})=>e.jsx("div",{className:S("flex flex-col space-y-1.5 p-6 pb-4",s),children:t}),ue=({children:t,className:s})=>e.jsx("h3",{className:S("text-lg font-semibold leading-none tracking-tight",s),children:t}),me=({children:t,className:s})=>e.jsx("div",{className:S("p-6 pt-0",s),children:t}),Ze=L("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium transition-colors",{variants:{variant:{default:"bg-gray-100 text-gray-800",primary:"bg-primary-100 text-primary-800",secondary:"bg-gray-100 text-gray-600",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",info:"bg-blue-100 text-blue-800",available:"bg-green-100 text-green-800",reserved:"bg-yellow-100 text-yellow-800",sold:"bg-gray-100 text-gray-600",sale:"bg-red-100 text-red-700",jeonse:"bg-green-100 text-green-700",monthly:"bg-blue-100 text-blue-700",tenant:"bg-tenant-primary bg-opacity-10 text-tenant-primary"},size:{sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-0.5 text-xs",lg:"px-3 py-1 text-sm"}},defaultVariants:{variant:"default",size:"md"}}),xe=I.forwardRef(({className:t,variant:s,size:r,children:a,...n},i)=>e.jsx("div",{ref:i,className:S(Ze({variant:s,size:r}),t),...n,children:a}));xe.displayName="Badge";const ft=({status:t,className:s})=>{const r={ê±°ë˜ì¤‘:"available",ê±°ë˜ì™„ë£Œ:"sold"};return e.jsx(xe,{variant:r[t],className:s,children:t})},A=({size:t="md",text:s,className:r,fullScreen:a=!1})=>{const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"},i=e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3",children:[e.jsxs("svg",{className:S("animate-spin text-primary-600",n[t],r),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s&&e.jsx("p",{className:"text-sm text-gray-600 animate-pulse",children:s})]});return a?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-white bg-opacity-80",children:i}):i},He=()=>{const[t,s]=u.useState(null),[r,a]=u.useState(!1),[n,i]=u.useState(!1);u.useEffect(()=>{const b=p=>{p.preventDefault(),s(p),a(!0)},m=()=>{i(!0),a(!1),s(null)},v=()=>{window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches&&i(!0)};return window.addEventListener("beforeinstallprompt",b),window.addEventListener("appinstalled",m),v(),()=>{window.removeEventListener("beforeinstallprompt",b),window.removeEventListener("appinstalled",m)}},[]);const c=async()=>{if(t)try{await t.prompt();const{outcome:b}=await t.userChoice;b==="accepted"&&a(!1),s(null)}catch{}},d=()=>{a(!1),localStorage.setItem("pwa-install-dismissed",Date.now().toString())};return n||!r||!t?null:e.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 bg-white border border-gray-200 rounded-lg shadow-lg p-4 z-50",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(Ee,{className:"w-5 h-5 text-blue-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"PCì— ë°”ë¡œê°€ê¸° ë§Œë“¤ê¸°"}),e.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"ë¦¬ì²´ ë§¤ë¬¼ì¥ì„ PC ë°”íƒ•í™”ë©´ì— ì„¤ì¹˜í•˜ì—¬ ë” í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•˜ì„¸ìš”."}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:c,className:"inline-flex items-center px-3 py-1.5 bg-blue-600 text-white text-xs font-medium rounded hover:bg-blue-700 transition-colors",children:[e.jsx(q,{className:"w-3 h-3 mr-1"}),"ì„¤ì¹˜í•˜ê¸°"]}),e.jsx("button",{onClick:d,className:"inline-flex items-center px-3 py-1.5 bg-gray-100 text-gray-700 text-xs font-medium rounded hover:bg-gray-200 transition-colors",children:"ë‚˜ì¤‘ì—"})]})]}),e.jsx("button",{onClick:d,className:"flex-shrink-0 p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Q,{className:"w-4 h-4"})})]})})},gt=()=>{const[t,s]=u.useState(null),[r,a]=u.useState(!1),[n,i]=u.useState(!1);u.useEffect(()=>{const d=m=>{m.preventDefault(),s(m),i(!0)},b=()=>{if(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches){a(!0);return}if(window.navigator.standalone===!0){a(!0);return}"serviceWorker"in navigator&&"BeforeInstallPromptEvent"in window&&i(!0)};return window.addEventListener("beforeinstallprompt",d),b(),()=>{window.removeEventListener("beforeinstallprompt",d)}},[]);const c=async()=>{if(!t){const d=navigator.userAgent.toLowerCase(),b=d.includes("ipad")||d.includes("iphone")||d.includes("ipod"),m=d.includes("android");alert(b?`iOS Safariì—ì„œ ì„¤ì¹˜í•˜ê¸°:

1. í•˜ë‹¨ì˜ ê³µìœ  ë²„íŠ¼(â¬†ï¸) í„°ì¹˜
2. "í™ˆ í™”ë©´ì— ì¶”ê°€" ì„ íƒ
3. "ì¶”ê°€" ë²„íŠ¼ í„°ì¹˜`:m?`Android Chromeì—ì„œ ì„¤ì¹˜í•˜ê¸°:

1. ìš°ìƒë‹¨ ë©”ë‰´(â‹®) í„°ì¹˜
2. "í™ˆ í™”ë©´ì— ì¶”ê°€" ë˜ëŠ” "ì•± ì„¤ì¹˜" ì„ íƒ`:`PCì—ì„œ ì„¤ì¹˜í•˜ê¸°:

1. Chrome/Edge ì£¼ì†Œì°½ ìš°ì¸¡ì˜ ì„¤ì¹˜ ì•„ì´ì½˜ í´ë¦­
2. ë˜ëŠ” ë¸Œë¼ìš°ì € ë©”ë‰´ì—ì„œ "ì•± ì„¤ì¹˜" ì„ íƒ`);return}try{await t.prompt();const{outcome:d}=await t.userChoice;d==="accepted"&&(a(!0),alert("âœ… ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ë°”íƒ•í™”ë©´ì—ì„œ ì•±ì„ í™•ì¸í•´ë³´ì„¸ìš”.")),s(null)}catch{alert('ì„¤ì¹˜ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì € ë©”ë‰´ì—ì„œ "ì•± ì„¤ì¹˜"ë¥¼ ì‹œë„í•´ë³´ì„¸ìš”.')}};return r?e.jsxs("div",{className:"inline-flex items-center px-3 py-2 bg-green-100 text-green-700 text-sm font-medium rounded-lg",children:[e.jsx("span",{className:"w-4 h-4 mr-2",children:"âœ…"}),"ì„¤ì¹˜ ì™„ë£Œ"]}):!n&&!t?e.jsxs("button",{onClick:c,className:"inline-flex items-center px-3 py-2 bg-gray-500 text-white text-sm font-medium rounded-lg hover:bg-gray-600 transition-colors",title:"ë¸Œë¼ìš°ì €ì—ì„œ ìˆ˜ë™ ì„¤ì¹˜ ë°©ë²•ì„ ì•ˆë‚´í•©ë‹ˆë‹¤",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"ì„¤ì¹˜ ë°©ë²• ë³´ê¸°"]}):e.jsxs("button",{onClick:c,className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors active:bg-blue-800",disabled:!1,children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"PCì— ì„¤ì¹˜"]})},Xe=({onBackToLogin:t})=>{const{signUp:s}=O(),[r,a]=u.useState(!1),[n,i]=u.useState(!1),[c,d]=u.useState(!1),[b,m]=u.useState(null),[v,p]=u.useState(null),[g,f]=u.useState({email:"",password:"",confirmPassword:"",name:"",company:""}),h=async l=>{if(l.preventDefault(),d(!0),m(null),p(null),g.password!==g.confirmPassword){m("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."),d(!1);return}if(g.password.length<8){m("ë¹„ë°€ë²ˆí˜¸ëŠ” 8ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤."),d(!1);return}const{error:o}=await s({email:g.email,password:g.password,name:g.name,company:g.company});o?o.message.includes("User already registered")?m("ì´ë¯¸ ë“±ë¡ëœ ì´ë©”ì¼ ì£¼ì†Œì…ë‹ˆë‹¤."):m(o.message):(p("íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ì´ë©”ì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”."),setTimeout(()=>{t()},3e3)),d(!1)},x=l=>{const{name:o,value:y}=l.target;f(j=>({...j,[o]:y})),m(null),p(null)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-blue-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-full text-white text-2xl font-bold mb-4",children:"ë¦¬"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"ë¦¬ì²´ ë§¤ë¬¼ì¥"}),e.jsx("p",{className:"text-gray-600",children:"ë¶€ë™ì‚° ì „ë¬¸ ê´€ë¦¬ ì†”ë£¨ì…˜"})]}),e.jsxs(Y,{className:"shadow-xl",children:[e.jsx(de,{children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(Ie,{size:20,className:"text-gray-600"})}),e.jsx(ue,{children:"íšŒì›ê°€ì…"})]})}),e.jsxs(me,{children:[e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-blue-50 border border-blue-200 rounded-lg text-blue-700",children:[e.jsx(M,{size:16}),e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{children:"ë² íƒ€ í…ŒìŠ¤íŠ¸ ì¤‘:"})," ì´ë©”ì¼ ì¸ì¦ ì—†ì´ ì¦‰ì‹œ ë¡œê·¸ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤."]})]}),b&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[e.jsx(ee,{size:16}),e.jsx("span",{className:"text-sm",children:b})]}),v&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700",children:[e.jsx(M,{size:16}),e.jsx("span",{className:"text-sm",children:v})]}),e.jsx("div",{children:e.jsx(E,{type:"text",name:"name",placeholder:"ì´ë¦„",value:g.name,onChange:x,leftIcon:e.jsx(te,{size:20}),required:!0})}),e.jsx("div",{children:e.jsx(E,{type:"text",name:"company",placeholder:"íšŒì‚¬ëª… (ì„ íƒì‚¬í•­)",value:g.company,onChange:x,leftIcon:e.jsx(ke,{size:20})})}),e.jsx("div",{children:e.jsx(E,{type:"email",name:"email",placeholder:"ì´ë©”ì¼ ì£¼ì†Œ",value:g.email,onChange:x,leftIcon:e.jsx(re,{size:20}),required:!0})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx(E,{type:r?"text":"password",name:"password",placeholder:"ë¹„ë°€ë²ˆí˜¸ (8ì ì´ìƒ)",value:g.password,onChange:x,leftIcon:e.jsx(B,{size:20}),required:!0}),e.jsx("button",{type:"button",onClick:()=>a(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?e.jsx(W,{size:20}):e.jsx($,{size:20})})]})}),e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx(E,{type:n?"text":"password",name:"confirmPassword",placeholder:"ë¹„ë°€ë²ˆí˜¸ í™•ì¸",value:g.confirmPassword,onChange:x,leftIcon:e.jsx(B,{size:20}),required:!0}),e.jsx("button",{type:"button",onClick:()=>i(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:n?e.jsx(W,{size:20}):e.jsx($,{size:20})})]})}),g.password&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:`h-1 flex-1 rounded ${g.password.length>=8?"bg-green-500":"bg-red-500"}`}),e.jsx("div",{className:`h-1 flex-1 rounded ${g.password.length>=12?"bg-green-500":"bg-gray-200"}`}),e.jsx("div",{className:`h-1 flex-1 rounded ${/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(g.password)?"bg-green-500":"bg-gray-200"}`})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"ìµœì†Œ 8ì, 12ì ì´ìƒ ë° íŠ¹ìˆ˜ë¬¸ì í¬í•¨ ê¶Œì¥"})]}),e.jsx(z,{type:"submit",variant:"primary",size:"lg",className:"w-full",loading:c,disabled:v!==null,children:"íšŒì›ê°€ì…"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”?"," ",e.jsx("button",{onClick:t,className:"text-primary-600 hover:text-primary-700 font-medium underline",children:"ë¡œê·¸ì¸"})]})})]})]}),e.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:e.jsx("p",{children:"Â© 2025 ë¦¬ì²´ ë§¤ë¬¼ì¥. All rights reserved."})})]})})},Qe=()=>{const{signIn:t,resetPassword:s}=O(),[r,a]=u.useState(!1),[n,i]=u.useState(!1),[c,d]=u.useState(!1),[b,m]=u.useState(!1),[v,p]=u.useState(null),[g,f]=u.useState(null),[h,x]=u.useState({email:"",password:""}),l=async y=>{if(y.preventDefault(),m(!0),p(null),f(null),n){const{error:j}=await s(h.email);j?p(j.message):(f("ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ì´ë©”ì¼ì„ ë³´ëƒˆìŠµë‹ˆë‹¤."),i(!1))}else{const{error:j}=await t(h);j&&p("ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.")}m(!1)},o=y=>{const{name:j,value:P}=y.target;x(C=>({...C,[j]:P})),p(null),f(null)};return r?e.jsx(Xe,{onBackToLogin:()=>a(!1)}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-blue-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-full text-white text-2xl font-bold mb-4",children:"ë¦¬"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"ë¦¬ì²´ ë§¤ë¬¼ì¥"}),e.jsx("p",{className:"text-gray-600",children:"ë¶€ë™ì‚° ì „ë¬¸ ê´€ë¦¬ ì†”ë£¨ì…˜"})]}),e.jsxs(Y,{className:"shadow-xl",children:[e.jsx(de,{children:e.jsx(ue,{className:"text-center",children:n?"ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •":"ë¡œê·¸ì¸"})}),e.jsxs(me,{children:[e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[v&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[e.jsx(ee,{size:16}),e.jsx("span",{className:"text-sm",children:v})]}),g&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700",children:[e.jsx(M,{size:16}),e.jsx("span",{className:"text-sm",children:g})]}),e.jsx("div",{children:e.jsx(E,{type:"email",name:"email",placeholder:"ì´ë©”ì¼ ì£¼ì†Œ",value:h.email,onChange:o,leftIcon:e.jsx(re,{size:20}),required:!0})}),!n&&e.jsx("div",{children:e.jsxs("div",{className:"relative",children:[e.jsx(E,{type:c?"text":"password",name:"password",placeholder:"ë¹„ë°€ë²ˆí˜¸",value:h.password,onChange:o,leftIcon:e.jsx(B,{size:20}),required:!0}),e.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?e.jsx(W,{size:20}):e.jsx($,{size:20})})]})}),e.jsx(z,{type:"submit",variant:"primary",size:"lg",className:"w-full",loading:b,children:n?"ì¬ì„¤ì • ì´ë©”ì¼ ì „ì†¡":"ë¡œê·¸ì¸"}),!n&&e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>i(!0),className:"text-sm text-primary-600 hover:text-primary-700 underline",children:"ë¹„ë°€ë²ˆí˜¸ë¥¼ ìŠìœ¼ì…¨ë‚˜ìš”?"})}),n&&e.jsx("div",{className:"text-center",children:e.jsx("button",{type:"button",onClick:()=>{i(!1),p(null),f(null)},className:"text-sm text-gray-600 hover:text-gray-700 underline",children:"ë¡œê·¸ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°"})})]}),!n&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”?"," ",e.jsx("button",{onClick:()=>a(!0),className:"text-primary-600 hover:text-primary-700 font-medium underline",children:"íšŒì›ê°€ì…"})]})})]})]}),e.jsx("div",{className:"text-center mt-8 text-sm text-gray-500",children:e.jsx("p",{children:"Â© 2025 ë¦¬ì²´ ë§¤ë¬¼ì¥. All rights reserved."})})]})})},et=({children:t,fallback:s=e.jsx(Qe,{})})=>{const{user:r,loading:a,signOut:n}=O(),i=async()=>{try{await n(),window.location.reload()}catch{localStorage.clear(),sessionStorage.clear(),window.location.reload()}};return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(A,{size:"lg",text:"ë¡œë”© ì¤‘..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"5ì´ˆ ì´ìƒ ë¡œë”©ì´ ì§€ì†ë˜ë©´ ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”"}),e.jsx("button",{onClick:i,className:"px-4 py-2 text-sm bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"ê°•ì œ ë¡œê·¸ì•„ì›ƒ"})]})}):r?e.jsx(e.Fragment,{children:t}):e.jsx(e.Fragment,{children:s})},tt=()=>{const{user:t,signOut:s}=O(),[r,a]=u.useState(!1),n=u.useRef(null);u.useEffect(()=>{const c=d=>{n.current&&!n.current.contains(d.target)&&a(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const i=async()=>{try{await s()}catch{}};return t?e.jsxs("div",{className:"relative",ref:n,children:[e.jsxs("button",{onClick:()=>a(!r),className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-400 to-primary-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:t.avatar_url?e.jsx("img",{src:t.avatar_url,alt:t.name,className:"w-8 h-8 rounded-full object-cover"}):t.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"text-left hidden md:block",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.role==="owner"?"ì—…ì²´ ëŒ€í‘œ":t.role==="manager"?"íŒ€ì¥/ì‹¤ì¥":t.role==="agent"?"ì¤‘ê°œì‚¬":"ì¡°íšŒì"})]}),e.jsx(X,{size:16,className:`text-gray-400 transition-transform hidden md:block ${r?"rotate-180":""}`})]}),r&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[e.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.email}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["ê°€ì…ì¼: ",new Date(t.created_at).toLocaleDateString()]})]}),e.jsxs("div",{className:"py-1",children:[e.jsxs("a",{href:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>a(!1),children:[e.jsx(te,{size:16,className:"mr-3"}),"ë‚´ í”„ë¡œí•„"]}),e.jsxs("a",{href:"/settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>a(!1),children:[e.jsx(se,{size:16,className:"mr-3"}),"ì„¤ì •"]})]}),e.jsx("div",{className:"border-t border-gray-100 my-1"}),e.jsxs("button",{onClick:i,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[e.jsx(ze,{size:16,className:"mr-3"}),"ë¡œê·¸ì•„ì›ƒ"]})]})]}):null},rt=({children:t})=>{const[s,r]=u.useState(!1),{tenant:a}=$e(),n=_e(),i=[{name:"ëŒ€ì‹œë³´ë“œ",href:"/",icon:D},{name:"ë§¤ë¬¼ ê´€ë¦¬",href:"/properties",icon:D},{name:"ì¼ì • ê´€ë¦¬",href:"/schedule",icon:Oe},{name:"íŒ€ ê´€ë¦¬",href:"/team",icon:Le},{name:"ì„¤ì •",href:"/settings",icon:se},{name:"ì‚¬ìš©ì„¤ëª…ì„œ",href:"/guide",icon:Re}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>r(!1)}),e.jsx("div",{className:S("sidebar fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transition-transform duration-300 ease-in-out lg:translate-x-0 hidden lg:block",s?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 px-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${a?.branding?.primary_color||"#3b82f6"}, ${a?.branding?.secondary_color||"#1d4ed8"})`},children:e.jsx(D,{size:18,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold",children:a?.name||"ë¦¬ì²´ ë§¤ë¬¼ì¥"}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a?.plan," í”Œëœ"]})]})]}),e.jsx("button",{onClick:()=>r(!1),className:"lg:hidden p-1 text-gray-400 hover:text-gray-600",children:e.jsx(Q,{size:20})})]}),e.jsx("div",{className:"p-4",children:e.jsx(R,{to:"/properties?create=true",children:e.jsx(z,{fullWidth:!0,variant:"tenant",leftIcon:e.jsx(J,{size:18}),className:"justify-center",children:"ë§¤ë¬¼ ë“±ë¡"})})}),e.jsx("nav",{className:"flex-1 px-4 space-y-1",children:i.map(c=>{const d=n.pathname===c.href;return e.jsxs(R,{to:c.href,className:S("nav-item flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors",d?"bg-primary-50 text-primary-700 border-primary-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[e.jsx(c.icon,{className:"w-5 h-5 mr-3"}),c.name]},c.name)})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-500 space-y-2",children:[e.jsxs("div",{children:[e.jsxs("p",{children:["ë§¤ë¬¼: ",a?.limits.max_properties||0,"ê°œ ì œí•œ"]}),e.jsxs("p",{children:["ì‚¬ìš©ì: ",a?.limits.max_users||0,"ëª… ì œí•œ"]})]}),e.jsxs("div",{className:"pt-2 border-t border-gray-300 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"ê°œë°œíšŒì‚¬:"})," ë¦¬ì²´ë¶€ë™ì‚°"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ëŒ€í‘œ:"})," ê¹€ì„ ë¯¸ ê³µì¸ì¤‘ê°œì‚¬"]})]})]})})]})}),e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-lg pb-safe",children:e.jsx("div",{className:"grid grid-cols-6 h-16 bg-white",children:i.map(c=>{const d=n.pathname===c.href;return e.jsxs(R,{to:c.href,className:S("nav-item flex flex-col items-center justify-center px-1 py-2 text-xs font-medium transition-all duration-200 touch-manipulation active:scale-95","min-h-[44px] relative",d?"text-primary-600 bg-primary-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"),children:[d&&e.jsx("div",{className:"absolute top-0 left-1/2 w-8 h-1 bg-primary-600 rounded-b-full transform -translate-x-1/2"}),e.jsx(c.icon,{size:18,className:"mb-1 flex-shrink-0"}),e.jsx("span",{className:"truncate text-center leading-tight max-w-full",children:c.name.split(" ")[0]})]},c.name)})})}),e.jsxs("div",{className:"lg:ml-64",children:[e.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 sm:px-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3 lg:hidden",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${a?.branding?.primary_color||"#3b82f6"}, ${a?.branding?.secondary_color||"#1d4ed8"})`},children:e.jsx(D,{size:16,className:"text-white"})}),e.jsx("h2",{className:"text-lg font-semibold",children:a?.name||"ë¦¬ì²´ ë§¤ë¬¼ì¥"})]}),e.jsx("h2",{className:"hidden lg:block text-lg font-semibold",children:"ë§¤ë¬¼ì¥"})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[e.jsx(R,{to:"/properties?create=true",className:"lg:hidden",children:e.jsx(z,{size:"sm",variant:"tenant",leftIcon:e.jsx(J,{size:16}),className:"px-3 py-2",children:"ë“±ë¡"})}),e.jsx(tt,{})]})]}),e.jsx("main",{className:"p-4 sm:p-6 pb-24 lg:pb-6 min-h-screen",children:t})]})]})};class st extends I.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md p-8 bg-white rounded-lg shadow-lg text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"ì•± ì˜¤ë¥˜ ë°œìƒ"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ ë³´ì„¸ìš”."}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"ìƒˆë¡œê³ ì¹¨"}),e.jsxs("details",{className:"text-left",children:[e.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer",children:"ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­ ë³´ê¸°"}),e.jsx("pre",{className:"text-xs text-red-600 mt-2 p-2 bg-red-50 rounded overflow-auto",children:this.state.error?.stack})]})]})]})}):this.props.children}}const he=u.lazy(()=>k(()=>import("./DashboardPage-Gc2csVC3.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])).then(t=>({default:t.DashboardPage}))),fe=u.lazy(()=>k(()=>import("./PropertiesPageNew-0QVnuA8h.js"),__vite__mapDeps([11,1,2,3,4,5,6,7,10])).then(t=>({default:t.PropertiesPageNew}))),ge=u.lazy(()=>k(()=>import("./SchedulePage-PVAish2P.js"),__vite__mapDeps([12,1,2,3,4,9,6,10]))),pe=u.lazy(()=>k(()=>import("./TeamPage-DQRuCvxI.js"),__vite__mapDeps([13,1,8,3,4,10])).then(t=>({default:t.TeamPage}))),ye=u.lazy(()=>k(()=>import("./SettingsPage-C2g9OnGt.js"),__vite__mapDeps([14,1,2,3,4,10])).then(t=>({default:t.SettingsPage}))),be=u.lazy(()=>k(()=>import("./UserGuidePage-B_McU1_u.js"),__vite__mapDeps([15,1,3,4,10])).then(t=>({default:t.UserGuidePage}))),at=u.lazy(()=>k(()=>import("./InvitationAccept-CyEq9UwJ.js"),__vite__mapDeps([16,1,3,4,10])).then(t=>({default:t.InvitationAccept})));function nt(){return e.jsx(st,{children:e.jsx(Be,{children:e.jsx(We,{children:e.jsx(Ne,{children:e.jsxs(V,{children:[e.jsx(N,{path:"/team/invite",element:e.jsx(u.Suspense,{fallback:e.jsx(A,{}),children:e.jsx(at,{})})}),e.jsx(N,{path:"/*",element:e.jsx(et,{children:e.jsxs(rt,{children:[e.jsx(u.Suspense,{fallback:e.jsx(A,{}),children:e.jsxs(V,{children:[e.jsx(N,{path:"/",element:e.jsx(he,{})}),e.jsx(N,{path:"/properties",element:e.jsx(fe,{})}),e.jsx(N,{path:"/schedule",element:e.jsx(ge,{})}),e.jsx(N,{path:"/team",element:e.jsx(pe,{})}),e.jsx(N,{path:"/settings",element:e.jsx(ye,{})}),e.jsx(N,{path:"/guide",element:e.jsx(be,{})}),e.jsx(N,{path:"/tenant/:tenantSlug/*",element:e.jsx(it,{})}),e.jsx(N,{path:"*",element:e.jsx(Se,{to:"/",replace:!0})})]})}),e.jsx(He,{})]})})})]})})})})})}const it=()=>e.jsx(u.Suspense,{fallback:e.jsx(A,{}),children:e.jsxs(V,{children:[e.jsx(N,{path:"/",element:e.jsx(he,{})}),e.jsx(N,{path:"/properties",element:e.jsx(fe,{})}),e.jsx(N,{path:"/schedule",element:e.jsx(ge,{})}),e.jsx(N,{path:"/team",element:e.jsx(pe,{})}),e.jsx(N,{path:"/settings",element:e.jsx(ye,{})}),e.jsx(N,{path:"/guide",element:e.jsx(be,{})})]})}),lt=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ot(t){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const r="/sw.js";lt?(ct(r,t),navigator.serviceWorker.ready.then(()=>{})):ve(r,t)})}window.addEventListener("online",()=>{}),window.addEventListener("offline",()=>{})}function ve(t,s){navigator.serviceWorker.register(t).then(r=>{r.onupdatefound=()=>{const a=r.installing;a!=null&&(a.onstatechange=()=>{a.state==="installed"&&(navigator.serviceWorker.controller?s?.onUpdate?.(r):s?.onSuccess?.(r))})}}).catch(r=>{})}function ct(t,s){fetch(t,{headers:{"Service-Worker":"script"}}).then(r=>{const a=r.headers.get("content-type");r.status===404||a!=null&&a.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(n=>{n.unregister().then(()=>{window.location.reload()})}):ve(t,s)}).catch(()=>{})}F.createRoot(document.getElementById("root")).render(e.jsx(I.StrictMode,{children:e.jsx(nt,{})}));ot({onSuccess:()=>{},onUpdate:()=>{confirm(`ìƒˆë¡œìš´ ë²„ì „ì´ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤. ì§€ê¸ˆ ì—…ë°ì´íŠ¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?
(í˜ì´ì§€ê°€ ìƒˆë¡œê³ ì¹¨ë©ë‹ˆë‹¤)`)&&window.location.reload()},onOffline:()=>{},onOnline:()=>{}});export{xe as B,Y as C,E as I,A as L,ft as P,Ke as S,de as a,ue as b,me as c,O as d,z as e,gt as f,S as g,e as j,w as l,_ as s,$e as u};
