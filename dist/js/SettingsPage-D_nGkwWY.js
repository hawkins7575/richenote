import{s as W,d as Z,u as J,j as e,e as b,L as $,S as B,B as I,I as P,f as ge}from"./index-DERAfINP.js";import{r as j}from"./react-vendor-DS3Z5Hf_.js";import{M,a as ee}from"./useProperties-psuaV-IP.js";import{_ as je}from"./supabase-vendor-CCigGT7m.js";import{a as K,Q as A,F as G,D as L,b as se,y as fe,R as U,V as Ne,W as O,Y as V,n as Y}from"./ui-vendor-DnkZPEX2.js";import"./utils-vendor-BJeS7sC5.js";const te=async(l,c,a)=>{const x=[],h=[];for(let n=0;n<l.length;n++){const t=l[n];try{const m=ye(t,n+1);if(m){x.push(m);continue}const{data:f,error:k}=await W.from("properties").insert({tenant_id:c,created_by:a,...t,view_count:0,inquiry_count:0,is_featured:!1,is_urgent:!1,is_favorite:!1}).select().single();if(k){x.push({row:n+1,message:`데이터베이스 오류: ${k.message}`,data:t});continue}f&&h.push(f)}catch(m){x.push({row:n+1,message:`처리 중 오류: ${m instanceof Error?m.message:"알 수 없는 오류"}`,data:t})}}return{success:h.length,failed:l.length-h.length,errors:x,importedProperties:h}},le=(l,c)=>{const a={title:"매물명",type:"매물유형",transaction_type:"거래유형",status:"매물상태",address:"주소",detailed_address:"상세주소",area:"면적(m²)",floor:"층",total_floors:"총층수",rooms:"방수",bathrooms:"화장실수",parking:"주차가능",elevator:"엘리베이터",price:"매매가(만원)",deposit:"보증금(만원)",monthly_rent:"월세(만원)",maintenance_fee:"관리비(만원)",landlord_name:"임대인명",landlord_phone:"임대인 연락처",landlord_email:"임대인 이메일",exit_date:"퇴실날짜",available_from:"입주가능일",description:"설명",view_count:"조회수",inquiry_count:"문의수",created_at:"등록일",updated_at:"수정일"},x=c.map(n=>a[n]||n),h=l.map(n=>c.map(t=>{const m=re(n,t);return`"${String(m).replace(/"/g,'""')}"`}));return[x,...h].map(n=>n.join(",")).join(`
`)},ae=(l,c)=>{const a={title:"매물명",type:"매물유형",transaction_type:"거래유형",status:"매물상태",address:"주소",detailed_address:"상세주소",area:"면적",floor:"층",total_floors:"총층수",rooms:"방수",bathrooms:"화장실수",parking:"주차가능",elevator:"엘리베이터",price:"매매가",deposit:"보증금",monthly_rent:"월세",maintenance_fee:"관리비",landlord_name:"임대인명",landlord_phone:"임대인 연락처",landlord_email:"임대인 이메일",exit_date:"퇴실날짜",available_from:"입주가능일",description:"설명",view_count:"조회수",inquiry_count:"문의수",created_at:"등록일",updated_at:"수정일"},x=l.map(h=>{const n={};return c.forEach(t=>{const m=a[t]||t;n[m]=re(h,t)}),n});return JSON.stringify({exportDate:new Date().toISOString(),totalRecords:x.length,data:x},null,2)},re=(l,c)=>{const a=l[c];if(a==null)return"";switch(c){case"parking":case"elevator":return typeof a=="boolean"?a?"있음":"없음":"";case"price":case"deposit":case"monthly_rent":case"maintenance_fee":return typeof a=="number"?a.toLocaleString():"";case"created_at":case"updated_at":case"exit_date":case"available_from":return typeof a=="string"?new Date(a).toLocaleDateString("ko-KR"):"";default:return typeof a=="object"&&a!==null?Array.isArray(a)?a.join(", "):JSON.stringify(a):typeof a=="string"||typeof a=="number"||typeof a=="boolean"?a:String(a)}},ye=(l,c)=>{const a=["title","type","transaction_type","address","area","floor","total_floors","rooms","bathrooms"];for(const t of a){const m=l[t];if(m==null||m==="")return{row:c,field:t,message:`필수 필드 '${t}'가 누락되었습니다.`}}const x=["area","floor","total_floors","rooms","bathrooms","price","deposit","monthly_rent"];for(const t of x){const m=l[t];if(m!=null&&m!==""&&(typeof m!="number"||isNaN(m)||m<0))return{row:c,field:t,message:`'${t}'는 유효한 양수여야 합니다.`}}const h=["아파트","오피스텔","원룸","빌라","단독주택","상가","사무실","기타"];if(!h.includes(l.type))return{row:c,field:"type",message:`매물 유형은 다음 중 하나여야 합니다: ${h.join(", ")}`};const n=["매매","전세","월세","단기임대"];if(!n.includes(l.transaction_type))return{row:c,field:"transaction_type",message:`거래 유형은 다음 중 하나여야 합니다: ${n.join(", ")}`};if(l.exit_date){const t=new Date(l.exit_date);if(isNaN(t.getTime()))return{row:c,field:"exit_date",message:"퇴실날짜는 유효한 날짜 형식이어야 합니다. (예: 2024-12-31)"}}return null},ie=(l,c=10)=>{const a=c*1024*1024;return l.size<=a},de=l=>{const c=["text/csv","application/vnd.ms-excel","text/tab-separated-values"],a=[".csv",".tsv",".txt"];return c.includes(l.type)||a.some(x=>l.name.toLowerCase().endsWith(x))},ve=()=>[["매물명","매물유형","거래유형","주소","상세주소","면적","층","총층수","방수","화장실수","주차","엘리베이터","매매가","보증금","월세","임대인명","연락처","퇴실일","설명"],["강남 신축 아파트","아파트","전세","서울시 강남구 역삼동","123-45","84.5","15","25","3","2","있음","있음","","50000","","홍길동","010-1234-5678","2024-12-31","역세권 3분거리 신축아파트"]].map(a=>a.map(x=>`"${x}"`).join(",")).join(`
`),we=Object.freeze(Object.defineProperty({__proto__:null,formatAsCSV:le,formatAsJSON:ae,generateTemplateCSV:ve,importProperties:te,validateFileFormat:de,validateFileSize:ie},Symbol.toStringTag,{value:"Module"})),_e=["title","type","transaction_type","address","area","floor","total_floors","rooms","bathrooms"],ke={매물명:"title",제목:"title",매물유형:"type",유형:"type",거래유형:"transaction_type",거래:"transaction_type",주소:"address",상세주소:"detailed_address",면적:"area",전용면적:"area",층:"floor",해당층:"floor",총층수:"total_floors",전체층:"total_floors",방수:"rooms",방:"rooms",화장실수:"bathrooms",화장실:"bathrooms",주차:"parking",주차가능:"parking",엘리베이터:"elevator",엘베:"elevator",매매가:"price",가격:"price",보증금:"deposit",월세:"monthly_rent",월임대료:"monthly_rent",임대인명:"landlord_name",임대인:"landlord_name",연락처:"landlord_phone",전화번호:"landlord_phone",퇴실일:"exit_date",퇴실날짜:"exit_date",설명:"description",비고:"description"},X=["아파트","오피스텔","원룸","빌라","단독주택","상가","사무실","기타"],H=["매매","전세","월세","단기임대"],Se=({isOpen:l,onClose:c,onImportComplete:a})=>{const{user:x}=Z();let h=x?.id?{id:x.id,name:"PropertyDesk"}:null,n=!1;try{const d=J();d?.tenant?.id&&(h=d.tenant,n=d?.isLoading||!1)}catch{}const t=j.useRef(null),[m,f]=j.useState("upload"),[k,T]=j.useState(null),[S,N]=j.useState([]),[C,q]=j.useState(null),[E,D]=j.useState(!1),[s,i]=j.useState(null),g=d=>{const r=d.target.files?.[0];if(r){if(!ie(r,10)){i("파일 크기는 10MB를 초과할 수 없습니다.");return}if(!de(r)){i("CSV 파일만 지원합니다.");return}T(r),i(null),y(r)}},y=async d=>{D(!0),i(null);try{const r=await d.text();let o;if(d.name.endsWith(".csv"))o=v(r);else if(d.name.endsWith(".tsv")||d.name.endsWith(".txt"))o=ne(r);else throw new Error("지원하지 않는 파일 형식입니다. CSV 파일만 지원합니다.");if(o.length<2)throw new Error("데이터가 부족합니다. 헤더와 최소 1개의 데이터 행이 필요합니다.");const p=o[0].map(z=>z.trim()),_=o.slice(1).map((z,u)=>ce(z,p,u+2));N(_),f("preview")}catch(r){const o=r instanceof Error?r.message:"파일 파싱 중 오류가 발생했습니다.";i(o)}finally{D(!1)}},v=d=>{const r=[],o=d.split(/\r?\n/);for(const p of o)if(p.trim()){const w=[];let _="",z=!1;for(let u=0;u<p.length;u++){const F=p[u];F==='"'?z=!z:F===","&&!z?(w.push(_.trim()),_=""):_+=F}w.push(_.trim()),r.push(w)}return r},ne=d=>d.split(/\r?\n/).filter(r=>r.trim()).map(r=>r.split("	").map(o=>o.trim())),ce=(d,r,o)=>{const p=[],w={status:"거래중"};return r.forEach((_,z)=>{const u=d[z]?.trim();if(!u)return;const F=ke[_];if(F)try{switch(F){case"type":X.includes(u)?w.type=u:p.push(`매물유형 '${u}'는 유효하지 않습니다. (${X.join(", ")})`);break;case"transaction_type":H.includes(u)?w.transaction_type=u:p.push(`거래유형 '${u}'는 유효하지 않습니다. (${H.join(", ")})`);break;case"area":case"floor":case"total_floors":case"rooms":case"bathrooms":case"price":case"deposit":case"monthly_rent":const R=parseFloat(u.replace(/[,\s]/g,""));!isNaN(R)&&R>0?w[F]=R:p.push(`${_} '${u}'는 유효한 숫자가 아닙니다.`);break;case"parking":case"elevator":const be=["true","1","yes","y","있음","가능","o","O"].includes(u.toLowerCase());w[F]=be;break;case"exit_date":oe(u)?w.exit_date=xe(u):p.push(`퇴실일 '${u}'는 유효한 날짜 형식이 아닙니다. (YYYY-MM-DD 형식 사용)`);break;default:w[F]=u;break}}catch(R){p.push(`${_} 처리 중 오류: ${R}`)}}),_e.forEach(_=>{w[_]||p.push(`필수 필드 '${_}'가 누락되었습니다.`)}),{row:o,data:w,errors:p}},oe=d=>{const r=new Date(d);return!isNaN(r.getTime())},xe=d=>new Date(d).toISOString().split("T")[0],me=async()=>{if(!n){if(!h?.id||!x?.id){i("인증 정보가 없습니다.");return}f("importing"),D(!0);try{const d=S.filter(o=>o.errors.length===0).map(o=>o.data),r=await te(d,h.id,x.id);q(r),f("complete"),r.importedProperties.length>0&&a(r.importedProperties)}catch(d){const r=d instanceof Error?d.message:"가져오기 중 오류가 발생했습니다.";i(r)}finally{D(!1)}}},he=()=>{je(async()=>{const{generateTemplateCSV:d}=await Promise.resolve().then(()=>we);return{generateTemplateCSV:d}},void 0).then(({generateTemplateCSV:d})=>{const r=d(),o=new Blob(["\uFEFF"+r],{type:"text/csv;charset=utf-8;"}),p=document.createElement("a");p.href=URL.createObjectURL(o),p.download="매물_가져오기_템플릿.csv",p.click(),URL.revokeObjectURL(p.href)})},pe=()=>{f("upload"),T(null),N([]),q(null),i(null),D(!1),t.current&&(t.current.value="")},Q=()=>{pe(),c()},ue=()=>{switch(m){case"upload":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(A,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"매물 데이터 가져오기"}),e.jsx("p",{className:"text-gray-600",children:"CSV 파일을 업로드하여 여러 매물을 한번에 등록하세요"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-400 transition-colors",children:[e.jsx("input",{ref:t,type:"file",accept:".csv,.tsv,.txt",onChange:g,className:"hidden"}),e.jsx(b,{onClick:()=>t.current?.click(),leftIcon:e.jsx(G,{size:20}),size:"lg",disabled:E,children:E?"파일 분석 중...":"CSV 파일 선택"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"CSV 파일만 지원합니다 (최대 10MB)"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(b,{variant:"outline",onClick:he,leftIcon:e.jsx(L,{size:18}),children:"템플릿 다운로드"})})]}),k&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900",children:k.name}),e.jsxs("p",{className:"text-sm text-blue-600",children:["크기: ",(k.size/1024).toFixed(1),"KB"]})]})]})}),s&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(se,{className:"h-5 w-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-900",children:"오류"}),e.jsx("p",{className:"text-sm text-red-600",children:s})]})]})}),E&&e.jsx("div",{className:"text-center py-4",children:e.jsx($,{size:"md",text:"파일을 분석하고 있습니다..."})})]});case"preview":const d=S.filter(o=>o.errors.length===0),r=S.filter(o=>o.errors.length>0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(K,{className:"mx-auto h-12 w-12 text-green-600 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"데이터 미리보기"}),e.jsxs("p",{className:"text-gray-600",children:[S.length,"개 행을 분석했습니다"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.length}),e.jsx("div",{className:"text-sm text-green-800",children:"가져올 수 있는 매물"})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.length}),e.jsx("div",{className:"text-sm text-red-800",children:"오류가 있는 매물"})]})]}),r.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-red-900",children:"오류 내역:"}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 max-h-40 overflow-y-auto",children:[r.slice(0,10).map((o,p)=>e.jsxs("div",{className:"text-sm text-red-800 mb-2",children:[e.jsxs("strong",{children:["행 ",o.row,":"]})," ",o.errors.join(", ")]},p)),r.length>10&&e.jsxs("div",{className:"text-sm text-red-600",children:["...외 ",r.length-10,"개 오류"]})]})]}),e.jsxs("div",{className:"flex justify-between space-x-3",children:[e.jsx(b,{variant:"outline",onClick:()=>f("upload"),children:"다시 선택"}),e.jsx(b,{onClick:me,disabled:d.length===0||E||n,leftIcon:E?e.jsx($,{size:"sm"}):e.jsx(A,{size:18}),children:n?"테넌트 정보 로딩 중...":`${d.length}개 매물 가져오기`})]})]});case"importing":return e.jsxs("div",{className:"space-y-6 text-center py-8",children:[e.jsx($,{size:"lg"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"매물을 가져오는 중..."}),e.jsx("p",{className:"text-gray-600",children:"잠시만 기다려주세요. 매물 데이터를 처리하고 있습니다."})]})]});case"complete":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(K,{className:"mx-auto h-12 w-12 text-green-600 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"가져오기 완료"})]}),C&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:C.success}),e.jsx("div",{className:"text-sm text-green-800",children:"성공"})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:C.failed}),e.jsx("div",{className:"text-sm text-red-800",children:"실패"})]})]}),C.errors.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-red-900",children:"오류 내역:"}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 max-h-40 overflow-y-auto",children:[C.errors.slice(0,10).map((o,p)=>e.jsxs("div",{className:"text-sm text-red-800 mb-2",children:[e.jsxs("strong",{children:["행 ",o.row,":"]})," ",o.message]},p)),C.errors.length>10&&e.jsxs("div",{className:"text-sm text-red-600",children:["...외 ",C.errors.length-10,"개 오류"]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(b,{onClick:Q,children:"완료"})})]});default:return null}};return e.jsx(M,{isOpen:l,onClose:Q,title:"데이터 가져오기",size:"lg",children:ue()})},Ce={format:"csv",includeFields:["title","type","transaction_type","status","address","area","floor","total_floors","rooms","bathrooms","parking","elevator","price","deposit","monthly_rent","landlord_name","landlord_phone","exit_date","created_at"],dateRange:"all",propertyStatus:"all",propertyType:"all"},De=[{id:"title",label:"매물명",required:!0},{id:"type",label:"매물유형",required:!0},{id:"transaction_type",label:"거래유형",required:!0},{id:"status",label:"매물상태",required:!1},{id:"address",label:"주소",required:!0},{id:"detailed_address",label:"상세주소",required:!1},{id:"area",label:"면적(m²)",required:!0},{id:"floor",label:"층",required:!0},{id:"total_floors",label:"총층수",required:!0},{id:"rooms",label:"방수",required:!0},{id:"bathrooms",label:"화장실수",required:!0},{id:"parking",label:"주차가능",required:!1},{id:"elevator",label:"엘리베이터",required:!1},{id:"price",label:"매매가(만원)",required:!1},{id:"deposit",label:"보증금(만원)",required:!1},{id:"monthly_rent",label:"월세(만원)",required:!1},{id:"maintenance_fee",label:"관리비(만원)",required:!1},{id:"landlord_name",label:"임대인명",required:!1},{id:"landlord_phone",label:"임대인 연락처",required:!1},{id:"landlord_email",label:"임대인 이메일",required:!1},{id:"exit_date",label:"퇴실날짜",required:!1},{id:"available_from",label:"입주가능일",required:!1},{id:"description",label:"설명",required:!1},{id:"view_count",label:"조회수",required:!1},{id:"inquiry_count",label:"문의수",required:!1},{id:"created_at",label:"등록일",required:!1},{id:"updated_at",label:"수정일",required:!1}],Ee=({isOpen:l,onClose:c})=>{const{user:a}=Z();let x=a?.id?{id:a.id,name:"PropertyDesk"}:null,h=!1;try{const s=J();s?.tenant?.id&&(x=s.tenant,h=s?.isLoading||!1)}catch{}const{properties:n}=ee(),[t,m]=j.useState(Ce),[f,k]=j.useState(!1),[T,S]=j.useState(null),N=s=>{m(i=>({...i,...s}))},C=()=>n?n.filter(s=>{if(t.propertyStatus!=="all"&&s.status!==t.propertyStatus||t.propertyType!=="all"&&s.type!==t.propertyType)return!1;if(t.dateRange!=="all"){const i=new Date(s.created_at),g=new Date;switch(t.dateRange){case"thisMonth":if(i.getMonth()!==g.getMonth()||i.getFullYear()!==g.getFullYear())return!1;break;case"lastMonth":const y=new Date(g.getFullYear(),g.getMonth()-1);if(i.getMonth()!==y.getMonth()||i.getFullYear()!==y.getFullYear())return!1;break;case"custom":if(t.customDateFrom&&i<new Date(t.customDateFrom)||t.customDateTo&&i>new Date(t.customDateTo+"T23:59:59"))return!1;break}}return!0}):[],q=(s,i,g)=>{const y=new Blob(["\uFEFF"+s],{type:`${g};charset=utf-8;`}),v=document.createElement("a");v.href=URL.createObjectURL(y),v.download=i,v.click(),URL.revokeObjectURL(v.href)},E=async()=>{if(!h){if(!x?.id){S("테넌트 정보가 없습니다. 페이지를 새로고침 후 다시 시도해주세요.");return}k(!0),S(null);try{const s=C();if(s.length===0){S("선택한 조건에 맞는 매물이 없습니다. 필터 조건을 확인해보세요.");return}const i=new Date().toISOString().slice(0,19).replace(/[:-]/g,"").replace("T","_");let g,y,v;switch(t.format){case"csv":case"excel":y=le(s,t.includeFields),g=`매물데이터_${i}.csv`,v="text/csv";break;case"json":y=ae(s,t.includeFields),g=`매물데이터_${i}.json`,v="application/json";break;default:throw new Error("지원하지 않는 파일 형식입니다.")}q(y,g,v),setTimeout(()=>{c()},1e3)}catch(s){const i=s instanceof Error?s.message:"내보내기 중 오류가 발생했습니다.";S(i)}finally{k(!1)}}},D=C();return h?e.jsx(M,{isOpen:l,onClose:c,title:"데이터 내보내기",size:"lg",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[e.jsx($,{size:"lg"}),e.jsx("p",{className:"text-gray-600",children:"테넌트 정보를 불러오는 중..."})]})}):e.jsx(M,{isOpen:l,onClose:c,title:"데이터 내보내기",size:"lg",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(L,{className:"mx-auto h-12 w-12 text-blue-600 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"매물 데이터 내보내기"}),e.jsx("p",{className:"text-gray-600",children:"필요한 매물 정보를 선택하여 파일로 내보내세요"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"파일 형식"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"csv",label:"CSV",desc:"엑셀에서 열기 가능"},{value:"json",label:"JSON",desc:"프로그래밍용"},{value:"excel",label:"Excel",desc:"마이크로소프트 엑셀"}].map(s=>e.jsxs("button",{onClick:()=>N({format:s.value}),className:`p-3 border-2 rounded-lg text-center transition-all ${t.format===s.value?"border-blue-500 bg-blue-50 text-blue-900":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"font-medium",children:s.label}),e.jsx("div",{className:"text-xs text-gray-500",children:s.desc})]},s.value))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"날짜 범위"}),e.jsx(B,{value:t.dateRange,onChange:s=>N({dateRange:s.target.value}),options:[{value:"all",label:"전체 기간"},{value:"thisMonth",label:"이번 달"},{value:"lastMonth",label:"지난 달"},{value:"custom",label:"사용자 지정"}]}),t.dateRange==="custom"&&e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"시작일"}),e.jsx("input",{type:"date",value:t.customDateFrom||"",onChange:s=>N({customDateFrom:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"종료일"}),e.jsx("input",{type:"date",value:t.customDateTo||"",onChange:s=>N({customDateTo:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"매물 상태"}),e.jsx(B,{value:t.propertyStatus,onChange:s=>N({propertyStatus:s.target.value}),options:[{value:"all",label:"전체"},{value:"거래중",label:"거래중"},{value:"거래완료",label:"거래완료"}]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"매물 유형"}),e.jsx(B,{value:t.propertyType,onChange:s=>N({propertyType:s.target.value}),options:[{value:"all",label:"전체"},{value:"아파트",label:"아파트"},{value:"오피스텔",label:"오피스텔"},{value:"원룸",label:"원룸"},{value:"빌라",label:"빌라"},{value:"기타",label:"기타"}]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"포함할 정보 선택"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-48 overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-2 gap-2",children:De.map(s=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.includeFields.includes(s.id),disabled:s.required,onChange:i=>{i.target.checked?N({includeFields:[...t.includeFields,s.id]}):N({includeFields:t.includeFields.filter(g=>g!==s.id)})},className:"rounded text-blue-600"}),e.jsxs("span",{className:`text-sm ${s.required?"font-medium text-gray-900":"text-gray-700"}`,children:[s.label,s.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]},s.id))})}),e.jsx("p",{className:"text-xs text-gray-500",children:"* 표시는 필수 필드로 항상 포함됩니다"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(G,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900",children:"내보내기 미리보기"}),e.jsxs("div",{className:"text-sm text-blue-800 mt-1 space-y-1",children:[e.jsxs("p",{children:["• 총 매물 수: ",D.length,"개"]}),e.jsxs("p",{children:["• 선택된 필드: ",t.includeFields.length,"개"]}),e.jsxs("p",{children:["• 파일 형식: ",t.format.toUpperCase()]})]})]})]})}),T&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(se,{className:"h-5 w-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-900",children:"오류"}),e.jsx("p",{className:"text-sm text-red-600",children:T})]})]})})]}),e.jsxs("div",{className:"flex justify-between space-x-3",children:[e.jsx(b,{variant:"outline",onClick:c,children:"취소"}),e.jsx(b,{onClick:E,disabled:f||h||!x?.id||D.length===0,leftIcon:f?e.jsx($,{size:"sm"}):e.jsx(L,{size:18}),children:f?"내보내는 중...":h?"테넌트 정보 로딩 중...":x?.id?`${D.length}개 매물 내보내기`:"테넌트 정보 없음"})]})]})})},Ie=()=>{const{tenant:l}=J(),{refreshProperties:c}=ee(),[a,x]=j.useState("general"),[h,n]=j.useState(!1),[t,m]=j.useState(!1),[f,k]=j.useState(!1),[T,S]=j.useState(!1),N=[{id:"general",label:"일반 설정",icon:fe},{id:"billing",label:"결제 및 요금제",icon:U},{id:"branding",label:"브랜딩",icon:Ne},{id:"notifications",label:"알림 설정",icon:O}],C=[{value:"starter",label:"스타터 (19,000원/월)",price:19e3},{value:"professional",label:"프로페셔널 (39,000원/월)",price:39e3},{value:"business",label:"비즈니스 (69,000원/월)",price:69e3},{value:"enterprise",label:"엔터프라이즈 (99,000원/월)",price:99e3}],q=async()=>{if(!l?.id){alert("테넌트 정보가 없습니다.");return}try{m(!0),Object.keys(localStorage).forEach(v=>{v.startsWith("property_status_")&&localStorage.removeItem(v)});const{data:i,error:g}=await W.from("properties").select("id").eq("tenant_id",l.id);if(g)throw new Error(`매물 조회 실패: ${g.message}`);if(!i||i.length===0){alert("삭제할 매물이 없습니다."),n(!1);return}const{error:y}=await W.from("properties").delete().eq("tenant_id",l.id);if(y)throw new Error(`매물 삭제 실패: ${y.message}`);await c(),n(!1),alert(`✅ ${i.length}개의 샘플 매물이 성공적으로 삭제되었습니다!`)}catch(s){const i=s instanceof Error?s.message:"알 수 없는 오류가 발생했습니다.";alert(`❌ 데이터 초기화 실패: ${i}`)}finally{m(!1)}},E=s=>{c()},D=()=>{switch(a){case"general":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 sm:p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"기본 정보"}),e.jsx(b,{leftIcon:e.jsx(Y,{size:18}),size:"lg",className:"h-12 px-6 text-base",children:"변경사항 저장"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3",children:"회사명"}),e.jsx(P,{defaultValue:l?.name||"PropertyDesk",placeholder:"회사명을 입력하세요",className:"text-base h-12 bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3",children:"도메인 주소"}),e.jsx(P,{defaultValue:l?.slug||"propertydesk",placeholder:"도메인 주소",readOnly:!0,className:"bg-gray-100 text-base h-12"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3",children:"회사 소개"}),e.jsx("textarea",{className:"w-full p-4 sm:p-5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none text-base bg-white",rows:4,placeholder:"회사 소개를 입력하세요",defaultValue:"부동산 전문 관리 솔루션 PropertyDesk입니다."})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3",children:"대표 전화번호"}),e.jsx(P,{placeholder:"02-1234-5678",defaultValue:"02-1234-5678",className:"text-base h-12 bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3",children:"대표 이메일"}),e.jsx(P,{type:"email",placeholder:"contact@propertydesk.com",defaultValue:"contact@propertydesk.com",className:"text-base h-12 bg-white"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 sm:p-8 border border-blue-200",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6",children:"앱 설치"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg p-6 border border-blue-300",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl text-gray-900 mb-3",children:"PC에 바로가기 만들기"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-700 leading-relaxed",children:"리체 매물장을 PC 바탕화면에 설치하여 더 편리하게 사용하세요."})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ge,{})})]})}),e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-blue-300",children:[e.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-4",children:"💡 PWA 설치 혜택"}),e.jsxs("ul",{className:"space-y-3 text-base text-gray-700",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"브라우저 없이 독립 실행"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"더 빠른 로딩 속도"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"오프라인 일부 기능 사용"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{children:"푸시 알림 수신 가능"})]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 sm:p-8",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6",children:"데이터 관리"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsx(b,{variant:"outline",leftIcon:e.jsx(A,{size:20}),size:"lg",onClick:()=>k(!0),className:"h-16 text-base font-semibold bg-white hover:bg-green-50 border-2 hover:border-green-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{children:"데이터 가져오기"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Excel, CSV 파일 지원"})]})}),e.jsx(b,{variant:"outline",leftIcon:e.jsx(L,{size:20}),size:"lg",onClick:()=>S(!0),className:"h-16 text-base font-semibold bg-white hover:bg-blue-50 border-2 hover:border-blue-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{children:"데이터 내보내기"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"백업 및 분석용"})]})}),e.jsx(b,{variant:"destructive",leftIcon:e.jsx(V,{size:20}),onClick:()=>n(!0),size:"lg",className:"h-16 text-base font-semibold",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{children:"샘플 데이터 초기화"}),e.jsx("div",{className:"text-xs text-red-100 mt-1",children:"복구 불가능"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-blue-100 border-l-4 border-blue-500 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-blue-600 text-2xl",children:"💡"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg text-blue-900 mb-2",children:"샘플 데이터 초기화"}),e.jsx("p",{className:"text-base text-blue-800 leading-relaxed",children:"회원가입 시 제공된 샘플 매물 데이터를 모두 삭제하여 깨끗한 상태에서 시작할 수 있습니다."})]})]})}),e.jsx("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-yellow-600 text-2xl",children:"⚠️"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg text-yellow-900 mb-2",children:"중요 주의사항"}),e.jsx("p",{className:"text-base text-yellow-800 leading-relaxed",children:"초기화된 데이터는 복구할 수 없습니다. 실제 매물 데이터를 등록하기 전에 진행해주세요."})]})]})})]})]})]})]});case"billing":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary-50 via-blue-50 to-indigo-50 rounded-xl p-6 sm:p-8 border border-primary-200",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6",children:"현재 플랜"}),l&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg p-6 border border-primary-300 shadow-sm",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:[l.plan.charAt(0).toUpperCase()+l.plan.slice(1)," ","플랜"]}),e.jsxs("p",{className:"text-base sm:text-lg text-gray-700",children:["매물 ",l.limits.max_properties,"개 · 팀원"," ",l.limits.max_users,"명 · 스토리지"," ",l.limits.max_storage_gb,"GB"]})]}),e.jsxs("div",{className:"text-left lg:text-right",children:[e.jsx(I,{variant:"tenant",size:"lg",className:"text-base px-4 py-2",children:l.status==="trial"?"체험 중":"활성 상태"}),l.trial_ends_at&&e.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mt-2",children:["체험 종료:"," ",new Date(l.trial_ends_at).toLocaleDateString()]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-6 sm:p-8 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-primary-600 mb-2",children:"156"}),e.jsx("p",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-1",children:"사용 중인 매물"}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-500",children:["/ ",l.limits.max_properties,"개 제한"]}),e.jsx("div",{className:"mt-3 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:`${156/l.limits.max_properties*100}%`}})})]}),e.jsxs("div",{className:"text-center p-6 sm:p-8 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-green-600 mb-2",children:"8"}),e.jsx("p",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-1",children:"팀원 수"}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-500",children:["/ ",l.limits.max_users,"명 제한"]}),e.jsx("div",{className:"mt-3 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${8/l.limits.max_users*100}%`}})})]}),e.jsxs("div",{className:"text-center p-6 sm:p-8 bg-white rounded-lg border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-600 mb-2",children:"2.3"}),e.jsx("p",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-1",children:"스토리지 사용량"}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-500",children:["/ ",l.limits.max_storage_gb,"GB 제한"]}),e.jsx("div",{className:"mt-3 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${2.3/l.limits.max_storage_gb*100}%`}})})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 sm:p-8",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6",children:"플랜 변경"}),e.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:C.map(s=>e.jsxs("div",{className:`p-6 sm:p-8 border-2 rounded-xl cursor-pointer transition-all duration-200 bg-white ${l?.plan===s.value?"border-primary-500 shadow-lg ring-2 ring-primary-100":"border-gray-200 hover:border-primary-300 hover:shadow-md"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-bold text-xl sm:text-2xl text-gray-900",children:s.label.split(" (")[0]}),l?.plan===s.value&&e.jsx(I,{variant:"primary",size:"lg",className:"text-sm px-3 py-1",children:"현재 플랜"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("span",{className:"text-3xl sm:text-4xl font-bold text-gray-900",children:[s.price.toLocaleString(),"원"]}),e.jsx("span",{className:"text-lg text-gray-500 ml-1",children:"/월"})]}),l?.plan!==s.value&&e.jsx(b,{size:"lg",variant:"outline",className:"w-full h-12 text-base font-semibold",children:"이 플랜으로 변경"})]},s.value))})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 sm:p-8",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-6",children:"결제 정보"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white p-6 sm:p-8 rounded-lg border border-gray-200 shadow-sm",children:e.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded flex items-center justify-center",children:e.jsx(U,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[e.jsx("span",{className:"font-bold text-lg text-gray-900",children:"등록된 카드"}),e.jsx(I,{variant:"success",size:"sm",className:"text-sm",children:"활성"})]}),e.jsx("p",{className:"text-gray-600 text-lg font-mono",children:"•••• •••• •••• 4567"}),e.jsx("p",{className:"text-base text-gray-500",children:"만료일: 12/25"})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(b,{variant:"outline",size:"lg",className:"h-14 text-base font-semibold bg-white hover:bg-blue-50 border-2 hover:border-blue-300",children:[e.jsx(U,{size:20,className:"mr-2"}),"결제 수단 변경"]}),e.jsxs(b,{variant:"outline",size:"lg",className:"h-14 text-base font-semibold bg-white hover:bg-green-50 border-2 hover:border-green-300",children:[e.jsx(L,{size:20,className:"mr-2"}),"결제 내역 보기"]})]})]})]})]});case"branding":return e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 sm:p-8 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"브랜드 설정"}),e.jsx(b,{leftIcon:e.jsx(Y,{size:20}),size:"lg",className:"h-12 px-6 text-base",children:"브랜드 설정 저장"})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 border border-purple-200 shadow-sm",children:[e.jsx("label",{className:"block text-lg sm:text-xl font-bold text-gray-800 mb-4",children:"로고 업로드"}),e.jsxs("div",{className:"border-3 border-dashed border-purple-300 rounded-xl p-8 sm:p-10 text-center hover:border-purple-400 transition-colors cursor-pointer",children:[e.jsx(A,{className:"mx-auto h-16 w-16 sm:h-20 sm:w-20 text-purple-400 mb-4"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-700 font-medium mb-2",children:"이미지를 드래그하거나 클릭하여 업로드"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"PNG, JPG 파일 / 최대 2MB"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 border border-purple-200 shadow-sm",children:[e.jsx("label",{className:"block text-lg sm:text-xl font-bold text-gray-800 mb-4",children:"브랜드 컬러"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-700 mb-3",children:"주 컬러"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"color",defaultValue:"#3b82f6",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg border-2 border-gray-300 cursor-pointer"}),e.jsx(P,{defaultValue:"#3b82f6",placeholder:"#3b82f6",className:"flex-1 text-base h-12 bg-gray-50"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-700 mb-3",children:"보조 컬러"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"color",defaultValue:"#1d4ed8",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-lg border-2 border-gray-300 cursor-pointer"}),e.jsx(P,{defaultValue:"#1d4ed8",placeholder:"#1d4ed8",className:"flex-1 text-base h-12 bg-gray-50"})]})]})]})]})]}),e.jsxs("div",{className:"mt-8 bg-white rounded-lg p-6 sm:p-8 border border-purple-200 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl text-gray-900 mb-4",children:"브랜드 미리보기"}),e.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-blue-50 rounded-lg p-6 sm:p-8 border border-primary-200",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-primary-600 rounded-full flex items-center justify-center text-white font-bold text-xl sm:text-2xl shadow-lg",children:"P"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-xl sm:text-2xl text-gray-900",children:"PropertyDesk"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1",children:"새로운 브랜드 스타일 적용"})]})]})})]})]})});case"notifications":return e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-teal-50 rounded-xl p-6 sm:p-8 border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"알림 설정"}),e.jsx(b,{leftIcon:e.jsx(Y,{size:20}),size:"lg",className:"h-12 px-6 text-base",children:"알림 설정 저장"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg p-6 sm:p-8 border border-green-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{className:"w-6 h-6 text-green-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl text-gray-900 mb-1",children:"새로운 매물 등록"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"매물이 새로 등록될 때 알림을 받습니다"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-base font-medium",children:"이메일"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-base font-medium",children:"앱 알림"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 sm:p-8 border border-green-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{className:"w-6 h-6 text-blue-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl text-gray-900 mb-1",children:"계약 완료"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"계약이 완료될 때 알림을 받습니다"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-base font-medium",children:"이메일"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-base font-medium",children:"앱 알림"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 sm:p-8 border border-green-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{className:"w-6 h-6 text-purple-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl text-gray-900 mb-1",children:"팀원 초대"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"새로운 팀원이 초대될 때 알림을 받습니다"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-base font-medium",children:"이메일"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-base font-medium",children:"앱 알림"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg p-6 sm:p-8 border border-green-200 shadow-sm",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(O,{className:"w-6 h-6 text-orange-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl text-gray-900 mb-1",children:"시스템 업데이트"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-600",children:"시스템 업데이트 및 유지보수 알림을 받습니다"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-base font-medium",children:"이메일"})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-base font-medium",children:"앱 알림"})]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg p-6 sm:p-8 border border-green-200 shadow-sm",children:[e.jsx("h3",{className:"font-bold text-lg sm:text-xl text-gray-900 mb-6",children:"알림 시간 설정"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3",children:"알림 시작 시간"}),e.jsx(P,{type:"time",defaultValue:"09:00",className:"text-base h-14 bg-gray-50 text-lg font-mono"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-base sm:text-lg font-semibold text-gray-800 mb-3",children:"알림 종료 시간"}),e.jsx(P,{type:"time",defaultValue:"18:00",className:"text-base h-14 bg-gray-50 text-lg font-mono"})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-base text-blue-800",children:["💡 ",e.jsx("strong",{children:"알림 시간 안내:"})," 설정된 시간 외에는 긴급하지 않은 알림이 발송되지 않습니다."]})})]})]})]})});default:return null}};return e.jsxs("div",{className:"max-w-none space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg p-6 sm:p-8 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-3 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"설정"}),e.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-2",children:"시스템 설정을 관리하고 커스터마이징할 수 있습니다"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(I,{variant:"success",size:"lg",className:"text-sm",children:l?.status==="trial"?"체험 중":"활성 상태"}),e.jsxs(I,{variant:"primary",size:"lg",className:"text-sm",children:[l?.plan||"Professional"," 플랜"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex overflow-x-auto px-6 sm:px-8 scrollbar-hide",children:N.map(s=>{const i=s.icon;return e.jsxs("button",{onClick:()=>x(s.id),className:`flex items-center space-x-2 py-5 px-4 sm:px-6 border-b-2 font-medium text-base sm:text-lg transition-colors whitespace-nowrap min-w-max touch-target ${a===s.id?"border-primary-500 text-primary-600 bg-primary-50":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsx(i,{size:22,className:"flex-shrink-0"}),e.jsx("span",{className:"hidden sm:inline",children:s.label}),e.jsx("span",{className:"sm:hidden text-sm font-medium",children:s.label.split(" ")[0]})]},s.id)})})}),e.jsx("div",{className:"px-6 sm:px-8 py-6 sm:py-8",children:D()})]}),e.jsx(M,{isOpen:h,onClose:()=>n(!1),title:"샘플 데이터 초기화",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(V,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"정말로 샘플 데이터를 초기화하시겠습니까?"}),e.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[e.jsx("p",{children:"이 작업을 수행하면:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[e.jsx("li",{children:"모든 샘플 매물 데이터가 삭제됩니다"}),e.jsx("li",{children:"매물 상태 정보가 초기화됩니다"}),e.jsx("li",{children:"삭제된 데이터는 복구할 수 없습니다"})]})]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"참고:"})," 초기화 후에는 깨끗한 상태에서 실제 매물 데이터를 등록할 수 있습니다."]})}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(b,{variant:"outline",onClick:()=>n(!1),disabled:t,children:"취소"}),e.jsx(b,{variant:"destructive",onClick:q,disabled:t,leftIcon:t?e.jsx(V,{size:16,className:"animate-spin"}):e.jsx(V,{size:16}),children:t?"초기화 중...":"초기화 실행"})]})]})}),e.jsx(Se,{isOpen:f,onClose:()=>k(!1),onImportComplete:E}),e.jsx(Ee,{isOpen:T,onClose:()=>S(!1)})]})};export{Ie as SettingsPage};
